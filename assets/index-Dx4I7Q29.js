(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function L1(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var l=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return s[a]}})}),r}var hf={exports:{}},Ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function B1(){if(e0)return Ia;e0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:c,ref:l!==void 0?l:null,props:u}}return Ia.Fragment=t,Ia.jsx=r,Ia.jsxs=r,Ia}var t0;function I1(){return t0||(t0=1,hf.exports=B1()),hf.exports}var w=I1(),df={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function z1(){if(n0)return Ve;n0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function C(G,$,B){this.props=G,this.context=$,this.refs=T,this.updater=B||S}C.prototype.isReactComponent={},C.prototype.setState=function(G,$){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,$,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function b(){}b.prototype=C.prototype;function R(G,$,B){this.props=G,this.context=$,this.refs=T,this.updater=B||S}var D=R.prototype=new b;D.constructor=R,j(D,C.prototype),D.isPureReactComponent=!0;var F=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function X(G,$,B,Z,ne,fe){return B=fe.ref,{$$typeof:s,type:G,key:$,ref:B!==void 0?B:null,props:fe}}function le(G,$){return X(G.type,$,void 0,void 0,void 0,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===s}function ae(G){var $={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(B){return $[B]})}var ce=/\/+/g;function z(G,$){return typeof G=="object"&&G!==null&&G.key!=null?ae(""+G.key):$.toString(36)}function re(){}function N(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(re,re):(G.status="pending",G.then(function($){G.status==="pending"&&(G.status="fulfilled",G.value=$)},function($){G.status==="pending"&&(G.status="rejected",G.reason=$)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function J(G,$,B,Z,ne){var fe=typeof G;(fe==="undefined"||fe==="boolean")&&(G=null);var te=!1;if(G===null)te=!0;else switch(fe){case"bigint":case"string":case"number":te=!0;break;case"object":switch(G.$$typeof){case s:case t:te=!0;break;case m:return te=G._init,J(te(G._payload),$,B,Z,ne)}}if(te)return ne=ne(G),te=Z===""?"."+z(G,0):Z,F(ne)?(B="",te!=null&&(B=te.replace(ce,"$&/")+"/"),J(ne,$,B,"",function(ie){return ie})):ne!=null&&(L(ne)&&(ne=le(ne,B+(ne.key==null||G&&G.key===ne.key?"":(""+ne.key).replace(ce,"$&/")+"/")+te)),$.push(ne)),1;te=0;var O=Z===""?".":Z+":";if(F(G))for(var k=0;k<G.length;k++)Z=G[k],fe=O+z(Z,k),te+=J(Z,$,B,fe,ne);else if(k=_(G),typeof k=="function")for(G=k.call(G),k=0;!(Z=G.next()).done;)Z=Z.value,fe=O+z(Z,k++),te+=J(Z,$,B,fe,ne);else if(fe==="object"){if(typeof G.then=="function")return J(N(G),$,B,Z,ne);throw $=String(G),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return te}function V(G,$,B){if(G==null)return G;var Z=[],ne=0;return J(G,Z,"","",function(fe){return $.call(B,fe,ne++)}),Z}function Y(G){if(G._status===-1){var $=G._result;$=$(),$.then(function(B){(G._status===0||G._status===-1)&&(G._status=1,G._result=B)},function(B){(G._status===0||G._status===-1)&&(G._status=2,G._result=B)}),G._status===-1&&(G._status=0,G._result=$)}if(G._status===1)return G._result.default;throw G._result}var ge=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function ue(){}return Ve.Children={map:V,forEach:function(G,$,B){V(G,function(){$.apply(this,arguments)},B)},count:function(G){var $=0;return V(G,function(){$++}),$},toArray:function(G){return V(G,function($){return $})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ve.Component=C,Ve.Fragment=r,Ve.Profiler=l,Ve.PureComponent=R,Ve.StrictMode=a,Ve.Suspense=d,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(G){return I.H.useMemoCache(G)}},Ve.cache=function(G){return function(){return G.apply(null,arguments)}},Ve.cloneElement=function(G,$,B){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Z=j({},G.props),ne=G.key,fe=void 0;if($!=null)for(te in $.ref!==void 0&&(fe=void 0),$.key!==void 0&&(ne=""+$.key),$)!se.call($,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&$.ref===void 0||(Z[te]=$[te]);var te=arguments.length-2;if(te===1)Z.children=B;else if(1<te){for(var O=Array(te),k=0;k<te;k++)O[k]=arguments[k+2];Z.children=O}return X(G.type,ne,void 0,void 0,fe,Z)},Ve.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:u,_context:G},G},Ve.createElement=function(G,$,B){var Z,ne={},fe=null;if($!=null)for(Z in $.key!==void 0&&(fe=""+$.key),$)se.call($,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=$[Z]);var te=arguments.length-2;if(te===1)ne.children=B;else if(1<te){for(var O=Array(te),k=0;k<te;k++)O[k]=arguments[k+2];ne.children=O}if(G&&G.defaultProps)for(Z in te=G.defaultProps,te)ne[Z]===void 0&&(ne[Z]=te[Z]);return X(G,fe,void 0,void 0,null,ne)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(G){return{$$typeof:f,render:G}},Ve.isValidElement=L,Ve.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:Y}},Ve.memo=function(G,$){return{$$typeof:p,type:G,compare:$===void 0?null:$}},Ve.startTransition=function(G){var $=I.T,B={};I.T=B;try{var Z=G(),ne=I.S;ne!==null&&ne(B,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ue,ge)}catch(fe){ge(fe)}finally{I.T=$}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(G){return I.H.use(G)},Ve.useActionState=function(G,$,B){return I.H.useActionState(G,$,B)},Ve.useCallback=function(G,$){return I.H.useCallback(G,$)},Ve.useContext=function(G){return I.H.useContext(G)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(G,$){return I.H.useDeferredValue(G,$)},Ve.useEffect=function(G,$,B){var Z=I.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(G,$)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(G,$,B){return I.H.useImperativeHandle(G,$,B)},Ve.useInsertionEffect=function(G,$){return I.H.useInsertionEffect(G,$)},Ve.useLayoutEffect=function(G,$){return I.H.useLayoutEffect(G,$)},Ve.useMemo=function(G,$){return I.H.useMemo(G,$)},Ve.useOptimistic=function(G,$){return I.H.useOptimistic(G,$)},Ve.useReducer=function(G,$,B){return I.H.useReducer(G,$,B)},Ve.useRef=function(G){return I.H.useRef(G)},Ve.useState=function(G){return I.H.useState(G)},Ve.useSyncExternalStore=function(G,$,B){return I.H.useSyncExternalStore(G,$,B)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.1.1",Ve}var r0;function $h(){return r0||(r0=1,df.exports=z1()),df.exports}var pe=$h();const xh=Fl(pe);var pf={exports:{}},za={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function P1(){return i0||(i0=1,(function(s){function t(V,Y){var ge=V.length;V.push(Y);e:for(;0<ge;){var ue=ge-1>>>1,G=V[ue];if(0<l(G,Y))V[ue]=Y,V[ge]=G,ge=ue;else break e}}function r(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var Y=V[0],ge=V.pop();if(ge!==Y){V[0]=ge;e:for(var ue=0,G=V.length,$=G>>>1;ue<$;){var B=2*(ue+1)-1,Z=V[B],ne=B+1,fe=V[ne];if(0>l(Z,ge))ne<G&&0>l(fe,Z)?(V[ue]=fe,V[ne]=ge,ue=ne):(V[ue]=Z,V[B]=ge,ue=B);else if(ne<G&&0>l(fe,ge))V[ue]=fe,V[ne]=ge,ue=ne;else break e}}return Y}function l(V,Y){var ge=V.sortIndex-Y.sortIndex;return ge!==0?ge:V.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var d=[],p=[],m=1,x=null,_=3,S=!1,j=!1,T=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F(V){for(var Y=r(p);Y!==null;){if(Y.callback===null)a(p);else if(Y.startTime<=V)a(p),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=r(p)}}function I(V){if(T=!1,F(V),!j)if(r(d)!==null)j=!0,se||(se=!0,z());else{var Y=r(p);Y!==null&&J(I,Y.startTime-V)}}var se=!1,X=-1,le=5,L=-1;function ae(){return C?!0:!(s.unstable_now()-L<le)}function ce(){if(C=!1,se){var V=s.unstable_now();L=V;var Y=!0;try{e:{j=!1,T&&(T=!1,R(X),X=-1),S=!0;var ge=_;try{t:{for(F(V),x=r(d);x!==null&&!(x.expirationTime>V&&ae());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,_=x.priorityLevel;var G=ue(x.expirationTime<=V);if(V=s.unstable_now(),typeof G=="function"){x.callback=G,F(V),Y=!0;break t}x===r(d)&&a(d),F(V)}else a(d);x=r(d)}if(x!==null)Y=!0;else{var $=r(p);$!==null&&J(I,$.startTime-V),Y=!1}}break e}finally{x=null,_=ge,S=!1}Y=void 0}}finally{Y?z():se=!1}}}var z;if(typeof D=="function")z=function(){D(ce)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,N=re.port2;re.port1.onmessage=ce,z=function(){N.postMessage(null)}}else z=function(){b(ce,0)};function J(V,Y){X=b(function(){V(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(V){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var ge=_;_=Y;try{return V()}finally{_=ge}},s.unstable_requestPaint=function(){C=!0},s.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ge=_;_=V;try{return Y()}finally{_=ge}},s.unstable_scheduleCallback=function(V,Y,ge){var ue=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ue+ge:ue):ge=ue,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ge+G,V={id:m++,callback:Y,priorityLevel:V,startTime:ge,expirationTime:G,sortIndex:-1},ge>ue?(V.sortIndex=ge,t(p,V),r(d)===null&&V===r(p)&&(T?(R(X),X=-1):T=!0,J(I,ge-ue))):(V.sortIndex=G,t(d,V),j||S||(j=!0,se||(se=!0,z()))),V},s.unstable_shouldYield=ae,s.unstable_wrapCallback=function(V){var Y=_;return function(){var ge=_;_=Y;try{return V.apply(this,arguments)}finally{_=ge}}}})(gf)),gf}var s0;function F1(){return s0||(s0=1,mf.exports=P1()),mf.exports}var yf={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function H1(){if(a0)return Xt;a0=1;var s=$h();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(d,p,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:d,containerInfo:p,implementation:m}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(d,p,null,m)},Xt.flushSync=function(d){var p=c.T,m=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=p,a.p=m,a.d.f()}},Xt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(d,p))},Xt.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Xt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,x=f(m,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?a.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:S}):m==="script"&&a.d.X(d,{crossOrigin:x,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=f(p.as,p.crossOrigin);a.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(d)},Xt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,x=f(m,p.crossOrigin);a.d.L(d,m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=f(p.as,p.crossOrigin);a.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(d)},Xt.requestFormReset=function(d){a.d.r(d)},Xt.unstable_batchedUpdates=function(d,p){return d(p)},Xt.useFormState=function(d,p,m){return c.H.useFormState(d,p,m)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.1.1",Xt}var o0;function q1(){if(o0)return yf.exports;o0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yf.exports=H1(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function $1(){if(l0)return za;l0=1;var s=F1(),t=$h(),r=q1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(a(188))}function d(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,o=n;;){var h=i.return;if(h===null)break;var g=h.alternate;if(g===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===i)return f(h),e;if(g===o)return f(h),n;g=g.sibling}throw Error(a(188))}if(i.return!==o.return)i=h,o=g;else{for(var M=!1,H=h.child;H;){if(H===i){M=!0,i=h,o=g;break}if(H===o){M=!0,o=h,i=g;break}H=H.sibling}if(!M){for(H=g.child;H;){if(H===i){M=!0,i=g,o=h;break}if(H===o){M=!0,o=g,i=h;break}H=H.sibling}if(!M)throw Error(a(189))}}if(i.alternate!==o)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function N(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case se:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case D:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:N(e.type)||"Memo";case le:n=e._payload,e=e._init;try{return N(e(n))}catch{}}return null}var J=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ue=[],G=-1;function $(e){return{current:e}}function B(e){0>G||(e.current=ue[G],ue[G]=null,G--)}function Z(e,n){G++,ue[G]=e.current,e.current=n}var ne=$(null),fe=$(null),te=$(null),O=$(null);function k(e,n){switch(Z(te,n),Z(fe,e),Z(ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jg(n),e=Ng(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ne),Z(ne,e)}function ie(){B(ne),B(fe),B(te)}function Q(e){e.memoizedState!==null&&Z(O,e);var n=ne.current,i=Ng(n,e.type);n!==i&&(Z(fe,e),Z(ne,i))}function q(e){fe.current===e&&(B(ne),B(fe)),O.current===e&&(B(O),Da._currentValue=ge)}var W=Object.prototype.hasOwnProperty,be=s.unstable_scheduleCallback,A=s.unstable_cancelCallback,ye=s.unstable_shouldYield,U=s.unstable_requestPaint,y=s.unstable_now,v=s.unstable_getCurrentPriorityLevel,E=s.unstable_ImmediatePriority,P=s.unstable_UserBlockingPriority,ee=s.unstable_NormalPriority,K=s.unstable_LowPriority,de=s.unstable_IdlePriority,Te=s.log,Se=s.unstable_setDisableYieldValue,Ce=null,De=null;function Ue(e){if(typeof Te=="function"&&Se(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ce,e)}catch{}}var Pe=Math.clz32?Math.clz32:nt,et=Math.log,Le=Math.LN2;function nt(e){return e>>>=0,e===0?32:31-(et(e)/Le|0)|0}var He=256,at=4194304;function xt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vt(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var h=0,g=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var H=o&134217727;return H!==0?(o=H&~g,o!==0?h=xt(o):(M&=H,M!==0?h=xt(M):i||(i=H&~e,i!==0&&(h=xt(i))))):(H=o&~g,H!==0?h=xt(H):M!==0?h=xt(M):i||(i=o&~e,i!==0&&(h=xt(i)))),h===0?0:n!==0&&n!==h&&(n&g)===0&&(g=h&-h,i=n&-n,g>=i||g===32&&(i&4194048)!==0)?n:h}function It(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function un(){var e=He;return He<<=1,(He&4194048)===0&&(He=256),e}function cn(){var e=at;return at<<=1,(at&62914560)===0&&(at=4194304),e}function Fn(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function en(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vt(e,n,i,o,h,g){var M=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var H=e.entanglements,oe=e.expirationTimes,we=e.hiddenUpdates;for(i=M&~i;0<i;){var Ae=31-Pe(i),Ne=1<<Ae;H[Ae]=0,oe[Ae]=-1;var xe=we[Ae];if(xe!==null)for(we[Ae]=null,Ae=0;Ae<xe.length;Ae++){var _e=xe[Ae];_e!==null&&(_e.lane&=-536870913)}i&=~Ne}o!==0&&so(e,o,0),g!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=g&~(M&~n))}function so(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function Fs(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Pe(i),h=1<<o;h&n|e[o]&n&&(e[o]|=n),i&=~h}}function Xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hs(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Wg(e.type))}function qs(e,n){var i=Y.p;try{return Y.p=e,n()}finally{Y.p=i}}var wr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+wr,tn="__reactProps$"+wr,Ai="__reactContainer$"+wr,ru="__reactEvents$"+wr,Aw="__reactListeners$"+wr,kw="__reactHandles$"+wr,gd="__reactResources$"+wr,$s="__reactMarker$"+wr;function iu(e){delete e[Wt],delete e[tn],delete e[ru],delete e[Aw],delete e[kw]}function ki(e){var n=e[Wt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ai]||i[Wt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Dg(e);e!==null;){if(i=e[Wt])return i;e=Dg(e)}return n}e=i,i=e.parentNode}return null}function ji(e){if(e=e[Wt]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gs(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ni(e){var n=e[gd];return n||(n=e[gd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(e){e[$s]=!0}var yd=new Set,vd={};function Zr(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(vd[e]=n,e=0;e<n.length;e++)yd.add(n[e])}var jw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},bd={};function Nw(e){return W.call(bd,e)?!0:W.call(wd,e)?!1:jw.test(e)?bd[e]=!0:(wd[e]=!0,!1)}function ao(e,n,i){if(Nw(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function oo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Jn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var su,xd;function Ci(e){if(su===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);su=n&&n[1]||"",xd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+e+xd}var au=!1;function ou(e,n){if(!e||au)return"";au=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(_e){var xe=_e}Reflect.construct(e,[],Ne)}else{try{Ne.call()}catch(_e){xe=_e}e.call(Ne.prototype)}}else{try{throw Error()}catch(_e){xe=_e}(Ne=e())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(_e){if(_e&&xe&&typeof _e.stack=="string")return[_e.stack,xe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),M=g[0],H=g[1];if(M&&H){var oe=M.split(`
`),we=H.split(`
`);for(h=o=0;o<oe.length&&!oe[o].includes("DetermineComponentFrameRoot");)o++;for(;h<we.length&&!we[h].includes("DetermineComponentFrameRoot");)h++;if(o===oe.length||h===we.length)for(o=oe.length-1,h=we.length-1;1<=o&&0<=h&&oe[o]!==we[h];)h--;for(;1<=o&&0<=h;o--,h--)if(oe[o]!==we[h]){if(o!==1||h!==1)do if(o--,h--,0>h||oe[o]!==we[h]){var Ae=`
`+oe[o].replace(" at new "," at ");return e.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",e.displayName)),Ae}while(1<=o&&0<=h);break}}}finally{au=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ci(i):""}function Rw(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ou(e.type,!1);case 11:return ou(e.type.render,!1);case 1:return ou(e.type,!0);case 31:return Ci("Activity");default:return""}}function _d(e){try{var n="";do n+=Rw(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cw(e){var n=Sd(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,g=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(M){o=""+M,g.call(this,M)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(M){o=""+M},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function lo(e){e._valueTracker||(e._valueTracker=Cw(e))}function Ed(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Sd(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ow=/[\n"\\]/g;function xn(e){return e.replace(Ow,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lu(e,n,i,o,h,g,M,H){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),n!=null?M==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bn(n)):e.value!==""+bn(n)&&(e.value=""+bn(n)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),n!=null?uu(e,M,bn(n)):i!=null?uu(e,M,bn(i)):o!=null&&e.removeAttribute("value"),h==null&&g!=null&&(e.defaultChecked=!!g),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?e.name=""+bn(H):e.removeAttribute("name")}function Td(e,n,i,o,h,g,M,H){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;i=i!=null?""+bn(i):"",n=n!=null?""+bn(n):i,H||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=H?e.checked:!!o,e.defaultChecked=!!o,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M)}function uu(e,n,i){n==="number"&&uo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Oi(e,n,i,o){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+bn(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ad(e,n,i){if(n!=null&&(n=""+bn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+bn(i):""}function kd(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(a(92));if(J(o)){if(1<o.length)throw Error(a(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=bn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function Di(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jd(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Dw.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Nd(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&i[h]!==o&&jd(e,h,o)}else for(var g in n)n.hasOwnProperty(g)&&jd(e,g,n[g])}function cu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return Mw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var fu=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,Mi=null;function Rd(e){var n=ji(e);if(n&&(e=n.stateNode)){var i=e[tn]||null;e:switch(e=n.stateNode,n.type){case"input":if(lu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var h=o[tn]||null;if(!h)throw Error(a(90));lu(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Ed(o)}break e;case"textarea":Ad(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Oi(e,!!i.multiple,n,!1)}}}var du=!1;function Cd(e,n,i){if(du)return e(n,i);du=!0;try{var o=e(n);return o}finally{if(du=!1,(Ui!==null||Mi!==null)&&(Xo(),Ui&&(n=Ui,e=Mi,Mi=Ui=null,Rd(n),e)))for(n=0;n<e.length;n++)Rd(e[n])}}function Ks(e,n){var i=e.stateNode;if(i===null)return null;var o=i[tn]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(er)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{pu=!1}var br=null,mu=null,fo=null;function Od(){if(fo)return fo;var e,n=mu,i=n.length,o,h="value"in br?br.value:br.textContent,g=h.length;for(e=0;e<i&&n[e]===h[e];e++);var M=i-e;for(o=1;o<=M&&n[i-o]===h[g-o];o++);return fo=h.slice(e,1<o?1-o:void 0)}function ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Dd(){return!1}function nn(e){function n(i,o,h,g,M){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=g,this.target=M,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(i=e[H],this[H]=i?i(g):g[H]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?po:Dd,this.isPropagationStopped=Dd,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),n}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=nn(Qr),Ws=m({},Qr,{view:0,detail:0}),Lw=nn(Ws),gu,yu,Ys,go=m({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(gu=e.screenX-Ys.screenX,yu=e.screenY-Ys.screenY):yu=gu=0,Ys=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),Ud=nn(go),Bw=m({},go,{dataTransfer:0}),Iw=nn(Bw),zw=m({},Ws,{relatedTarget:0}),vu=nn(zw),Pw=m({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=nn(Pw),Hw=m({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qw=nn(Hw),$w=m({},Qr,{data:0}),Md=nn($w),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ww(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vw[e])?!!n[e]:!1}function wu(){return Ww}var Yw=m({},Ws,{key:function(e){if(e.key){var n=Gw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xw=nn(Yw),Zw=m({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=nn(Zw),Qw=m({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),Jw=nn(Qw),eb=m({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=nn(eb),nb=m({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=nn(nb),ib=m({},Qr,{newState:0,oldState:0}),sb=nn(ib),ab=[9,13,27,32],bu=er&&"CompositionEvent"in window,Xs=null;er&&"documentMode"in document&&(Xs=document.documentMode);var ob=er&&"TextEvent"in window&&!Xs,Bd=er&&(!bu||Xs&&8<Xs&&11>=Xs),Id=" ",zd=!1;function Pd(e,n){switch(e){case"keyup":return ab.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function lb(e,n){switch(e){case"compositionend":return Fd(n);case"keypress":return n.which!==32?null:(zd=!0,Id);case"textInput":return e=n.data,e===Id&&zd?null:e;default:return null}}function ub(e,n){if(Li)return e==="compositionend"||!bu&&Pd(e,n)?(e=Od(),fo=mu=br=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bd&&n.locale!=="ko"?null:n.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cb[e.type]:n==="textarea"}function qd(e,n,i,o){Ui?Mi?Mi.push(o):Mi=[o]:Ui=o,n=nl(n,"onChange"),0<n.length&&(i=new mo("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var Zs=null,Qs=null;function fb(e){Sg(e,0)}function yo(e){var n=Gs(e);if(Ed(n))return e}function $d(e,n){if(e==="change")return n}var Gd=!1;if(er){var xu;if(er){var _u="oninput"in document;if(!_u){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),_u=typeof Kd.oninput=="function"}xu=_u}else xu=!1;Gd=xu&&(!document.documentMode||9<document.documentMode)}function Vd(){Zs&&(Zs.detachEvent("onpropertychange",Wd),Qs=Zs=null)}function Wd(e){if(e.propertyName==="value"&&yo(Qs)){var n=[];qd(n,Qs,e,hu(e)),Cd(fb,n)}}function hb(e,n,i){e==="focusin"?(Vd(),Zs=n,Qs=i,Zs.attachEvent("onpropertychange",Wd)):e==="focusout"&&Vd()}function db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(Qs)}function pb(e,n){if(e==="click")return yo(n)}function mb(e,n){if(e==="input"||e==="change")return yo(n)}function gb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:gb;function Js(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!W.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function Yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xd(e,n){var i=Yd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yd(i)}}function Zd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=uo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=uo(e.document)}return n}function Su(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yb=er&&"documentMode"in document&&11>=document.documentMode,Bi=null,Eu=null,ea=null,Tu=!1;function Jd(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Tu||Bi==null||Bi!==uo(o)||(o=Bi,"selectionStart"in o&&Su(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ea&&Js(ea,o)||(ea=o,o=nl(Eu,"onSelect"),0<o.length&&(n=new mo("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=Bi)))}function Jr(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ii={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},Au={},ep={};er&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function ei(e){if(Au[e])return Au[e];if(!Ii[e])return e;var n=Ii[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in ep)return Au[e]=n[i];return e}var tp=ei("animationend"),np=ei("animationiteration"),rp=ei("animationstart"),vb=ei("transitionrun"),wb=ei("transitionstart"),bb=ei("transitioncancel"),ip=ei("transitionend"),sp=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function Mn(e,n){sp.set(e,n),Zr(n,[e])}var ap=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var i=ap.get(e);return i!==void 0?i:(n={value:e,source:n,stack:_d(n)},ap.set(e,n),n)}return{value:e,source:n,stack:_d(n)}}var Sn=[],zi=0,ju=0;function vo(){for(var e=zi,n=ju=zi=0;n<e;){var i=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var g=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var M=o.pending;M===null?h.next=h:(h.next=M.next,M.next=h),o.pending=h}g!==0&&op(i,h,g)}}function wo(e,n,i,o){Sn[zi++]=e,Sn[zi++]=n,Sn[zi++]=i,Sn[zi++]=o,ju|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nu(e,n,i,o){return wo(e,n,i,o),bo(e)}function Pi(e,n){return wo(e,null,null,n),bo(e)}function op(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,g=e.return;g!==null;)g.childLanes|=i,o=g.alternate,o!==null&&(o.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(h=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,h&&n!==null&&(h=31-Pe(i),e=g.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=i|536870912),g):null}function bo(e){if(50<Ta)throw Ta=0,Mc=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fi={};function xb(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,i,o){return new xb(e,n,i,o)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,n){var i=e.alternate;return i===null?(i=hn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function lp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xo(e,n,i,o,h,g){var M=0;if(o=e,typeof e=="function")Ru(e)&&(M=1);else if(typeof e=="string")M=S1(e,i,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=hn(31,i,n,h),e.elementType=L,e.lanes=g,e;case j:return ti(i.children,h,g,n);case T:M=8,h|=24;break;case C:return e=hn(12,i,n,h|2),e.elementType=C,e.lanes=g,e;case I:return e=hn(13,i,n,h),e.elementType=I,e.lanes=g,e;case se:return e=hn(19,i,n,h),e.elementType=se,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case D:M=10;break e;case R:M=9;break e;case F:M=11;break e;case X:M=14;break e;case le:M=16,o=null;break e}M=29,i=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=hn(M,i,n,h),n.elementType=e,n.type=o,n.lanes=g,n}function ti(e,n,i,o){return e=hn(7,e,o,n),e.lanes=i,e}function Cu(e,n,i){return e=hn(6,e,null,n),e.lanes=i,e}function Ou(e,n,i){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hi=[],qi=0,_o=null,So=0,En=[],Tn=0,ni=null,nr=1,rr="";function ri(e,n){Hi[qi++]=So,Hi[qi++]=_o,_o=e,So=n}function up(e,n,i){En[Tn++]=nr,En[Tn++]=rr,En[Tn++]=ni,ni=e;var o=nr;e=rr;var h=32-Pe(o)-1;o&=~(1<<h),i+=1;var g=32-Pe(n)+h;if(30<g){var M=h-h%5;g=(o&(1<<M)-1).toString(32),o>>=M,h-=M,nr=1<<32-Pe(n)+h|i<<h|o,rr=g+e}else nr=1<<g|i<<h|o,rr=e}function Du(e){e.return!==null&&(ri(e,1),up(e,1,0))}function Uu(e){for(;e===_o;)_o=Hi[--qi],Hi[qi]=null,So=Hi[--qi],Hi[qi]=null;for(;e===ni;)ni=En[--Tn],En[Tn]=null,rr=En[--Tn],En[Tn]=null,nr=En[--Tn],En[Tn]=null}var Jt=null,Et=null,it=!1,ii=null,Hn=!1,Mu=Error(a(519));function si(e){var n=Error(a(418,""));throw ra(_n(n,e)),Mu}function cp(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Wt]=e,n[tn]=o,i){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(i=0;i<ka.length;i++)Je(ka[i],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Je("invalid",n),Td(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),lo(n);break;case"select":Je("invalid",n);break;case"textarea":Je("invalid",n),kd(n,o.value,o.defaultValue,o.children),lo(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||kg(n.textContent,i)?(o.popover!=null&&(Je("beforetoggle",n),Je("toggle",n)),o.onScroll!=null&&Je("scroll",n),o.onScrollEnd!=null&&Je("scrollend",n),o.onClick!=null&&(n.onclick=rl),n=!0):n=!1,n||si(e)}function fp(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Jt=Jt.return}}function ta(e){if(e!==Jt)return!1;if(!it)return fp(e),it=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Zc(e.type,e.memoizedProps)),i=!i),i&&Et&&si(e),fp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){Et=Bn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}Et=null}}else n===27?(n=Et,Lr(e.type)?(e=tf,tf=null,Et=e):Et=n):Et=Jt?Bn(e.stateNode.nextSibling):null;return!0}function na(){Et=Jt=null,it=!1}function hp(){var e=ii;return e!==null&&(an===null?an=e:an.push.apply(an,e),ii=null),e}function ra(e){ii===null?ii=[e]:ii.push(e)}var Lu=$(null),ai=null,ir=null;function xr(e,n,i){Z(Lu,n._currentValue),n._currentValue=i}function sr(e){e._currentValue=Lu.current,B(Lu)}function Bu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Iu(e,n,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var g=h.dependencies;if(g!==null){var M=h.child;g=g.firstContext;e:for(;g!==null;){var H=g;g=h;for(var oe=0;oe<n.length;oe++)if(H.context===n[oe]){g.lanes|=i,H=g.alternate,H!==null&&(H.lanes|=i),Bu(g.return,i,e),o||(M=null);break e}g=H.next}}else if(h.tag===18){if(M=h.return,M===null)throw Error(a(341));M.lanes|=i,g=M.alternate,g!==null&&(g.lanes|=i),Bu(M,i,e),M=null}else M=h.child;if(M!==null)M.return=h;else for(M=h;M!==null;){if(M===e){M=null;break}if(h=M.sibling,h!==null){h.return=M.return,M=h;break}M=M.return}h=M}}function ia(e,n,i,o){e=null;for(var h=n,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var M=h.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var H=h.type;fn(h.pendingProps.value,M.value)||(e!==null?e.push(H):e=[H])}}else if(h===O.current){if(M=h.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Da):e=[Da])}h=h.return}e!==null&&Iu(n,e,i,o),n.flags|=262144}function Eo(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oi(e){ai=e,ir=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return dp(ai,e)}function To(e,n){return ai===null&&oi(e),dp(e,n)}function dp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ir===null){if(e===null)throw Error(a(308));ir=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ir=ir.next=n;return i}var _b=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Sb=s.unstable_scheduleCallback,Eb=s.unstable_NormalPriority,Mt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new _b,data:new Map,refCount:0}}function sa(e){e.refCount--,e.refCount===0&&Sb(Eb,function(){e.controller.abort()})}var aa=null,Pu=0,$i=0,Gi=null;function Tb(e,n){if(aa===null){var i=aa=[];Pu=0,$i=Hc(),Gi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Pu++,n.then(pp,pp),n}function pp(){if(--Pu===0&&aa!==null){Gi!==null&&(Gi.status="fulfilled");var e=aa;aa=null,$i=0,Gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ab(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var mp=V.S;V.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Tb(e,n),mp!==null&&mp(e,n)};var li=$(null);function Fu(){var e=li.current;return e!==null?e:mt.pooledCache}function Ao(e,n){n===null?Z(li,li.current):Z(li,n.pool)}function gp(){var e=Fu();return e===null?null:{parent:Mt._currentValue,pool:e}}var oa=Error(a(460)),yp=Error(a(474)),ko=Error(a(542)),Hu={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jo(){}function wp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(jo,jo),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e;default:if(typeof n.status=="string")n.then(jo,jo);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e}throw la=n,oa}}var la=null;function bp(){if(la===null)throw Error(a(459));var e=la;return la=null,e}function xp(e){if(e===oa||e===ko)throw Error(a(483))}var _r=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $u(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bo(e),op(e,null,i),n}return wo(e,o,n,i),bo(e)}function ua(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Fs(e,i)}}function Gu(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var M={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?h=g=M:g=g.next=M,i=i.next}while(i!==null);g===null?h=g=n:g=g.next=n}else h=g=n;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Ku=!1;function ca(){if(Ku){var e=Gi;if(e!==null)throw e}}function fa(e,n,i,o){Ku=!1;var h=e.updateQueue;_r=!1;var g=h.firstBaseUpdate,M=h.lastBaseUpdate,H=h.shared.pending;if(H!==null){h.shared.pending=null;var oe=H,we=oe.next;oe.next=null,M===null?g=we:M.next=we,M=oe;var Ae=e.alternate;Ae!==null&&(Ae=Ae.updateQueue,H=Ae.lastBaseUpdate,H!==M&&(H===null?Ae.firstBaseUpdate=we:H.next=we,Ae.lastBaseUpdate=oe))}if(g!==null){var Ne=h.baseState;M=0,Ae=we=oe=null,H=g;do{var xe=H.lane&-536870913,_e=xe!==H.lane;if(_e?(tt&xe)===xe:(o&xe)===xe){xe!==0&&xe===$i&&(Ku=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Fe=e,Ie=H;xe=n;var ht=i;switch(Ie.tag){case 1:if(Fe=Ie.payload,typeof Fe=="function"){Ne=Fe.call(ht,Ne,xe);break e}Ne=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ie.payload,xe=typeof Fe=="function"?Fe.call(ht,Ne,xe):Fe,xe==null)break e;Ne=m({},Ne,xe);break e;case 2:_r=!0}}xe=H.callback,xe!==null&&(e.flags|=64,_e&&(e.flags|=8192),_e=h.callbacks,_e===null?h.callbacks=[xe]:_e.push(xe))}else _e={lane:xe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ae===null?(we=Ae=_e,oe=Ne):Ae=Ae.next=_e,M|=xe;if(H=H.next,H===null){if(H=h.shared.pending,H===null)break;_e=H,H=_e.next,_e.next=null,h.lastBaseUpdate=_e,h.shared.pending=null}}while(!0);Ae===null&&(oe=Ne),h.baseState=oe,h.firstBaseUpdate=we,h.lastBaseUpdate=Ae,g===null&&(h.shared.lanes=0),Or|=M,e.lanes=M,e.memoizedState=Ne}}function _p(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Sp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)_p(i[e],n)}var Ki=$(null),No=$(0);function Ep(e,n){e=hr,Z(No,e),Z(Ki,n),hr=e|n.baseLanes}function Vu(){Z(No,hr),Z(Ki,Ki.current)}function Wu(){hr=No.current,B(Ki),B(No)}var Tr=0,We=null,ct=null,Ot=null,Ro=!1,Vi=!1,ui=!1,Co=0,ha=0,Wi=null,kb=0;function kt(){throw Error(a(321))}function Yu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!fn(e[i],n[i]))return!1;return!0}function Xu(e,n,i,o,h,g){return Tr=g,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,V.H=e===null||e.memoizedState===null?om:lm,ui=!1,g=i(o,h),ui=!1,Vi&&(g=Ap(n,i,o,h)),Tp(e),g}function Tp(e){V.H=Bo;var n=ct!==null&&ct.next!==null;if(Tr=0,Ot=ct=We=null,Ro=!1,ha=0,Wi=null,n)throw Error(a(300));e===null||Pt||(e=e.dependencies,e!==null&&Eo(e)&&(Pt=!0))}function Ap(e,n,i,o){We=e;var h=0;do{if(Vi&&(Wi=null),ha=0,Vi=!1,25<=h)throw Error(a(301));if(h+=1,Ot=ct=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=Ub,g=n(i,o)}while(Vi);return g}function jb(){var e=V.H,n=e.useState()[0];return n=typeof n.then=="function"?da(n):n,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(We.flags|=1024),n}function Zu(){var e=Co!==0;return Co=0,e}function Qu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Ju(e){if(Ro){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ro=!1}Tr=0,Ot=ct=We=null,Vi=!1,ha=Co=0,Wi=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?We.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Dt(){if(ct===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var n=Ot===null?We.memoizedState:Ot.next;if(n!==null)Ot=n,ct=e;else{if(e===null)throw We.alternate===null?Error(a(467)):Error(a(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ot===null?We.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function da(e){var n=ha;return ha+=1,Wi===null&&(Wi=[]),e=wp(Wi,e,n),n=We,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,V.H=n===null||n.memoizedState===null?om:lm),e}function Oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return da(e);if(e.$$typeof===D)return Yt(e)}throw Error(a(438,String(e)))}function tc(e){var n=null,i=We.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ec(),We.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=ae;return n.index++,i}function ar(e,n){return typeof n=="function"?n(e):n}function Do(e){var n=Dt();return nc(n,ct,e)}function nc(e,n,i){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=i;var h=e.baseQueue,g=o.pending;if(g!==null){if(h!==null){var M=h.next;h.next=g.next,g.next=M}n.baseQueue=h=g,o.pending=null}if(g=e.baseState,h===null)e.memoizedState=g;else{n=h.next;var H=M=null,oe=null,we=n,Ae=!1;do{var Ne=we.lane&-536870913;if(Ne!==we.lane?(tt&Ne)===Ne:(Tr&Ne)===Ne){var xe=we.revertLane;if(xe===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Ne===$i&&(Ae=!0);else if((Tr&xe)===xe){we=we.next,xe===$i&&(Ae=!0);continue}else Ne={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(H=oe=Ne,M=g):oe=oe.next=Ne,We.lanes|=xe,Or|=xe;Ne=we.action,ui&&i(g,Ne),g=we.hasEagerState?we.eagerState:i(g,Ne)}else xe={lane:Ne,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(H=oe=xe,M=g):oe=oe.next=xe,We.lanes|=Ne,Or|=Ne;we=we.next}while(we!==null&&we!==n);if(oe===null?M=g:oe.next=H,!fn(g,e.memoizedState)&&(Pt=!0,Ae&&(i=Gi,i!==null)))throw i;e.memoizedState=g,e.baseState=M,e.baseQueue=oe,o.lastRenderedState=g}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function rc(e){var n=Dt(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,g=n.memoizedState;if(h!==null){i.pending=null;var M=h=h.next;do g=e(g,M.action),M=M.next;while(M!==h);fn(g,n.memoizedState)||(Pt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,o]}function kp(e,n,i){var o=We,h=Dt(),g=it;if(g){if(i===void 0)throw Error(a(407));i=i()}else i=n();var M=!fn((ct||h).memoizedState,i);M&&(h.memoizedState=i,Pt=!0),h=h.queue;var H=Rp.bind(null,o,h,e);if(pa(2048,8,H,[e]),h.getSnapshot!==n||M||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,Yi(9,Uo(),Np.bind(null,o,h,i,n),null),mt===null)throw Error(a(349));g||(Tr&124)!==0||jp(o,n,i)}return i}function jp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=We.updateQueue,n===null?(n=ec(),We.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Np(e,n,i,o){n.value=i,n.getSnapshot=o,Cp(n)&&Op(e)}function Rp(e,n,i){return i(function(){Cp(n)&&Op(e)})}function Cp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!fn(e,i)}catch{return!0}}function Op(e){var n=Pi(e,2);n!==null&&yn(n,e,2)}function ic(e){var n=rn();if(typeof e=="function"){var i=e;if(e=i(),ui){Ue(!0);try{i()}finally{Ue(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},n}function Dp(e,n,i,o){return e.baseState=i,nc(e,ct,typeof o=="function"?o:ar)}function Nb(e,n,i,o,h){if(Lo(e))throw Error(a(485));if(e=n.action,e!==null){var g={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){g.listeners.push(M)}};V.T!==null?i(!0):g.isTransition=!1,o(g),i=n.pending,i===null?(g.next=n.pending=g,Up(n,g)):(g.next=i.next,n.pending=i.next=g)}}function Up(e,n){var i=n.action,o=n.payload,h=e.state;if(n.isTransition){var g=V.T,M={};V.T=M;try{var H=i(h,o),oe=V.S;oe!==null&&oe(M,H),Mp(e,n,H)}catch(we){sc(e,n,we)}finally{V.T=g}}else try{g=i(h,o),Mp(e,n,g)}catch(we){sc(e,n,we)}}function Mp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Lp(e,n,o)},function(o){return sc(e,n,o)}):Lp(e,n,i)}function Lp(e,n,i){n.status="fulfilled",n.value=i,Bp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Up(e,i)))}function sc(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Bp(n),n=n.next;while(n!==o)}e.action=null}function Bp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ip(e,n){return n}function zp(e,n){if(it){var i=mt.formState;if(i!==null){e:{var o=We;if(it){if(Et){t:{for(var h=Et,g=Hn;h.nodeType!==8;){if(!g){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Et=Bn(h.nextSibling),o=h.data==="F!";break e}}si(o)}o=!1}o&&(n=i[0])}}return i=rn(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},i.queue=o,i=im.bind(null,We,o),o.dispatch=i,o=ic(!1),g=cc.bind(null,We,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,i=Nb.bind(null,We,h,g,i),h.dispatch=i,o.memoizedState=e,[n,i,!1]}function Pp(e){var n=Dt();return Fp(n,ct,e)}function Fp(e,n,i){if(n=nc(e,n,Ip)[0],e=Do(ar)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=da(n)}catch(M){throw M===oa?ko:M}else o=n;n=Dt();var h=n.queue,g=h.dispatch;return i!==n.memoizedState&&(We.flags|=2048,Yi(9,Uo(),Rb.bind(null,h,i),null)),[o,g,e]}function Rb(e,n){e.action=n}function Hp(e){var n=Dt(),i=ct;if(i!==null)return Fp(n,i,e);Dt(),n=n.memoizedState,i=Dt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Yi(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=We.updateQueue,n===null&&(n=ec(),We.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function Uo(){return{destroy:void 0,resource:void 0}}function qp(){return Dt().memoizedState}function Mo(e,n,i,o){var h=rn();o=o===void 0?null:o,We.flags|=e,h.memoizedState=Yi(1|n,Uo(),i,o)}function pa(e,n,i,o){var h=Dt();o=o===void 0?null:o;var g=h.memoizedState.inst;ct!==null&&o!==null&&Yu(o,ct.memoizedState.deps)?h.memoizedState=Yi(n,g,i,o):(We.flags|=e,h.memoizedState=Yi(1|n,g,i,o))}function $p(e,n){Mo(8390656,8,e,n)}function Gp(e,n){pa(2048,8,e,n)}function Kp(e,n){return pa(4,2,e,n)}function Vp(e,n){return pa(4,4,e,n)}function Wp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yp(e,n,i){i=i!=null?i.concat([e]):null,pa(4,4,Wp.bind(null,n,e),i)}function ac(){}function Xp(e,n){var i=Dt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Yu(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Zp(e,n){var i=Dt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Yu(n,o[1]))return o[0];if(o=e(),ui){Ue(!0);try{e()}finally{Ue(!1)}}return i.memoizedState=[o,n],o}function oc(e,n,i){return i===void 0||(Tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=eg(),We.lanes|=e,Or|=e,i)}function Qp(e,n,i,o){return fn(i,n)?i:Ki.current!==null?(e=oc(e,i,o),fn(e,n)||(Pt=!0),e):(Tr&42)===0?(Pt=!0,e.memoizedState=i):(e=eg(),We.lanes|=e,Or|=e,n)}function Jp(e,n,i,o,h){var g=Y.p;Y.p=g!==0&&8>g?g:8;var M=V.T,H={};V.T=H,cc(e,!1,n,i);try{var oe=h(),we=V.S;if(we!==null&&we(H,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ae=Ab(oe,o);ma(e,n,Ae,gn(e))}else ma(e,n,o,gn(e))}catch(Ne){ma(e,n,{then:function(){},status:"rejected",reason:Ne},gn())}finally{Y.p=g,V.T=M}}function Cb(){}function lc(e,n,i,o){if(e.tag!==5)throw Error(a(476));var h=em(e).queue;Jp(e,h,n,ge,i===null?Cb:function(){return tm(e),i(o)})}function em(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:ge},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tm(e){var n=em(e).next.queue;ma(e,n,{},gn())}function uc(){return Yt(Da)}function nm(){return Dt().memoizedState}function rm(){return Dt().memoizedState}function Ob(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=gn();e=Sr(i);var o=Er(n,e,i);o!==null&&(yn(o,n,i),ua(o,n,i)),n={cache:zu()},e.payload=n;return}n=n.return}}function Db(e,n,i){var o=gn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Lo(e)?sm(n,i):(i=Nu(e,n,i,o),i!==null&&(yn(i,e,o),am(i,n,o)))}function im(e,n,i){var o=gn();ma(e,n,i,o)}function ma(e,n,i,o){var h={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Lo(e))sm(n,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var M=n.lastRenderedState,H=g(M,i);if(h.hasEagerState=!0,h.eagerState=H,fn(H,M))return wo(e,n,h,0),mt===null&&vo(),!1}catch{}finally{}if(i=Nu(e,n,h,o),i!==null)return yn(i,e,o),am(i,n,o),!0}return!1}function cc(e,n,i,o){if(o={lane:2,revertLane:Hc(),action:o,hasEagerState:!1,eagerState:null,next:null},Lo(e)){if(n)throw Error(a(479))}else n=Nu(e,i,o,2),n!==null&&yn(n,e,2)}function Lo(e){var n=e.alternate;return e===We||n!==null&&n===We}function sm(e,n){Vi=Ro=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function am(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Fs(e,i)}}var Bo={readContext:Yt,use:Oo,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},om={readContext:Yt,use:Oo,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Yt,useEffect:$p,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Mo(4194308,4,Wp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Mo(4194308,4,e,n)},useInsertionEffect:function(e,n){Mo(4,2,e,n)},useMemo:function(e,n){var i=rn();n=n===void 0?null:n;var o=e();if(ui){Ue(!0);try{e()}finally{Ue(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=rn();if(i!==void 0){var h=i(n);if(ui){Ue(!0);try{i(n)}finally{Ue(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Db.bind(null,We,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=ic(e);var n=e.queue,i=im.bind(null,We,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:ac,useDeferredValue:function(e,n){var i=rn();return oc(i,e,n)},useTransition:function(){var e=ic(!1);return e=Jp.bind(null,We,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=We,h=rn();if(it){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),mt===null)throw Error(a(349));(tt&124)!==0||jp(o,n,i)}h.memoizedState=i;var g={value:i,getSnapshot:n};return h.queue=g,$p(Rp.bind(null,o,g,e),[e]),o.flags|=2048,Yi(9,Uo(),Np.bind(null,o,g,i,n),null),i},useId:function(){var e=rn(),n=mt.identifierPrefix;if(it){var i=rr,o=nr;i=(o&~(1<<32-Pe(o)-1)).toString(32)+i,n=""+n+"R"+i,i=Co++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=kb++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:uc,useFormState:zp,useActionState:zp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=cc.bind(null,We,!0,i),i.dispatch=n,[e,n]},useMemoCache:tc,useCacheRefresh:function(){return rn().memoizedState=Ob.bind(null,We)}},lm={readContext:Yt,use:Oo,useCallback:Xp,useContext:Yt,useEffect:Gp,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:Vp,useMemo:Zp,useReducer:Do,useRef:qp,useState:function(){return Do(ar)},useDebugValue:ac,useDeferredValue:function(e,n){var i=Dt();return Qp(i,ct.memoizedState,e,n)},useTransition:function(){var e=Do(ar)[0],n=Dt().memoizedState;return[typeof e=="boolean"?e:da(e),n]},useSyncExternalStore:kp,useId:nm,useHostTransitionStatus:uc,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,n){var i=Dt();return Dp(i,ct,e,n)},useMemoCache:tc,useCacheRefresh:rm},Ub={readContext:Yt,use:Oo,useCallback:Xp,useContext:Yt,useEffect:Gp,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:Vp,useMemo:Zp,useReducer:rc,useRef:qp,useState:function(){return rc(ar)},useDebugValue:ac,useDeferredValue:function(e,n){var i=Dt();return ct===null?oc(i,e,n):Qp(i,ct.memoizedState,e,n)},useTransition:function(){var e=rc(ar)[0],n=Dt().memoizedState;return[typeof e=="boolean"?e:da(e),n]},useSyncExternalStore:kp,useId:nm,useHostTransitionStatus:uc,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,n){var i=Dt();return ct!==null?Dp(i,ct,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:tc,useCacheRefresh:rm},Xi=null,ga=0;function Io(e){var n=ga;return ga+=1,Xi===null&&(Xi=[]),wp(Xi,e,n)}function ya(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zo(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function um(e){var n=e._init;return n(e._payload)}function cm(e){function n(me,he){if(e){var ve=me.deletions;ve===null?(me.deletions=[he],me.flags|=16):ve.push(he)}}function i(me,he){if(!e)return null;for(;he!==null;)n(me,he),he=he.sibling;return null}function o(me){for(var he=new Map;me!==null;)me.key!==null?he.set(me.key,me):he.set(me.index,me),me=me.sibling;return he}function h(me,he){return me=tr(me,he),me.index=0,me.sibling=null,me}function g(me,he,ve){return me.index=ve,e?(ve=me.alternate,ve!==null?(ve=ve.index,ve<he?(me.flags|=67108866,he):ve):(me.flags|=67108866,he)):(me.flags|=1048576,he)}function M(me){return e&&me.alternate===null&&(me.flags|=67108866),me}function H(me,he,ve,ke){return he===null||he.tag!==6?(he=Cu(ve,me.mode,ke),he.return=me,he):(he=h(he,ve),he.return=me,he)}function oe(me,he,ve,ke){var Me=ve.type;return Me===j?Ae(me,he,ve.props.children,ke,ve.key):he!==null&&(he.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===le&&um(Me)===he.type)?(he=h(he,ve.props),ya(he,ve),he.return=me,he):(he=xo(ve.type,ve.key,ve.props,null,me.mode,ke),ya(he,ve),he.return=me,he)}function we(me,he,ve,ke){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=Ou(ve,me.mode,ke),he.return=me,he):(he=h(he,ve.children||[]),he.return=me,he)}function Ae(me,he,ve,ke,Me){return he===null||he.tag!==7?(he=ti(ve,me.mode,ke,Me),he.return=me,he):(he=h(he,ve),he.return=me,he)}function Ne(me,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Cu(""+he,me.mode,ve),he.return=me,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return ve=xo(he.type,he.key,he.props,null,me.mode,ve),ya(ve,he),ve.return=me,ve;case S:return he=Ou(he,me.mode,ve),he.return=me,he;case le:var ke=he._init;return he=ke(he._payload),Ne(me,he,ve)}if(J(he)||z(he))return he=ti(he,me.mode,ve,null),he.return=me,he;if(typeof he.then=="function")return Ne(me,Io(he),ve);if(he.$$typeof===D)return Ne(me,To(me,he),ve);zo(me,he)}return null}function xe(me,he,ve,ke){var Me=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Me!==null?null:H(me,he,""+ve,ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ve.key===Me?oe(me,he,ve,ke):null;case S:return ve.key===Me?we(me,he,ve,ke):null;case le:return Me=ve._init,ve=Me(ve._payload),xe(me,he,ve,ke)}if(J(ve)||z(ve))return Me!==null?null:Ae(me,he,ve,ke,null);if(typeof ve.then=="function")return xe(me,he,Io(ve),ke);if(ve.$$typeof===D)return xe(me,he,To(me,ve),ke);zo(me,ve)}return null}function _e(me,he,ve,ke,Me){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return me=me.get(ve)||null,H(he,me,""+ke,Me);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case _:return me=me.get(ke.key===null?ve:ke.key)||null,oe(he,me,ke,Me);case S:return me=me.get(ke.key===null?ve:ke.key)||null,we(he,me,ke,Me);case le:var Xe=ke._init;return ke=Xe(ke._payload),_e(me,he,ve,ke,Me)}if(J(ke)||z(ke))return me=me.get(ve)||null,Ae(he,me,ke,Me,null);if(typeof ke.then=="function")return _e(me,he,ve,Io(ke),Me);if(ke.$$typeof===D)return _e(me,he,ve,To(he,ke),Me);zo(he,ke)}return null}function Fe(me,he,ve,ke){for(var Me=null,Xe=null,Be=he,ze=he=0,Ht=null;Be!==null&&ze<ve.length;ze++){Be.index>ze?(Ht=Be,Be=null):Ht=Be.sibling;var rt=xe(me,Be,ve[ze],ke);if(rt===null){Be===null&&(Be=Ht);break}e&&Be&&rt.alternate===null&&n(me,Be),he=g(rt,he,ze),Xe===null?Me=rt:Xe.sibling=rt,Xe=rt,Be=Ht}if(ze===ve.length)return i(me,Be),it&&ri(me,ze),Me;if(Be===null){for(;ze<ve.length;ze++)Be=Ne(me,ve[ze],ke),Be!==null&&(he=g(Be,he,ze),Xe===null?Me=Be:Xe.sibling=Be,Xe=Be);return it&&ri(me,ze),Me}for(Be=o(Be);ze<ve.length;ze++)Ht=_e(Be,me,ze,ve[ze],ke),Ht!==null&&(e&&Ht.alternate!==null&&Be.delete(Ht.key===null?ze:Ht.key),he=g(Ht,he,ze),Xe===null?Me=Ht:Xe.sibling=Ht,Xe=Ht);return e&&Be.forEach(function(Fr){return n(me,Fr)}),it&&ri(me,ze),Me}function Ie(me,he,ve,ke){if(ve==null)throw Error(a(151));for(var Me=null,Xe=null,Be=he,ze=he=0,Ht=null,rt=ve.next();Be!==null&&!rt.done;ze++,rt=ve.next()){Be.index>ze?(Ht=Be,Be=null):Ht=Be.sibling;var Fr=xe(me,Be,rt.value,ke);if(Fr===null){Be===null&&(Be=Ht);break}e&&Be&&Fr.alternate===null&&n(me,Be),he=g(Fr,he,ze),Xe===null?Me=Fr:Xe.sibling=Fr,Xe=Fr,Be=Ht}if(rt.done)return i(me,Be),it&&ri(me,ze),Me;if(Be===null){for(;!rt.done;ze++,rt=ve.next())rt=Ne(me,rt.value,ke),rt!==null&&(he=g(rt,he,ze),Xe===null?Me=rt:Xe.sibling=rt,Xe=rt);return it&&ri(me,ze),Me}for(Be=o(Be);!rt.done;ze++,rt=ve.next())rt=_e(Be,me,ze,rt.value,ke),rt!==null&&(e&&rt.alternate!==null&&Be.delete(rt.key===null?ze:rt.key),he=g(rt,he,ze),Xe===null?Me=rt:Xe.sibling=rt,Xe=rt);return e&&Be.forEach(function(M1){return n(me,M1)}),it&&ri(me,ze),Me}function ht(me,he,ve,ke){if(typeof ve=="object"&&ve!==null&&ve.type===j&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:e:{for(var Me=ve.key;he!==null;){if(he.key===Me){if(Me=ve.type,Me===j){if(he.tag===7){i(me,he.sibling),ke=h(he,ve.props.children),ke.return=me,me=ke;break e}}else if(he.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===le&&um(Me)===he.type){i(me,he.sibling),ke=h(he,ve.props),ya(ke,ve),ke.return=me,me=ke;break e}i(me,he);break}else n(me,he);he=he.sibling}ve.type===j?(ke=ti(ve.props.children,me.mode,ke,ve.key),ke.return=me,me=ke):(ke=xo(ve.type,ve.key,ve.props,null,me.mode,ke),ya(ke,ve),ke.return=me,me=ke)}return M(me);case S:e:{for(Me=ve.key;he!==null;){if(he.key===Me)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){i(me,he.sibling),ke=h(he,ve.children||[]),ke.return=me,me=ke;break e}else{i(me,he);break}else n(me,he);he=he.sibling}ke=Ou(ve,me.mode,ke),ke.return=me,me=ke}return M(me);case le:return Me=ve._init,ve=Me(ve._payload),ht(me,he,ve,ke)}if(J(ve))return Fe(me,he,ve,ke);if(z(ve)){if(Me=z(ve),typeof Me!="function")throw Error(a(150));return ve=Me.call(ve),Ie(me,he,ve,ke)}if(typeof ve.then=="function")return ht(me,he,Io(ve),ke);if(ve.$$typeof===D)return ht(me,he,To(me,ve),ke);zo(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,he!==null&&he.tag===6?(i(me,he.sibling),ke=h(he,ve),ke.return=me,me=ke):(i(me,he),ke=Cu(ve,me.mode,ke),ke.return=me,me=ke),M(me)):i(me,he)}return function(me,he,ve,ke){try{ga=0;var Me=ht(me,he,ve,ke);return Xi=null,Me}catch(Be){if(Be===oa||Be===ko)throw Be;var Xe=hn(29,Be,null,me.mode);return Xe.lanes=ke,Xe.return=me,Xe}finally{}}}var Zi=cm(!0),fm=cm(!1),An=$(null),qn=null;function Ar(e){var n=e.alternate;Z(Lt,Lt.current&1),Z(An,e),qn===null&&(n===null||Ki.current!==null||n.memoizedState!==null)&&(qn=e)}function hm(e){if(e.tag===22){if(Z(Lt,Lt.current),Z(An,e),qn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(qn=e)}}else kr()}function kr(){Z(Lt,Lt.current),Z(An,An.current)}function or(e){B(An),qn===e&&(qn=null),B(Lt)}var Lt=$(0);function Po(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||ef(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fc(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:m({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var hc={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=gn(),h=Sr(o);h.payload=n,i!=null&&(h.callback=i),n=Er(e,h,o),n!==null&&(yn(n,e,o),ua(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=gn(),h=Sr(o);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Er(e,h,o),n!==null&&(yn(n,e,o),ua(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=gn(),o=Sr(i);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,i),n!==null&&(yn(n,e,i),ua(n,e,i))}};function dm(e,n,i,o,h,g,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,M):n.prototype&&n.prototype.isPureReactComponent?!Js(i,o)||!Js(h,g):!0}function pm(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&hc.enqueueReplaceState(n,n.state,null)}function ci(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=m({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}var Fo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mm(e){Fo(e)}function gm(e){console.error(e)}function ym(e){Fo(e)}function Ho(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vm(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dc(e,n,i){return i=Sr(i),i.tag=3,i.payload={element:null},i.callback=function(){Ho(e,n)},i}function wm(e){return e=Sr(e),e.tag=3,e}function bm(e,n,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;e.payload=function(){return h(g)},e.callback=function(){vm(n,i,o)}}var M=i.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){vm(n,i,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var H=o.stack;this.componentDidCatch(o.value,{componentStack:H!==null?H:""})})}function Mb(e,n,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&ia(n,i,h,!0),i=An.current,i!==null){switch(i.tag){case 13:return qn===null?Bc():i.alternate===null&&Tt===0&&(Tt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===Hu?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),zc(e,o,h)),!1;case 22:return i.flags|=65536,o===Hu?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),zc(e,o,h)),!1}throw Error(a(435,i.tag))}return zc(e,o,h),Bc(),!1}if(it)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Mu&&(e=Error(a(422),{cause:o}),ra(_n(e,i)))):(o!==Mu&&(n=Error(a(423),{cause:o}),ra(_n(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=_n(o,i),h=dc(e.stateNode,o,h),Gu(e,h),Tt!==4&&(Tt=2)),!1;var g=Error(a(520),{cause:o});if(g=_n(g,i),Ea===null?Ea=[g]:Ea.push(g),Tt!==4&&(Tt=2),n===null)return!0;o=_n(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=dc(i.stateNode,o,e),Gu(i,e),!1;case 1:if(n=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Dr===null||!Dr.has(g))))return i.flags|=65536,h&=-h,i.lanes|=h,h=wm(h),bm(h,e,i,o),Gu(i,h),!1}i=i.return}while(i!==null);return!1}var xm=Error(a(461)),Pt=!1;function $t(e,n,i,o){n.child=e===null?fm(n,null,i,o):Zi(n,e.child,i,o)}function _m(e,n,i,o,h){i=i.render;var g=n.ref;if("ref"in o){var M={};for(var H in o)H!=="ref"&&(M[H]=o[H])}else M=o;return oi(n),o=Xu(e,n,i,M,g,h),H=Zu(),e!==null&&!Pt?(Qu(e,n,h),lr(e,n,h)):(it&&H&&Du(n),n.flags|=1,$t(e,n,o,h),n.child)}function Sm(e,n,i,o,h){if(e===null){var g=i.type;return typeof g=="function"&&!Ru(g)&&g.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=g,Em(e,n,g,o,h)):(e=xo(i.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!xc(e,h)){var M=g.memoizedProps;if(i=i.compare,i=i!==null?i:Js,i(M,o)&&e.ref===n.ref)return lr(e,n,h)}return n.flags|=1,e=tr(g,o),e.ref=n.ref,e.return=n,n.child=e}function Em(e,n,i,o,h){if(e!==null){var g=e.memoizedProps;if(Js(g,o)&&e.ref===n.ref)if(Pt=!1,n.pendingProps=o=g,xc(e,h))(e.flags&131072)!==0&&(Pt=!0);else return n.lanes=e.lanes,lr(e,n,h)}return pc(e,n,i,o,h)}function Tm(e,n,i){var o=n.pendingProps,h=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|i:i,e!==null){for(h=n.child=e.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return Am(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ao(n,g!==null?g.cachePool:null),g!==null?Ep(n,g):Vu(),hm(n);else return n.lanes=n.childLanes=536870912,Am(e,n,g!==null?g.baseLanes|i:i,i)}else g!==null?(Ao(n,g.cachePool),Ep(n,g),kr(),n.memoizedState=null):(e!==null&&Ao(n,null),Vu(),kr());return $t(e,n,h,i),n.child}function Am(e,n,i,o){var h=Fu();return h=h===null?null:{parent:Mt._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ao(n,null),Vu(),hm(n),e!==null&&ia(e,n,o,!0),null}function qo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function pc(e,n,i,o,h){return oi(n),i=Xu(e,n,i,o,void 0,h),o=Zu(),e!==null&&!Pt?(Qu(e,n,h),lr(e,n,h)):(it&&o&&Du(n),n.flags|=1,$t(e,n,i,h),n.child)}function km(e,n,i,o,h,g){return oi(n),n.updateQueue=null,i=Ap(n,o,i,h),Tp(e),o=Zu(),e!==null&&!Pt?(Qu(e,n,g),lr(e,n,g)):(it&&o&&Du(n),n.flags|=1,$t(e,n,i,g),n.child)}function jm(e,n,i,o,h){if(oi(n),n.stateNode===null){var g=Fi,M=i.contextType;typeof M=="object"&&M!==null&&(g=Yt(M)),g=new i(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hc,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},qu(n),M=i.contextType,g.context=typeof M=="object"&&M!==null?Yt(M):Fi,g.state=n.memoizedState,M=i.getDerivedStateFromProps,typeof M=="function"&&(fc(n,i,M,o),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(M=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),M!==g.state&&hc.enqueueReplaceState(g,g.state,null),fa(n,o,g,h),ca(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var H=n.memoizedProps,oe=ci(i,H);g.props=oe;var we=g.context,Ae=i.contextType;M=Fi,typeof Ae=="object"&&Ae!==null&&(M=Yt(Ae));var Ne=i.getDerivedStateFromProps;Ae=typeof Ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",H=n.pendingProps!==H,Ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(H||we!==M)&&pm(n,g,o,M),_r=!1;var xe=n.memoizedState;g.state=xe,fa(n,o,g,h),ca(),we=n.memoizedState,H||xe!==we||_r?(typeof Ne=="function"&&(fc(n,i,Ne,o),we=n.memoizedState),(oe=_r||dm(n,i,oe,o,xe,we,M))?(Ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=we),g.props=o,g.state=we,g.context=M,o=oe):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,$u(e,n),M=n.memoizedProps,Ae=ci(i,M),g.props=Ae,Ne=n.pendingProps,xe=g.context,we=i.contextType,oe=Fi,typeof we=="object"&&we!==null&&(oe=Yt(we)),H=i.getDerivedStateFromProps,(we=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M!==Ne||xe!==oe)&&pm(n,g,o,oe),_r=!1,xe=n.memoizedState,g.state=xe,fa(n,o,g,h),ca();var _e=n.memoizedState;M!==Ne||xe!==_e||_r||e!==null&&e.dependencies!==null&&Eo(e.dependencies)?(typeof H=="function"&&(fc(n,i,H,o),_e=n.memoizedState),(Ae=_r||dm(n,i,Ae,o,xe,_e,oe)||e!==null&&e.dependencies!==null&&Eo(e.dependencies))?(we||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,_e,oe),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,_e,oe)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=_e),g.props=o,g.state=_e,g.context=oe,o=Ae):(typeof g.componentDidUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,qo(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Zi(n,e.child,null,h),n.child=Zi(n,null,i,h)):$t(e,n,i,h),n.memoizedState=g.state,e=n.child):e=lr(e,n,h),e}function Nm(e,n,i,o){return na(),n.flags|=256,$t(e,n,i,o),n.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:gp()}}function yc(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=kn),e}function Rm(e,n,i){var o=n.pendingProps,h=!1,g=(n.flags&128)!==0,M;if((M=g)||(M=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),M&&(h=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,e===null){if(it){if(h?Ar(n):kr(),it){var H=Et,oe;if(oe=H){e:{for(oe=H,H=Hn;oe.nodeType!==8;){if(!H){H=null;break e}if(oe=Bn(oe.nextSibling),oe===null){H=null;break e}}H=oe}H!==null?(n.memoizedState={dehydrated:H,treeContext:ni!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},oe=hn(18,null,null,0),oe.stateNode=H,oe.return=n,n.child=oe,Jt=n,Et=null,oe=!0):oe=!1}oe||si(n)}if(H=n.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return ef(H)?n.lanes=32:n.lanes=536870912,null;or(n)}return H=o.children,o=o.fallback,h?(kr(),h=n.mode,H=$o({mode:"hidden",children:H},h),o=ti(o,h,i,null),H.return=n,o.return=n,H.sibling=o,n.child=H,h=n.child,h.memoizedState=gc(i),h.childLanes=yc(e,M,i),n.memoizedState=mc,o):(Ar(n),vc(n,H))}if(oe=e.memoizedState,oe!==null&&(H=oe.dehydrated,H!==null)){if(g)n.flags&256?(Ar(n),n.flags&=-257,n=wc(e,n,i)):n.memoizedState!==null?(kr(),n.child=e.child,n.flags|=128,n=null):(kr(),h=o.fallback,H=n.mode,o=$o({mode:"visible",children:o.children},H),h=ti(h,H,i,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Zi(n,e.child,null,i),o=n.child,o.memoizedState=gc(i),o.childLanes=yc(e,M,i),n.memoizedState=mc,n=h);else if(Ar(n),ef(H)){if(M=H.nextSibling&&H.nextSibling.dataset,M)var we=M.dgst;M=we,o=Error(a(419)),o.stack="",o.digest=M,ra({value:o,source:null,stack:null}),n=wc(e,n,i)}else if(Pt||ia(e,n,i,!1),M=(i&e.childLanes)!==0,Pt||M){if(M=mt,M!==null&&(o=i&-i,o=(o&42)!==0?1:Xr(o),o=(o&(M.suspendedLanes|i))!==0?0:o,o!==0&&o!==oe.retryLane))throw oe.retryLane=o,Pi(e,o),yn(M,e,o),xm;H.data==="$?"||Bc(),n=wc(e,n,i)}else H.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=oe.treeContext,Et=Bn(H.nextSibling),Jt=n,it=!0,ii=null,Hn=!1,e!==null&&(En[Tn++]=nr,En[Tn++]=rr,En[Tn++]=ni,nr=e.id,rr=e.overflow,ni=n),n=vc(n,o.children),n.flags|=4096);return n}return h?(kr(),h=o.fallback,H=n.mode,oe=e.child,we=oe.sibling,o=tr(oe,{mode:"hidden",children:o.children}),o.subtreeFlags=oe.subtreeFlags&65011712,we!==null?h=tr(we,h):(h=ti(h,H,i,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,H=e.child.memoizedState,H===null?H=gc(i):(oe=H.cachePool,oe!==null?(we=Mt._currentValue,oe=oe.parent!==we?{parent:we,pool:we}:oe):oe=gp(),H={baseLanes:H.baseLanes|i,cachePool:oe}),h.memoizedState=H,h.childLanes=yc(e,M,i),n.memoizedState=mc,o):(Ar(n),i=e.child,e=i.sibling,i=tr(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(M=n.deletions,M===null?(n.deletions=[e],n.flags|=16):M.push(e)),n.child=i,n.memoizedState=null,i)}function vc(e,n){return n=$o({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $o(e,n){return e=hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wc(e,n,i){return Zi(n,e.child,null,i),e=vc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cm(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bu(e.return,n,i)}function bc(e,n,i,o,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=h)}function Om(e,n,i){var o=n.pendingProps,h=o.revealOrder,g=o.tail;if($t(e,n,o.children,i),o=Lt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,i,n);else if(e.tag===19)Cm(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Z(Lt,o),h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Po(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),bc(n,!1,h,i,g);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Po(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}bc(n,!0,i,null,g);break;case"together":bc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function lr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(ia(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=tr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=tr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function xc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eo(e)))}function Lb(e,n,i){switch(n.tag){case 3:k(n,n.stateNode.containerInfo),xr(n,Mt,e.memoizedState.cache),na();break;case 27:case 5:Q(n);break;case 4:k(n,n.stateNode.containerInfo);break;case 10:xr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Rm(e,n,i):(Ar(n),e=lr(e,n,i),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(ia(e,n,i,!1),o=(i&n.childLanes)!==0),h){if(o)return Om(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(Lt,Lt.current),o)break;return null;case 22:case 23:return n.lanes=0,Tm(e,n,i);case 24:xr(n,Mt,e.memoizedState.cache)}return lr(e,n,i)}function Dm(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pt=!0;else{if(!xc(e,i)&&(n.flags&128)===0)return Pt=!1,Lb(e,n,i);Pt=(e.flags&131072)!==0}else Pt=!1,it&&(n.flags&1048576)!==0&&up(n,So,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ru(o)?(e=ci(o,e),n.tag=1,n=jm(null,n,o,e,i)):(n.tag=0,n=pc(null,n,o,e,i));else{if(o!=null){if(h=o.$$typeof,h===F){n.tag=11,n=_m(null,n,o,e,i);break e}else if(h===X){n.tag=14,n=Sm(null,n,o,e,i);break e}}throw n=N(o)||o,Error(a(306,n,""))}}return n;case 0:return pc(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,h=ci(o,n.pendingProps),jm(e,n,o,h,i);case 3:e:{if(k(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var g=n.memoizedState;h=g.element,$u(e,n),fa(n,o,null,i);var M=n.memoizedState;if(o=M.cache,xr(n,Mt,o),o!==g.cache&&Iu(n,[Mt],i,!0),ca(),o=M.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Nm(e,n,o,i);break e}else if(o!==h){h=_n(Error(a(424)),n),ra(h),n=Nm(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Et=Bn(e.firstChild),Jt=n,it=!0,ii=null,Hn=!0,i=fm(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(na(),o===h){n=lr(e,n,i);break e}$t(e,n,o,i)}n=n.child}return n;case 26:return qo(e,n),e===null?(i=Bg(n.type,null,n.pendingProps,null))?n.memoizedState=i:it||(i=n.type,e=n.pendingProps,o=il(te.current).createElement(i),o[Wt]=n,o[tn]=e,Kt(o,i,e),zt(o),n.stateNode=o):n.memoizedState=Bg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Q(n),e===null&&it&&(o=n.stateNode=Ug(n.type,n.pendingProps,te.current),Jt=n,Hn=!0,h=Et,Lr(n.type)?(tf=h,Et=Bn(o.firstChild)):Et=h),$t(e,n,n.pendingProps.children,i),qo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&it&&((h=o=Et)&&(o=c1(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Jt=n,Et=Bn(o.firstChild),Hn=!1,h=!0):h=!1),h||si(n)),Q(n),h=n.type,g=n.pendingProps,M=e!==null?e.memoizedProps:null,o=g.children,Zc(h,g)?o=null:M!==null&&Zc(h,M)&&(n.flags|=32),n.memoizedState!==null&&(h=Xu(e,n,jb,null,null,i),Da._currentValue=h),qo(e,n),$t(e,n,o,i),n.child;case 6:return e===null&&it&&((e=i=Et)&&(i=f1(i,n.pendingProps,Hn),i!==null?(n.stateNode=i,Jt=n,Et=null,e=!0):e=!1),e||si(n)),null;case 13:return Rm(e,n,i);case 4:return k(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Zi(n,null,o,i):$t(e,n,o,i),n.child;case 11:return _m(e,n,n.type,n.pendingProps,i);case 7:return $t(e,n,n.pendingProps,i),n.child;case 8:return $t(e,n,n.pendingProps.children,i),n.child;case 12:return $t(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,xr(n,n.type,o.value),$t(e,n,o.children,i),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,oi(n),h=Yt(h),o=o(h),n.flags|=1,$t(e,n,o,i),n.child;case 14:return Sm(e,n,n.type,n.pendingProps,i);case 15:return Em(e,n,n.type,n.pendingProps,i);case 19:return Om(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=$o(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=tr(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Tm(e,n,i);case 24:return oi(n),o=Yt(Mt),e===null?(h=Fu(),h===null&&(h=mt,g=zu(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=i),h=g),n.memoizedState={parent:o,cache:h},qu(n),xr(n,Mt,h)):((e.lanes&i)!==0&&($u(e,n),fa(n,null,null,i),ca()),h=e.memoizedState,g=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xr(n,Mt,o)):(o=g.cache,xr(n,Mt,o),o!==h.cache&&Iu(n,[Mt],i,!0))),$t(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ur(e){e.flags|=4}function Um(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hg(n)){if(n=An.current,n!==null&&((tt&4194048)===tt?qn!==null:(tt&62914560)!==tt&&(tt&536870912)===0||n!==qn))throw la=Hu,yp;e.flags|=8192}}function Go(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cn():536870912,e.lanes|=n,ts|=n)}function va(e,n){if(!it)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function St(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Bb(e,n,i){var o=n.pendingProps;switch(Uu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),sr(Mt),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ta(n)?ur(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hp())),St(n),null;case 26:return i=n.memoizedState,e===null?(ur(n),i!==null?(St(n),Um(n,i)):(St(n),n.flags&=-16777217)):i?i!==e.memoizedState?(ur(n),St(n),Um(n,i)):(St(n),n.flags&=-16777217):(e.memoizedProps!==o&&ur(n),St(n),n.flags&=-16777217),null;case 27:q(n),i=te.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ur(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}e=ne.current,ta(n)?cp(n):(e=Ug(h,o,i),n.stateNode=e,ur(n))}return St(n),null;case 5:if(q(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ur(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}if(e=ne.current,ta(n))cp(n);else{switch(h=il(te.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(i,{is:o.is}):h.createElement(i)}}e[Wt]=n,e[tn]=o;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;e:switch(Kt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ur(n)}}return St(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ur(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=te.current,ta(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Wt]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||kg(e.nodeValue,i)),e||si(n)}else e=il(e).createTextNode(o),e[Wt]=n,n.stateNode=e}return St(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Wt]=n}else na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),h=!1}else h=hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(or(n),n):(or(n),null)}if(or(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==h&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Go(n,n.updateQueue),St(n),null;case 4:return ie(),e===null&&Kc(n.stateNode.containerInfo),St(n),null;case 10:return sr(n.type),St(n),null;case 19:if(B(Lt),h=n.memoizedState,h===null)return St(n),null;if(o=(n.flags&128)!==0,g=h.rendering,g===null)if(o)va(h,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Po(e),g!==null){for(n.flags|=128,va(h,!1),e=g.updateQueue,n.updateQueue=e,Go(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)lp(i,e),i=i.sibling;return Z(Lt,Lt.current&1|2),n.child}e=e.sibling}h.tail!==null&&y()>Wo&&(n.flags|=128,o=!0,va(h,!1),n.lanes=4194304)}else{if(!o)if(e=Po(g),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Go(n,e),va(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!it)return St(n),null}else 2*y()-h.renderingStartTime>Wo&&i!==536870912&&(n.flags|=128,o=!0,va(h,!1),n.lanes=4194304);h.isBackwards?(g.sibling=n.child,n.child=g):(e=h.last,e!==null?e.sibling=g:n.child=g,h.last=g)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=y(),n.sibling=null,e=Lt.current,Z(Lt,o?e&1|2:e&1),n):(St(n),null);case 22:case 23:return or(n),Wu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),i=n.updateQueue,i!==null&&Go(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&B(li),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),sr(Mt),St(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ib(e,n){switch(Uu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return sr(Mt),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return q(n),null;case 13:if(or(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));na()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Lt),null;case 4:return ie(),null;case 10:return sr(n.type),null;case 22:case 23:return or(n),Wu(),e!==null&&B(li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return sr(Mt),null;case 25:return null;default:return null}}function Mm(e,n){switch(Uu(n),n.tag){case 3:sr(Mt),ie();break;case 26:case 27:case 5:q(n);break;case 4:ie();break;case 13:or(n);break;case 19:B(Lt);break;case 10:sr(n.type);break;case 22:case 23:or(n),Wu(),e!==null&&B(li);break;case 24:sr(Mt)}}function wa(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var g=i.create,M=i.inst;o=g(),M.destroy=o}i=i.next}while(i!==h)}}catch(H){pt(n,n.return,H)}}function jr(e,n,i){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var g=h.next;o=g;do{if((o.tag&e)===e){var M=o.inst,H=M.destroy;if(H!==void 0){M.destroy=void 0,h=n;var oe=i,we=H;try{we()}catch(Ae){pt(h,oe,Ae)}}}o=o.next}while(o!==g)}}catch(Ae){pt(n,n.return,Ae)}}function Lm(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Sp(n,i)}catch(o){pt(e,e.return,o)}}}function Bm(e,n,i){i.props=ci(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){pt(e,n,o)}}function ba(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(h){pt(e,n,h)}}function $n(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){pt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){pt(e,n,h)}else i.current=null}function Im(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){pt(e,e.return,h)}}function _c(e,n,i){try{var o=e.stateNode;s1(o,e.type,i,n),o[tn]=n}catch(h){pt(e,e.return,h)}}function zm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function Sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=rl));else if(o!==4&&(o===27&&Lr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Ec(e,n,i),e=e.sibling;e!==null;)Ec(e,n,i),e=e.sibling}function Ko(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ko(e,n,i),e=e.sibling;e!==null;)Ko(e,n,i),e=e.sibling}function Pm(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Kt(n,o,i),n[Wt]=e,n[tn]=i}catch(g){pt(e,e.return,g)}}var cr=!1,jt=!1,Tc=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function zb(e,n){if(e=e.containerInfo,Yc=cl,e=Qd(e),Su(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var M=0,H=-1,oe=-1,we=0,Ae=0,Ne=e,xe=null;t:for(;;){for(var _e;Ne!==i||h!==0&&Ne.nodeType!==3||(H=M+h),Ne!==g||o!==0&&Ne.nodeType!==3||(oe=M+o),Ne.nodeType===3&&(M+=Ne.nodeValue.length),(_e=Ne.firstChild)!==null;)xe=Ne,Ne=_e;for(;;){if(Ne===e)break t;if(xe===i&&++we===h&&(H=M),xe===g&&++Ae===o&&(oe=M),(_e=Ne.nextSibling)!==null)break;Ne=xe,xe=Ne.parentNode}Ne=_e}i=H===-1||oe===-1?null:{start:H,end:oe}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xc={focusedElem:e,selectionRange:i},cl=!1,Ft=n;Ft!==null;)if(n=Ft,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ft=e;else for(;Ft!==null;){switch(n=Ft,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=n,h=g.memoizedProps,g=g.memoizedState,o=i.stateNode;try{var Fe=ci(i.type,h,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Fe,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ie){pt(i,i.return,Ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Jc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ft=e;break}Ft=n.return}}function Hm(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(e,i),o&4&&wa(5,i);break;case 1:if(Nr(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(M){pt(i,i.return,M)}else{var h=ci(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(M){pt(i,i.return,M)}}o&64&&Lm(i),o&512&&ba(i,i.return);break;case 3:if(Nr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Sp(e,n)}catch(M){pt(i,i.return,M)}}break;case 27:n===null&&o&4&&Pm(i);case 26:case 5:Nr(e,i),n===null&&o&4&&Im(i),o&512&&ba(i,i.return);break;case 12:Nr(e,i);break;case 13:Nr(e,i),o&4&&Gm(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Wb.bind(null,i),h1(e,i))));break;case 22:if(o=i.memoizedState!==null||cr,!o){n=n!==null&&n.memoizedState!==null||jt,h=cr;var g=jt;cr=o,(jt=n)&&!g?Rr(e,i,(i.subtreeFlags&8772)!==0):Nr(e,i),cr=h,jt=g}break;case 30:break;default:Nr(e,i)}}function qm(e){var n=e.alternate;n!==null&&(e.alternate=null,qm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&iu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _t=null,sn=!1;function fr(e,n,i){for(i=i.child;i!==null;)$m(e,n,i),i=i.sibling}function $m(e,n,i){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ce,i)}catch{}switch(i.tag){case 26:jt||$n(i,n),fr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:jt||$n(i,n);var o=_t,h=sn;Lr(i.type)&&(_t=i.stateNode,sn=!1),fr(e,n,i),Na(i.stateNode),_t=o,sn=h;break;case 5:jt||$n(i,n);case 6:if(o=_t,h=sn,_t=null,fr(e,n,i),_t=o,sn=h,_t!==null)if(sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(i.stateNode)}catch(g){pt(i,n,g)}else try{_t.removeChild(i.stateNode)}catch(g){pt(i,n,g)}break;case 18:_t!==null&&(sn?(e=_t,Og(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ba(e)):Og(_t,i.stateNode));break;case 4:o=_t,h=sn,_t=i.stateNode.containerInfo,sn=!0,fr(e,n,i),_t=o,sn=h;break;case 0:case 11:case 14:case 15:jt||jr(2,i,n),jt||jr(4,i,n),fr(e,n,i);break;case 1:jt||($n(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Bm(i,n,o)),fr(e,n,i);break;case 21:fr(e,n,i);break;case 22:jt=(o=jt)||i.memoizedState!==null,fr(e,n,i),jt=o;break;default:fr(e,n,i)}}function Gm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(i){pt(n,n.return,i)}}function Pb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fm),n;default:throw Error(a(435,e.tag))}}function Ac(e,n){var i=Pb(e);n.forEach(function(o){var h=Yb.bind(null,e,o);i.has(o)||(i.add(o),o.then(h,h))})}function dn(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],g=e,M=n,H=M;e:for(;H!==null;){switch(H.tag){case 27:if(Lr(H.type)){_t=H.stateNode,sn=!1;break e}break;case 5:_t=H.stateNode,sn=!1;break e;case 3:case 4:_t=H.stateNode.containerInfo,sn=!0;break e}H=H.return}if(_t===null)throw Error(a(160));$m(g,M,h),_t=null,sn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Km(n,e),n=n.sibling}var Ln=null;function Km(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),pn(e),o&4&&(jr(3,e,e.return),wa(3,e),jr(5,e,e.return));break;case 1:dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),o&64&&cr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=Ln;if(dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),o&4){var g=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":g=h.getElementsByTagName("title")[0],(!g||g[$s]||g[Wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(o),h.head.insertBefore(g,h.querySelector("head > title"))),Kt(g,o,i),g[Wt]=e,zt(g),o=g;break e;case"link":var M=Pg("link","href",h).get(o+(i.href||""));if(M){for(var H=0;H<M.length;H++)if(g=M[H],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){M.splice(H,1);break t}}g=h.createElement(o),Kt(g,o,i),h.head.appendChild(g);break;case"meta":if(M=Pg("meta","content",h).get(o+(i.content||""))){for(H=0;H<M.length;H++)if(g=M[H],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){M.splice(H,1);break t}}g=h.createElement(o),Kt(g,o,i),h.head.appendChild(g);break;default:throw Error(a(468,o))}g[Wt]=e,zt(g),o=g}e.stateNode=o}else Fg(h,e.type,e.stateNode);else e.stateNode=zg(h,o,e.memoizedProps);else g!==o?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,o===null?Fg(h,e.type,e.stateNode):zg(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&_c(e,e.memoizedProps,i.memoizedProps)}break;case 27:dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),i!==null&&o&4&&_c(e,e.memoizedProps,i.memoizedProps);break;case 5:if(dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),e.flags&32){h=e.stateNode;try{Di(h,"")}catch(_e){pt(e,e.return,_e)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,_c(e,h,i!==null?i.memoizedProps:h)),o&1024&&(Tc=!0);break;case 6:if(dn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(_e){pt(e,e.return,_e)}}break;case 3:if(ol=null,h=Ln,Ln=sl(n.containerInfo),dn(n,e),Ln=h,pn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(_e){pt(e,e.return,_e)}Tc&&(Tc=!1,Vm(e));break;case 4:o=Ln,Ln=sl(e.stateNode.containerInfo),dn(n,e),pn(e),Ln=o;break;case 12:dn(n,e),pn(e);break;case 13:dn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oc=y()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ac(e,o)));break;case 22:h=e.memoizedState!==null;var oe=i!==null&&i.memoizedState!==null,we=cr,Ae=jt;if(cr=we||h,jt=Ae||oe,dn(n,e),jt=Ae,cr=we,pn(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||oe||cr||jt||fi(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){oe=i=n;try{if(g=oe.stateNode,h)M=g.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{H=oe.stateNode;var Ne=oe.memoizedProps.style,xe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;H.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(_e){pt(oe,oe.return,_e)}}}else if(n.tag===6){if(i===null){oe=n;try{oe.stateNode.nodeValue=h?"":oe.memoizedProps}catch(_e){pt(oe,oe.return,_e)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Ac(e,i))));break;case 19:dn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ac(e,o)));break;case 30:break;case 21:break;default:dn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(zm(o)){i=o;break}o=o.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var h=i.stateNode,g=Sc(e);Ko(e,g,h);break;case 5:var M=i.stateNode;i.flags&32&&(Di(M,""),i.flags&=-33);var H=Sc(e);Ko(e,H,M);break;case 3:case 4:var oe=i.stateNode.containerInfo,we=Sc(e);Ec(e,we,oe);break;default:throw Error(a(161))}}catch(Ae){pt(e,e.return,Ae)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hm(e,n.alternate,n),n=n.sibling}function fi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:jr(4,n,n.return),fi(n);break;case 1:$n(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Bm(n,n.return,i),fi(n);break;case 27:Na(n.stateNode);case 26:case 5:$n(n,n.return),fi(n);break;case 22:n.memoizedState===null&&fi(n);break;case 30:fi(n);break;default:fi(n)}e=e.sibling}}function Rr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,g=n,M=g.flags;switch(g.tag){case 0:case 11:case 15:Rr(h,g,i),wa(4,g);break;case 1:if(Rr(h,g,i),o=g,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(we){pt(o,o.return,we)}if(o=g,h=o.updateQueue,h!==null){var H=o.stateNode;try{var oe=h.shared.hiddenCallbacks;if(oe!==null)for(h.shared.hiddenCallbacks=null,h=0;h<oe.length;h++)_p(oe[h],H)}catch(we){pt(o,o.return,we)}}i&&M&64&&Lm(g),ba(g,g.return);break;case 27:Pm(g);case 26:case 5:Rr(h,g,i),i&&o===null&&M&4&&Im(g),ba(g,g.return);break;case 12:Rr(h,g,i);break;case 13:Rr(h,g,i),i&&M&4&&Gm(h,g);break;case 22:g.memoizedState===null&&Rr(h,g,i),ba(g,g.return);break;case 30:break;default:Rr(h,g,i)}n=n.sibling}}function kc(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&sa(i))}function jc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sa(e))}function Gn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wm(e,n,i,o),n=n.sibling}function Wm(e,n,i,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,i,o),h&2048&&wa(9,n);break;case 1:Gn(e,n,i,o);break;case 3:Gn(e,n,i,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sa(e)));break;case 12:if(h&2048){Gn(e,n,i,o),e=n.stateNode;try{var g=n.memoizedProps,M=g.id,H=g.onPostCommit;typeof H=="function"&&H(M,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(oe){pt(n,n.return,oe)}}else Gn(e,n,i,o);break;case 13:Gn(e,n,i,o);break;case 23:break;case 22:g=n.stateNode,M=n.alternate,n.memoizedState!==null?g._visibility&2?Gn(e,n,i,o):xa(e,n):g._visibility&2?Gn(e,n,i,o):(g._visibility|=2,Qi(e,n,i,o,(n.subtreeFlags&10256)!==0)),h&2048&&kc(M,n);break;case 24:Gn(e,n,i,o),h&2048&&jc(n.alternate,n);break;default:Gn(e,n,i,o)}}function Qi(e,n,i,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,M=n,H=i,oe=o,we=M.flags;switch(M.tag){case 0:case 11:case 15:Qi(g,M,H,oe,h),wa(8,M);break;case 23:break;case 22:var Ae=M.stateNode;M.memoizedState!==null?Ae._visibility&2?Qi(g,M,H,oe,h):xa(g,M):(Ae._visibility|=2,Qi(g,M,H,oe,h)),h&&we&2048&&kc(M.alternate,M);break;case 24:Qi(g,M,H,oe,h),h&&we&2048&&jc(M.alternate,M);break;default:Qi(g,M,H,oe,h)}n=n.sibling}}function xa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,h=o.flags;switch(o.tag){case 22:xa(i,o),h&2048&&kc(o.alternate,o);break;case 24:xa(i,o),h&2048&&jc(o.alternate,o);break;default:xa(i,o)}n=n.sibling}}var _a=8192;function Ji(e){if(e.subtreeFlags&_a)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 26:Ji(e),e.flags&_a&&e.memoizedState!==null&&T1(Ln,e.memoizedState,e.memoizedProps);break;case 5:Ji(e);break;case 3:case 4:var n=Ln;Ln=sl(e.stateNode.containerInfo),Ji(e),Ln=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=_a,_a=16777216,Ji(e),_a=n):Ji(e));break;default:Ji(e)}}function Xm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Ft=o,Qm(o,e)}Xm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zm(e),e=e.sibling}function Zm(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&jr(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vo(e)):Sa(e);break;default:Sa(e)}}function Vo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Ft=o,Qm(o,e)}Xm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:jr(8,n,n.return),Vo(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Vo(n));break;default:Vo(n)}e=e.sibling}}function Qm(e,n){for(;Ft!==null;){var i=Ft;switch(i.tag){case 0:case 11:case 15:jr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sa(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ft=o;else e:for(i=e;Ft!==null;){o=Ft;var h=o.sibling,g=o.return;if(qm(o),o===i){Ft=null;break e}if(h!==null){h.return=g,Ft=h;break e}Ft=g}}}var Fb={getCacheForType:function(e){var n=Yt(Mt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},Hb=typeof WeakMap=="function"?WeakMap:Map,ot=0,mt=null,Qe=null,tt=0,lt=0,mn=null,Cr=!1,es=!1,Nc=!1,hr=0,Tt=0,Or=0,hi=0,Rc=0,kn=0,ts=0,Ea=null,an=null,Cc=!1,Oc=0,Wo=1/0,Yo=null,Dr=null,Gt=0,Ur=null,ns=null,rs=0,Dc=0,Uc=null,Jm=null,Ta=0,Mc=null;function gn(){if((ot&2)!==0&&tt!==0)return tt&-tt;if(V.T!==null){var e=$i;return e!==0?e:Hc()}return Hs()}function eg(){kn===0&&(kn=(tt&536870912)===0||it?un():536870912);var e=An.current;return e!==null&&(e.flags|=32),kn}function yn(e,n,i){(e===mt&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(is(e,0),Mr(e,tt,kn,!1)),en(e,i),((ot&2)===0||e!==mt)&&(e===mt&&((ot&2)===0&&(hi|=i),Tt===4&&Mr(e,tt,kn,!1)),Kn(e))}function tg(e,n,i){if((ot&6)!==0)throw Error(a(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||It(e,n),h=o?Gb(e,n):Ic(e,n,!0),g=o;do{if(h===0){es&&!o&&Mr(e,n,0,!1);break}else{if(i=e.current.alternate,g&&!qb(i)){h=Ic(e,n,!1),g=!1;continue}if(h===2){if(g=n,e.errorRecoveryDisabledLanes&g)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;e:{var H=e;h=Ea;var oe=H.current.memoizedState.isDehydrated;if(oe&&(is(H,M).flags|=256),M=Ic(H,M,!1),M!==2){if(Nc&&!oe){H.errorRecoveryDisabledLanes|=g,hi|=g,h=4;break e}g=an,an=h,g!==null&&(an===null?an=g:an.push.apply(an,g))}h=M}if(g=!1,h!==2)continue}}if(h===1){is(e,0),Mr(e,n,0,!0);break}e:{switch(o=e,g=h,g){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,kn,!Cr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Oc+300-y(),10<h)){if(Mr(o,n,kn,!Cr),vt(o,0,!0)!==0)break e;o.timeoutHandle=Rg(ng.bind(null,o,i,an,Yo,Cc,n,kn,hi,ts,Cr,g,2,-0,0),h);break e}ng(o,i,an,Yo,Cc,n,kn,hi,ts,Cr,g,0,-0,0)}}break}while(!0);Kn(e)}function ng(e,n,i,o,h,g,M,H,oe,we,Ae,Ne,xe,_e){if(e.timeoutHandle=-1,Ne=n.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(Oa={stylesheets:null,count:0,unsuspend:E1},Ym(n),Ne=A1(),Ne!==null)){e.cancelPendingCommit=Ne(ug.bind(null,e,n,g,i,o,h,M,H,oe,Ae,1,xe,_e)),Mr(e,g,M,!we);return}ug(e,n,g,i,o,h,M,H,oe)}function qb(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],g=h.getSnapshot;h=h.value;try{if(!fn(g(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,i,o){n&=~Rc,n&=~hi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var g=31-Pe(h),M=1<<g;o[g]=-1,h&=~M}i!==0&&so(e,i,n)}function Xo(){return(ot&6)===0?(Aa(0),!1):!0}function Lc(){if(Qe!==null){if(lt===0)var e=Qe.return;else e=Qe,ir=ai=null,Ju(e),Xi=null,ga=0,e=Qe;for(;e!==null;)Mm(e.alternate,e),e=e.return;Qe=null}}function is(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,o1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Lc(),mt=e,Qe=i=tr(e.current,null),tt=n,lt=0,mn=null,Cr=!1,es=It(e,n),Nc=!1,ts=kn=Rc=hi=Or=Tt=0,an=Ea=null,Cc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Pe(o),g=1<<h;n|=e[h],o&=~g}return hr=n,vo(),i}function rg(e,n){We=null,V.H=Bo,n===oa||n===ko?(n=bp(),lt=3):n===yp?(n=bp(),lt=4):lt=n===xm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Qe===null&&(Tt=1,Ho(e,_n(n,e.current)))}function ig(){var e=V.H;return V.H=Bo,e===null?Bo:e}function sg(){var e=V.A;return V.A=Fb,e}function Bc(){Tt=4,Cr||(tt&4194048)!==tt&&An.current!==null||(es=!0),(Or&134217727)===0&&(hi&134217727)===0||mt===null||Mr(mt,tt,kn,!1)}function Ic(e,n,i){var o=ot;ot|=2;var h=ig(),g=sg();(mt!==e||tt!==n)&&(Yo=null,is(e,n)),n=!1;var M=Tt;e:do try{if(lt!==0&&Qe!==null){var H=Qe,oe=mn;switch(lt){case 8:Lc(),M=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var we=lt;if(lt=0,mn=null,ss(e,H,oe,we),i&&es){M=0;break e}break;default:we=lt,lt=0,mn=null,ss(e,H,oe,we)}}$b(),M=Tt;break}catch(Ae){rg(e,Ae)}while(!0);return n&&e.shellSuspendCounter++,ir=ai=null,ot=o,V.H=h,V.A=g,Qe===null&&(mt=null,tt=0,vo()),M}function $b(){for(;Qe!==null;)ag(Qe)}function Gb(e,n){var i=ot;ot|=2;var o=ig(),h=sg();mt!==e||tt!==n?(Yo=null,Wo=y()+500,is(e,n)):es=It(e,n);e:do try{if(lt!==0&&Qe!==null){n=Qe;var g=mn;t:switch(lt){case 1:lt=0,mn=null,ss(e,n,g,1);break;case 2:case 9:if(vp(g)){lt=0,mn=null,og(n);break}n=function(){lt!==2&&lt!==9||mt!==e||(lt=7),Kn(e)},g.then(n,n);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:vp(g)?(lt=0,mn=null,og(n)):(lt=0,mn=null,ss(e,n,g,7));break;case 5:var M=null;switch(Qe.tag){case 26:M=Qe.memoizedState;case 5:case 27:var H=Qe;if(!M||Hg(M)){lt=0,mn=null;var oe=H.sibling;if(oe!==null)Qe=oe;else{var we=H.return;we!==null?(Qe=we,Zo(we)):Qe=null}break t}}lt=0,mn=null,ss(e,n,g,5);break;case 6:lt=0,mn=null,ss(e,n,g,6);break;case 8:Lc(),Tt=6;break e;default:throw Error(a(462))}}Kb();break}catch(Ae){rg(e,Ae)}while(!0);return ir=ai=null,V.H=o,V.A=h,ot=i,Qe!==null?0:(mt=null,tt=0,vo(),Tt)}function Kb(){for(;Qe!==null&&!ye();)ag(Qe)}function ag(e){var n=Dm(e.alternate,e,hr);e.memoizedProps=e.pendingProps,n===null?Zo(e):Qe=n}function og(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=km(i,n,n.pendingProps,n.type,void 0,tt);break;case 11:n=km(i,n,n.pendingProps,n.type.render,n.ref,tt);break;case 5:Ju(n);default:Mm(i,n),n=Qe=lp(n,hr),n=Dm(i,n,hr)}e.memoizedProps=e.pendingProps,n===null?Zo(e):Qe=n}function ss(e,n,i,o){ir=ai=null,Ju(n),Xi=null,ga=0;var h=n.return;try{if(Mb(e,h,n,i,tt)){Tt=1,Ho(e,_n(i,e.current)),Qe=null;return}}catch(g){if(h!==null)throw Qe=h,g;Tt=1,Ho(e,_n(i,e.current)),Qe=null;return}n.flags&32768?(it||o===1?e=!0:es||(tt&536870912)!==0?e=!1:(Cr=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),lg(n,e)):Zo(n)}function Zo(e){var n=e;do{if((n.flags&32768)!==0){lg(n,Cr);return}e=n.return;var i=Bb(n.alternate,n,hr);if(i!==null){Qe=i;return}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=e}while(n!==null);Tt===0&&(Tt=5)}function lg(e,n){do{var i=Ib(e.alternate,e);if(i!==null){i.flags&=32767,Qe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=i}while(e!==null);Tt=6,Qe=null}function ug(e,n,i,o,h,g,M,H,oe){e.cancelPendingCommit=null;do Qo();while(Gt!==0);if((ot&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(g=n.lanes|n.childLanes,g|=ju,Vt(e,i,g,M,H,oe),e===mt&&(Qe=mt=null,tt=0),ns=n,Ur=e,rs=i,Dc=g,Uc=h,Jm=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xb(ee,function(){return pg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=V.T,V.T=null,h=Y.p,Y.p=2,M=ot,ot|=4;try{zb(e,n,i)}finally{ot=M,Y.p=h,V.T=o}}Gt=1,cg(),fg(),hg()}}function cg(){if(Gt===1){Gt=0;var e=Ur,n=ns,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=V.T,V.T=null;var o=Y.p;Y.p=2;var h=ot;ot|=4;try{Km(n,e);var g=Xc,M=Qd(e.containerInfo),H=g.focusedElem,oe=g.selectionRange;if(M!==H&&H&&H.ownerDocument&&Zd(H.ownerDocument.documentElement,H)){if(oe!==null&&Su(H)){var we=oe.start,Ae=oe.end;if(Ae===void 0&&(Ae=we),"selectionStart"in H)H.selectionStart=we,H.selectionEnd=Math.min(Ae,H.value.length);else{var Ne=H.ownerDocument||document,xe=Ne&&Ne.defaultView||window;if(xe.getSelection){var _e=xe.getSelection(),Fe=H.textContent.length,Ie=Math.min(oe.start,Fe),ht=oe.end===void 0?Ie:Math.min(oe.end,Fe);!_e.extend&&Ie>ht&&(M=ht,ht=Ie,Ie=M);var me=Xd(H,Ie),he=Xd(H,ht);if(me&&he&&(_e.rangeCount!==1||_e.anchorNode!==me.node||_e.anchorOffset!==me.offset||_e.focusNode!==he.node||_e.focusOffset!==he.offset)){var ve=Ne.createRange();ve.setStart(me.node,me.offset),_e.removeAllRanges(),Ie>ht?(_e.addRange(ve),_e.extend(he.node,he.offset)):(ve.setEnd(he.node,he.offset),_e.addRange(ve))}}}}for(Ne=[],_e=H;_e=_e.parentNode;)_e.nodeType===1&&Ne.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ne.length;H++){var ke=Ne[H];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}cl=!!Yc,Xc=Yc=null}finally{ot=h,Y.p=o,V.T=i}}e.current=n,Gt=2}}function fg(){if(Gt===2){Gt=0;var e=Ur,n=ns,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=V.T,V.T=null;var o=Y.p;Y.p=2;var h=ot;ot|=4;try{Hm(e,n.alternate,n)}finally{ot=h,Y.p=o,V.T=i}}Gt=3}}function hg(){if(Gt===4||Gt===3){Gt=0,U();var e=Ur,n=ns,i=rs,o=Jm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gt=5:(Gt=0,ns=Ur=null,dg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),vr(i),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ce,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=V.T,h=Y.p,Y.p=2,V.T=null;try{for(var g=e.onRecoverableError,M=0;M<o.length;M++){var H=o[M];g(H.value,{componentStack:H.stack})}}finally{V.T=n,Y.p=h}}(rs&3)!==0&&Qo(),Kn(e),h=e.pendingLanes,(i&4194090)!==0&&(h&42)!==0?e===Mc?Ta++:(Ta=0,Mc=e):Ta=0,Aa(0)}}function dg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,sa(n)))}function Qo(e){return cg(),fg(),hg(),pg()}function pg(){if(Gt!==5)return!1;var e=Ur,n=Dc;Dc=0;var i=vr(rs),o=V.T,h=Y.p;try{Y.p=32>i?32:i,V.T=null,i=Uc,Uc=null;var g=Ur,M=rs;if(Gt=0,ns=Ur=null,rs=0,(ot&6)!==0)throw Error(a(331));var H=ot;if(ot|=4,Zm(g.current),Wm(g,g.current,M,i),ot=H,Aa(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ce,g)}catch{}return!0}finally{Y.p=h,V.T=o,dg(e,n)}}function mg(e,n,i){n=_n(i,n),n=dc(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(en(e,2),Kn(e))}function pt(e,n,i){if(e.tag===3)mg(e,e,i);else for(;n!==null;){if(n.tag===3){mg(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=_n(i,e),i=wm(2),o=Er(n,i,2),o!==null&&(bm(i,o,n,e),en(o,2),Kn(o));break}}n=n.return}}function zc(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Hb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(i)||(Nc=!0,h.add(i),e=Vb.bind(null,e,n,i),n.then(e,e))}function Vb(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,mt===e&&(tt&i)===i&&(Tt===4||Tt===3&&(tt&62914560)===tt&&300>y()-Oc?(ot&2)===0&&is(e,0):Rc|=i,ts===tt&&(ts=0)),Kn(e)}function gg(e,n){n===0&&(n=cn()),e=Pi(e,n),e!==null&&(en(e,n),Kn(e))}function Wb(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),gg(e,i)}function Yb(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),gg(e,i)}function Xb(e,n){return be(e,n)}var Jo=null,as=null,Pc=!1,el=!1,Fc=!1,di=0;function Kn(e){e!==as&&e.next===null&&(as===null?Jo=as=e:as=as.next=e),el=!0,Pc||(Pc=!0,Qb())}function Aa(e,n){if(!Fc&&el){Fc=!0;do for(var i=!1,o=Jo;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var g=0;else{var M=o.suspendedLanes,H=o.pingedLanes;g=(1<<31-Pe(42|e)+1)-1,g&=h&~(M&~H),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,bg(o,g))}else g=tt,g=vt(o,o===mt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||It(o,g)||(i=!0,bg(o,g));o=o.next}while(i);Fc=!1}}function Zb(){yg()}function yg(){el=Pc=!1;var e=0;di!==0&&(a1()&&(e=di),di=0);for(var n=y(),i=null,o=Jo;o!==null;){var h=o.next,g=vg(o,n);g===0?(o.next=null,i===null?Jo=h:i.next=h,h===null&&(as=i)):(i=o,(e!==0||(g&3)!==0)&&(el=!0)),o=h}Aa(e)}function vg(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var M=31-Pe(g),H=1<<M,oe=h[M];oe===-1?((H&i)===0||(H&o)!==0)&&(h[M]=wn(H,n)):oe<=n&&(e.expiredLanes|=H),g&=~H}if(n=mt,i=tt,i=vt(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&A(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||It(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&A(o),vr(i)){case 2:case 8:i=P;break;case 32:i=ee;break;case 268435456:i=de;break;default:i=ee}return o=wg.bind(null,e),i=be(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&A(o),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,n){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Qo()&&e.callbackNode!==i)return null;var o=tt;return o=vt(e,e===mt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(tg(e,o,n),vg(e,y()),e.callbackNode!=null&&e.callbackNode===i?wg.bind(null,e):null)}function bg(e,n){if(Qo())return null;tg(e,n,!0)}function Qb(){l1(function(){(ot&6)!==0?be(E,Zb):yg()})}function Hc(){return di===0&&(di=un()),di}function xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function _g(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Jb(e,n,i,o,h){if(n==="submit"&&i&&i.stateNode===h){var g=xg((h[tn]||null).action),M=o.submitter;M&&(n=(n=M[tn]||null)?xg(n.formAction):M.getAttribute("formAction"),n!==null&&(g=n,M=null));var H=new mo("action","action",null,o,h);e.push({event:H,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(di!==0){var oe=M?_g(h,M):new FormData(h);lc(i,{pending:!0,data:oe,method:h.method,action:g},null,oe)}}else typeof g=="function"&&(H.preventDefault(),oe=M?_g(h,M):new FormData(h),lc(i,{pending:!0,data:oe,method:h.method,action:g},g,oe))},currentTarget:h}]})}}for(var qc=0;qc<ku.length;qc++){var $c=ku[qc],e1=$c.toLowerCase(),t1=$c[0].toUpperCase()+$c.slice(1);Mn(e1,"on"+t1)}Mn(tp,"onAnimationEnd"),Mn(np,"onAnimationIteration"),Mn(rp,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(vb,"onTransitionRun"),Mn(wb,"onTransitionStart"),Mn(bb,"onTransitionCancel"),Mn(ip,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ka));function Sg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var M=o.length-1;0<=M;M--){var H=o[M],oe=H.instance,we=H.currentTarget;if(H=H.listener,oe!==g&&h.isPropagationStopped())break e;g=H,h.currentTarget=we;try{g(h)}catch(Ae){Fo(Ae)}h.currentTarget=null,g=oe}else for(M=0;M<o.length;M++){if(H=o[M],oe=H.instance,we=H.currentTarget,H=H.listener,oe!==g&&h.isPropagationStopped())break e;g=H,h.currentTarget=we;try{g(h)}catch(Ae){Fo(Ae)}h.currentTarget=null,g=oe}}}}function Je(e,n){var i=n[ru];i===void 0&&(i=n[ru]=new Set);var o=e+"__bubble";i.has(o)||(Eg(n,e,2,!1),i.add(o))}function Gc(e,n,i){var o=0;n&&(o|=4),Eg(i,e,o,n)}var tl="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[tl]){e[tl]=!0,yd.forEach(function(i){i!=="selectionchange"&&(n1.has(i)||Gc(i,!1,e),Gc(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tl]||(n[tl]=!0,Gc("selectionchange",!1,n))}}function Eg(e,n,i,o){switch(Wg(n)){case 2:var h=N1;break;case 8:h=R1;break;default:h=of}i=h.bind(null,n,i,e),h=void 0,!pu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Vc(e,n,i,o,h){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var M=o.tag;if(M===3||M===4){var H=o.stateNode.containerInfo;if(H===h)break;if(M===4)for(M=o.return;M!==null;){var oe=M.tag;if((oe===3||oe===4)&&M.stateNode.containerInfo===h)return;M=M.return}for(;H!==null;){if(M=ki(H),M===null)return;if(oe=M.tag,oe===5||oe===6||oe===26||oe===27){o=g=M;continue e}H=H.parentNode}}o=o.return}Cd(function(){var we=g,Ae=hu(i),Ne=[];e:{var xe=sp.get(e);if(xe!==void 0){var _e=mo,Fe=e;switch(e){case"keypress":if(ho(i)===0)break e;case"keydown":case"keyup":_e=Xw;break;case"focusin":Fe="focus",_e=vu;break;case"focusout":Fe="blur",_e=vu;break;case"beforeblur":case"afterblur":_e=vu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Jw;break;case tp:case np:case rp:_e=Fw;break;case ip:_e=tb;break;case"scroll":case"scrollend":_e=Lw;break;case"wheel":_e=rb;break;case"copy":case"cut":case"paste":_e=qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Ld;break;case"toggle":case"beforetoggle":_e=sb}var Ie=(n&4)!==0,ht=!Ie&&(e==="scroll"||e==="scrollend"),me=Ie?xe!==null?xe+"Capture":null:xe;Ie=[];for(var he=we,ve;he!==null;){var ke=he;if(ve=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ve===null||me===null||(ke=Ks(he,me),ke!=null&&Ie.push(ja(he,ke,ve))),ht)break;he=he.return}0<Ie.length&&(xe=new _e(xe,Fe,null,i,Ae),Ne.push({event:xe,listeners:Ie}))}}if((n&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",xe&&i!==fu&&(Fe=i.relatedTarget||i.fromElement)&&(ki(Fe)||Fe[Ai]))break e;if((_e||xe)&&(xe=Ae.window===Ae?Ae:(xe=Ae.ownerDocument)?xe.defaultView||xe.parentWindow:window,_e?(Fe=i.relatedTarget||i.toElement,_e=we,Fe=Fe?ki(Fe):null,Fe!==null&&(ht=u(Fe),Ie=Fe.tag,Fe!==ht||Ie!==5&&Ie!==27&&Ie!==6)&&(Fe=null)):(_e=null,Fe=we),_e!==Fe)){if(Ie=Ud,ke="onMouseLeave",me="onMouseEnter",he="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=Ld,ke="onPointerLeave",me="onPointerEnter",he="pointer"),ht=_e==null?xe:Gs(_e),ve=Fe==null?xe:Gs(Fe),xe=new Ie(ke,he+"leave",_e,i,Ae),xe.target=ht,xe.relatedTarget=ve,ke=null,ki(Ae)===we&&(Ie=new Ie(me,he+"enter",Fe,i,Ae),Ie.target=ve,Ie.relatedTarget=ht,ke=Ie),ht=ke,_e&&Fe)t:{for(Ie=_e,me=Fe,he=0,ve=Ie;ve;ve=os(ve))he++;for(ve=0,ke=me;ke;ke=os(ke))ve++;for(;0<he-ve;)Ie=os(Ie),he--;for(;0<ve-he;)me=os(me),ve--;for(;he--;){if(Ie===me||me!==null&&Ie===me.alternate)break t;Ie=os(Ie),me=os(me)}Ie=null}else Ie=null;_e!==null&&Tg(Ne,xe,_e,Ie,!1),Fe!==null&&ht!==null&&Tg(Ne,ht,Fe,Ie,!0)}}e:{if(xe=we?Gs(we):window,_e=xe.nodeName&&xe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&xe.type==="file")var Me=$d;else if(Hd(xe))if(Gd)Me=mb;else{Me=db;var Xe=hb}else _e=xe.nodeName,!_e||_e.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?we&&cu(we.elementType)&&(Me=$d):Me=pb;if(Me&&(Me=Me(e,we))){qd(Ne,Me,i,Ae);break e}Xe&&Xe(e,xe,we),e==="focusout"&&we&&xe.type==="number"&&we.memoizedProps.value!=null&&uu(xe,"number",xe.value)}switch(Xe=we?Gs(we):window,e){case"focusin":(Hd(Xe)||Xe.contentEditable==="true")&&(Bi=Xe,Eu=we,ea=null);break;case"focusout":ea=Eu=Bi=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,Jd(Ne,i,Ae);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":Jd(Ne,i,Ae)}var Be;if(bu)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Li?Pd(e,i)&&(ze="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ze="onCompositionStart");ze&&(Bd&&i.locale!=="ko"&&(Li||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Li&&(Be=Od()):(br=Ae,mu="value"in br?br.value:br.textContent,Li=!0)),Xe=nl(we,ze),0<Xe.length&&(ze=new Md(ze,e,null,i,Ae),Ne.push({event:ze,listeners:Xe}),Be?ze.data=Be:(Be=Fd(i),Be!==null&&(ze.data=Be)))),(Be=ob?lb(e,i):ub(e,i))&&(ze=nl(we,"onBeforeInput"),0<ze.length&&(Xe=new Md("onBeforeInput","beforeinput",null,i,Ae),Ne.push({event:Xe,listeners:ze}),Xe.data=Be)),Jb(Ne,e,we,i,Ae)}Sg(Ne,n)})}function ja(e,n,i){return{instance:e,listener:n,currentTarget:i}}function nl(e,n){for(var i=n+"Capture",o=[];e!==null;){var h=e,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Ks(e,i),h!=null&&o.unshift(ja(e,h,g)),h=Ks(e,n),h!=null&&o.push(ja(e,h,g))),e.tag===3)return o;e=e.return}return[]}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tg(e,n,i,o,h){for(var g=n._reactName,M=[];i!==null&&i!==o;){var H=i,oe=H.alternate,we=H.stateNode;if(H=H.tag,oe!==null&&oe===o)break;H!==5&&H!==26&&H!==27||we===null||(oe=we,h?(we=Ks(i,g),we!=null&&M.unshift(ja(i,we,oe))):h||(we=Ks(i,g),we!=null&&M.push(ja(i,we,oe)))),i=i.return}M.length!==0&&e.push({event:n,listeners:M})}var r1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(i1,"")}function kg(e,n){return n=Ag(n),Ag(e)===n}function rl(){}function ft(e,n,i,o,h,g){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Di(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Di(e,""+o);break;case"className":oo(e,"class",o);break;case"tabIndex":oo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":oo(e,i,o);break;case"style":Nd(e,o,g);break;case"data":if(n!=="object"){oo(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=co(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(n!=="input"&&ft(e,n,"name",h.name,h,null),ft(e,n,"formEncType",h.formEncType,h,null),ft(e,n,"formMethod",h.formMethod,h,null),ft(e,n,"formTarget",h.formTarget,h,null)):(ft(e,n,"encType",h.encType,h,null),ft(e,n,"method",h.method,h,null),ft(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=co(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=rl);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=co(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Je("beforetoggle",e),Je("toggle",e),ao(e,"popover",o);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ao(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Uw.get(i)||i,ao(e,i,o))}}function Wc(e,n,i,o,h,g){switch(i){case"style":Nd(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof o=="string"?Di(e,o):(typeof o=="number"||typeof o=="bigint")&&Di(e,""+o);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),g=e[tn]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(n,g,h),typeof o=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):ao(e,i,o)}}}function Kt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var o=!1,h=!1,g;for(g in i)if(i.hasOwnProperty(g)){var M=i[g];if(M!=null)switch(g){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(e,n,g,M,i,null)}}h&&ft(e,n,"srcSet",i.srcSet,i,null),o&&ft(e,n,"src",i.src,i,null);return;case"input":Je("invalid",e);var H=g=M=h=null,oe=null,we=null;for(o in i)if(i.hasOwnProperty(o)){var Ae=i[o];if(Ae!=null)switch(o){case"name":h=Ae;break;case"type":M=Ae;break;case"checked":oe=Ae;break;case"defaultChecked":we=Ae;break;case"value":g=Ae;break;case"defaultValue":H=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,n));break;default:ft(e,n,o,Ae,i,null)}}Td(e,g,H,oe,we,M,h,!1),lo(e);return;case"select":Je("invalid",e),o=M=g=null;for(h in i)if(i.hasOwnProperty(h)&&(H=i[h],H!=null))switch(h){case"value":g=H;break;case"defaultValue":M=H;break;case"multiple":o=H;default:ft(e,n,h,H,i,null)}n=g,i=M,e.multiple=!!o,n!=null?Oi(e,!!o,n,!1):i!=null&&Oi(e,!!o,i,!0);return;case"textarea":Je("invalid",e),g=h=o=null;for(M in i)if(i.hasOwnProperty(M)&&(H=i[M],H!=null))switch(M){case"value":o=H;break;case"defaultValue":h=H;break;case"children":g=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(91));break;default:ft(e,n,M,H,i,null)}kd(e,o,h,g),lo(e);return;case"option":for(oe in i)if(i.hasOwnProperty(oe)&&(o=i[oe],o!=null))switch(oe){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ft(e,n,oe,o,i,null)}return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(o=0;o<ka.length;o++)Je(ka[o],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in i)if(i.hasOwnProperty(we)&&(o=i[we],o!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(e,n,we,o,i,null)}return;default:if(cu(n)){for(Ae in i)i.hasOwnProperty(Ae)&&(o=i[Ae],o!==void 0&&Wc(e,n,Ae,o,i,void 0));return}}for(H in i)i.hasOwnProperty(H)&&(o=i[H],o!=null&&ft(e,n,H,o,i,null))}function s1(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,M=null,H=null,oe=null,we=null,Ae=null;for(_e in i){var Ne=i[_e];if(i.hasOwnProperty(_e)&&Ne!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":oe=Ne;default:o.hasOwnProperty(_e)||ft(e,n,_e,null,o,Ne)}}for(var xe in o){var _e=o[xe];if(Ne=i[xe],o.hasOwnProperty(xe)&&(_e!=null||Ne!=null))switch(xe){case"type":g=_e;break;case"name":h=_e;break;case"checked":we=_e;break;case"defaultChecked":Ae=_e;break;case"value":M=_e;break;case"defaultValue":H=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,n));break;default:_e!==Ne&&ft(e,n,xe,_e,o,Ne)}}lu(e,M,H,oe,we,Ae,g,h);return;case"select":_e=M=H=xe=null;for(g in i)if(oe=i[g],i.hasOwnProperty(g)&&oe!=null)switch(g){case"value":break;case"multiple":_e=oe;default:o.hasOwnProperty(g)||ft(e,n,g,null,o,oe)}for(h in o)if(g=o[h],oe=i[h],o.hasOwnProperty(h)&&(g!=null||oe!=null))switch(h){case"value":xe=g;break;case"defaultValue":H=g;break;case"multiple":M=g;default:g!==oe&&ft(e,n,h,g,o,oe)}n=H,i=M,o=_e,xe!=null?Oi(e,!!i,xe,!1):!!o!=!!i&&(n!=null?Oi(e,!!i,n,!0):Oi(e,!!i,i?[]:"",!1));return;case"textarea":_e=xe=null;for(H in i)if(h=i[H],i.hasOwnProperty(H)&&h!=null&&!o.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:ft(e,n,H,null,o,h)}for(M in o)if(h=o[M],g=i[M],o.hasOwnProperty(M)&&(h!=null||g!=null))switch(M){case"value":xe=h;break;case"defaultValue":_e=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==g&&ft(e,n,M,h,o,g)}Ad(e,xe,_e);return;case"option":for(var Fe in i)if(xe=i[Fe],i.hasOwnProperty(Fe)&&xe!=null&&!o.hasOwnProperty(Fe))switch(Fe){case"selected":e.selected=!1;break;default:ft(e,n,Fe,null,o,xe)}for(oe in o)if(xe=o[oe],_e=i[oe],o.hasOwnProperty(oe)&&xe!==_e&&(xe!=null||_e!=null))switch(oe){case"selected":e.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:ft(e,n,oe,xe,o,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in i)xe=i[Ie],i.hasOwnProperty(Ie)&&xe!=null&&!o.hasOwnProperty(Ie)&&ft(e,n,Ie,null,o,xe);for(we in o)if(xe=o[we],_e=i[we],o.hasOwnProperty(we)&&xe!==_e&&(xe!=null||_e!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,n));break;default:ft(e,n,we,xe,o,_e)}return;default:if(cu(n)){for(var ht in i)xe=i[ht],i.hasOwnProperty(ht)&&xe!==void 0&&!o.hasOwnProperty(ht)&&Wc(e,n,ht,void 0,o,xe);for(Ae in o)xe=o[Ae],_e=i[Ae],!o.hasOwnProperty(Ae)||xe===_e||xe===void 0&&_e===void 0||Wc(e,n,Ae,xe,o,_e);return}}for(var me in i)xe=i[me],i.hasOwnProperty(me)&&xe!=null&&!o.hasOwnProperty(me)&&ft(e,n,me,null,o,xe);for(Ne in o)xe=o[Ne],_e=i[Ne],!o.hasOwnProperty(Ne)||xe===_e||xe==null&&_e==null||ft(e,n,Ne,xe,o,_e)}var Yc=null,Xc=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function jg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qc=null;function a1(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var Rg=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,Cg=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cg<"u"?function(e){return Cg.resolve(null).then(e).catch(u1)}:Rg;function u1(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function Og(e,n){var i=n,o=0,h=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<o&&8>o){i=o;var M=e.ownerDocument;if(i&1&&Na(M.documentElement),i&2&&Na(M.body),i&4)for(i=M.head,Na(i),M=i.firstChild;M;){var H=M.nextSibling,oe=M.nodeName;M[$s]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&M.rel.toLowerCase()==="stylesheet"||i.removeChild(M),M=H}}if(h===0){e.removeChild(g),Ba(n);return}h--}else i==="$"||i==="$?"||i==="$!"?h++:o=i.charCodeAt(0)-48;else o=0;i=g}while(i);Ba(n)}function Jc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Jc(i),iu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function c1(e,n,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$s])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function f1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bn(e.nextSibling),e===null))return null;return e}function ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function h1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var tf=null;function Dg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Ug(e,n,i){switch(n=il(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Na(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);iu(e)}var jn=new Map,Mg=new Set;function sl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dr=Y.d;Y.d={f:d1,r:p1,D:m1,C:g1,L:y1,m:v1,X:b1,S:w1,M:x1};function d1(){var e=dr.f(),n=Xo();return e||n}function p1(e){var n=ji(e);n!==null&&n.tag===5&&n.type==="form"?tm(n):dr.r(e)}var ls=typeof document>"u"?null:document;function Lg(e,n,i){var o=ls;if(o&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Mg.has(h)||(Mg.add(h),e={rel:e,crossOrigin:i,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Kt(n,"link",e),zt(n),o.head.appendChild(n)))}}function m1(e){dr.D(e),Lg("dns-prefetch",e,null)}function g1(e,n){dr.C(e,n),Lg("preconnect",e,n)}function y1(e,n,i){dr.L(e,n,i);var o=ls;if(o&&e&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+xn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+xn(i.imageSizes)+'"]')):h+='[href="'+xn(e)+'"]';var g=h;switch(n){case"style":g=us(e);break;case"script":g=cs(e)}jn.has(g)||(e=m({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),jn.set(g,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ra(g))||n==="script"&&o.querySelector(Ca(g))||(n=o.createElement("link"),Kt(n,"link",e),zt(n),o.head.appendChild(n)))}}function v1(e,n){dr.m(e,n);var i=ls;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(e)+'"]',g=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=cs(e)}if(!jn.has(g)&&(e=m({rel:"modulepreload",href:e},n),jn.set(g,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ca(g)))return}o=i.createElement("link"),Kt(o,"link",e),zt(o),i.head.appendChild(o)}}}function w1(e,n,i){dr.S(e,n,i);var o=ls;if(o&&e){var h=Ni(o).hoistableStyles,g=us(e);n=n||"default";var M=h.get(g);if(!M){var H={loading:0,preload:null};if(M=o.querySelector(Ra(g)))H.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":n},i),(i=jn.get(g))&&nf(e,i);var oe=M=o.createElement("link");zt(oe),Kt(oe,"link",e),oe._p=new Promise(function(we,Ae){oe.onload=we,oe.onerror=Ae}),oe.addEventListener("load",function(){H.loading|=1}),oe.addEventListener("error",function(){H.loading|=2}),H.loading|=4,al(M,n,o)}M={type:"stylesheet",instance:M,count:1,state:H},h.set(g,M)}}}function b1(e,n){dr.X(e,n);var i=ls;if(i&&e){var o=Ni(i).hoistableScripts,h=cs(e),g=o.get(h);g||(g=i.querySelector(Ca(h)),g||(e=m({src:e,async:!0},n),(n=jn.get(h))&&rf(e,n),g=i.createElement("script"),zt(g),Kt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(h,g))}}function x1(e,n){dr.M(e,n);var i=ls;if(i&&e){var o=Ni(i).hoistableScripts,h=cs(e),g=o.get(h);g||(g=i.querySelector(Ca(h)),g||(e=m({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&rf(e,n),g=i.createElement("script"),zt(g),Kt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(h,g))}}function Bg(e,n,i,o){var h=(h=te.current)?sl(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=us(i.href),i=Ni(h).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=us(i.href);var g=Ni(h).hoistableStyles,M=g.get(e);if(M||(h=h.ownerDocument||h,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,M),(g=h.querySelector(Ra(e)))&&!g._p&&(M.instance=g,M.state.loading=5),jn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},jn.set(e,i),g||_1(h,e,i,M.state))),n&&o===null)throw Error(a(528,""));return M}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(i),i=Ni(h).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function us(e){return'href="'+xn(e)+'"'}function Ra(e){return'link[rel="stylesheet"]['+e+"]"}function Ig(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function _1(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Kt(n,"link",i),zt(n),e.head.appendChild(n))}function cs(e){return'[src="'+xn(e)+'"]'}function Ca(e){return"script[async]"+e}function zg(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+xn(i.href)+'"]');if(o)return n.instance=o,zt(o),o;var h=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),zt(o),Kt(o,"style",h),al(o,i.precedence,e),n.instance=o;case"stylesheet":h=us(i.href);var g=e.querySelector(Ra(h));if(g)return n.state.loading|=4,n.instance=g,zt(g),g;o=Ig(i),(h=jn.get(h))&&nf(o,h),g=(e.ownerDocument||e).createElement("link"),zt(g);var M=g;return M._p=new Promise(function(H,oe){M.onload=H,M.onerror=oe}),Kt(g,"link",o),n.state.loading|=4,al(g,i.precedence,e),n.instance=g;case"script":return g=cs(i.src),(h=e.querySelector(Ca(g)))?(n.instance=h,zt(h),h):(o=i,(h=jn.get(g))&&(o=m({},i),rf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),zt(h),Kt(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,al(o,i.precedence,e));return n.instance}function al(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,g=h,M=0;M<o.length;M++){var H=o[M];if(H.dataset.precedence===n)g=H;else if(g!==h)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ol=null;function Pg(e,n,i){if(ol===null){var o=new Map,h=ol=new Map;h.set(i,o)}else h=ol,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var g=i[h];if(!(g[$s]||g[Wt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var M=g.getAttribute(n)||"";M=e+M;var H=o.get(M);H?H.push(g):o.set(M,[g])}}return o}function Fg(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function S1(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Oa=null;function E1(){}function T1(e,n,i){if(Oa===null)throw Error(a(475));var o=Oa;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=us(i.href),g=e.querySelector(Ra(h));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ll.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=g,zt(g);return}g=e.ownerDocument||e,i=Ig(i),(h=jn.get(h))&&nf(i,h),g=g.createElement("link"),zt(g);var M=g;M._p=new Promise(function(H,oe){M.onload=H,M.onerror=oe}),Kt(g,"link",i),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=ll.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function A1(){if(Oa===null)throw Error(a(475));var e=Oa;return e.stylesheets&&e.count===0&&sf(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&sf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function ll(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ul=null;function sf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ul=new Map,n.forEach(k1,e),ul=null,ll.call(e))}function k1(e,n){if(!(n.state.loading&4)){var i=ul.get(e);if(i)var o=i.get(null);else{i=new Map,ul.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var M=h[g];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(i.set(M.dataset.precedence,M),o=M)}o&&i.set(null,o)}h=n.instance,M=h.getAttribute("data-precedence"),g=i.get(M)||o,g===o&&i.set(null,h),i.set(M,h),this.count++,o=ll.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),g?g.parentNode.insertBefore(h,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Da={$$typeof:D,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function j1(e,n,i,o,h,g,M,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function qg(e,n,i,o,h,g,M,H,oe,we,Ae,Ne){return e=new j1(e,n,i,M,H,oe,we,Ne),n=1,g===!0&&(n|=24),g=hn(3,null,null,n),e.current=g,g.stateNode=e,n=zu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:i,cache:n},qu(g),e}function $g(e){return e?(e=Fi,e):Fi}function Gg(e,n,i,o,h,g){h=$g(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(n),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=Er(e,o,n),i!==null&&(yn(i,e,n),ua(i,e,n))}function Kg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function af(e,n){Kg(e,n),(e=e.alternate)&&Kg(e,n)}function Vg(e){if(e.tag===13){var n=Pi(e,67108864);n!==null&&yn(n,e,67108864),af(e,67108864)}}var cl=!0;function N1(e,n,i,o){var h=V.T;V.T=null;var g=Y.p;try{Y.p=2,of(e,n,i,o)}finally{Y.p=g,V.T=h}}function R1(e,n,i,o){var h=V.T;V.T=null;var g=Y.p;try{Y.p=8,of(e,n,i,o)}finally{Y.p=g,V.T=h}}function of(e,n,i,o){if(cl){var h=lf(o);if(h===null)Vc(e,n,o,fl,i),Yg(e,o);else if(O1(h,e,n,i,o))o.stopPropagation();else if(Yg(e,o),n&4&&-1<C1.indexOf(e)){for(;h!==null;){var g=ji(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var M=xt(g.pendingLanes);if(M!==0){var H=g;for(H.pendingLanes|=2,H.entangledLanes|=2;M;){var oe=1<<31-Pe(M);H.entanglements[1]|=oe,M&=~oe}Kn(g),(ot&6)===0&&(Wo=y()+500,Aa(0))}}break;case 13:H=Pi(g,2),H!==null&&yn(H,g,2),Xo(),af(g,2)}if(g=lf(o),g===null&&Vc(e,n,o,fl,i),g===h)break;h=g}h!==null&&o.stopPropagation()}else Vc(e,n,o,null,i)}}function lf(e){return e=hu(e),uf(e)}var fl=null;function uf(e){if(fl=null,e=ki(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=c(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fl=e,null}function Wg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v()){case E:return 2;case P:return 8;case ee:case K:return 32;case de:return 268435456;default:return 32}default:return 32}}var cf=!1,Br=null,Ir=null,zr=null,Ua=new Map,Ma=new Map,Pr=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,n){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ua.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(n.pointerId)}}function La(e,n,i,o,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:g,targetContainers:[h]},n!==null&&(n=ji(n),n!==null&&Vg(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function O1(e,n,i,o,h){switch(n){case"focusin":return Br=La(Br,e,n,i,o,h),!0;case"dragenter":return Ir=La(Ir,e,n,i,o,h),!0;case"mouseover":return zr=La(zr,e,n,i,o,h),!0;case"pointerover":var g=h.pointerId;return Ua.set(g,La(Ua.get(g)||null,e,n,i,o,h)),!0;case"gotpointercapture":return g=h.pointerId,Ma.set(g,La(Ma.get(g)||null,e,n,i,o,h)),!0}return!1}function Xg(e){var n=ki(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=c(i),n!==null){e.blockedOn=n,qs(e.priority,function(){if(i.tag===13){var o=gn();o=Xr(o);var h=Pi(i,o);h!==null&&yn(h,i,o),af(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=lf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);fu=o,i.target.dispatchEvent(o),fu=null}else return n=ji(i),n!==null&&Vg(n),e.blockedOn=i,!1;n.shift()}return!0}function Zg(e,n,i){hl(e)&&i.delete(n)}function D1(){cf=!1,Br!==null&&hl(Br)&&(Br=null),Ir!==null&&hl(Ir)&&(Ir=null),zr!==null&&hl(zr)&&(zr=null),Ua.forEach(Zg),Ma.forEach(Zg)}function dl(e,n){e.blockedOn===n&&(e.blockedOn=null,cf||(cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D1)))}var pl=null;function Qg(e){pl!==e&&(pl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pl===e&&(pl=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(uf(o||i)===null)continue;break}var g=ji(i);g!==null&&(e.splice(n,3),n-=3,lc(g,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function Ba(e){function n(oe){return dl(oe,e)}Br!==null&&dl(Br,e),Ir!==null&&dl(Ir,e),zr!==null&&dl(zr,e),Ua.forEach(n),Ma.forEach(n);for(var i=0;i<Pr.length;i++){var o=Pr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Pr.length&&(i=Pr[0],i.blockedOn===null);)Xg(i),i.blockedOn===null&&Pr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],g=i[o+1],M=h[tn]||null;if(typeof g=="function")M||Qg(i);else if(M){var H=null;if(g&&g.hasAttribute("formAction")){if(h=g,M=g[tn]||null)H=M.formAction;else if(uf(h)!==null)continue}else H=M.action;typeof H=="function"?i[o+1]=H:(i.splice(o,3),o-=3),Qg(i)}}}function ff(e){this._internalRoot=e}ml.prototype.render=ff.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,o=gn();Gg(i,o,e,n,null,null)},ml.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gg(e.current,2,null,e,null,null),Xo(),n[Ai]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hs();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Pr.length&&n!==0&&n<Pr[i].priority;i++);Pr.splice(i,0,e),i===0&&Xg(e)}};var Jg=t.version;if(Jg!=="19.1.1")throw Error(a(527,Jg,"19.1.1"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=d(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var U1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Ce=gl.inject(U1),De=gl}catch{}}return za.createRoot=function(e,n){if(!l(e))throw Error(a(299));var i=!1,o="",h=mm,g=gm,M=ym,H=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(H=n.unstable_transitionCallbacks)),n=qg(e,1,!1,null,null,i,o,h,g,M,H,null),e[Ai]=n.current,Kc(e),new ff(n)},za.hydrateRoot=function(e,n,i){if(!l(e))throw Error(a(299));var o=!1,h="",g=mm,M=gm,H=ym,oe=null,we=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(M=i.onCaughtError),i.onRecoverableError!==void 0&&(H=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(oe=i.unstable_transitionCallbacks),i.formState!==void 0&&(we=i.formState)),n=qg(e,1,!0,n,i??null,o,h,g,M,H,oe,we),n.context=$g(null),i=n.current,o=gn(),o=Xr(o),h=Sr(o),h.callback=null,Er(i,h,o),i=o,n.current.lanes=i,en(n,i),Kn(n),e[Ai]=n.current,Kc(e),new ml(n)},za.version="19.1.1",za}var u0;function G1(){if(u0)return pf.exports;u0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),pf.exports=$1(),pf.exports}var K1=G1();const V1=Fl(K1),W1=(s,t)=>{let r=s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");if(r||(r="section"),t.has(r)){let a=2,l=`${r}-${a}`;for(;t.has(l);)a++,l=`${r}-${a}`;r=l}return t.add(r),r},c0=(s,t)=>pe.useMemo(()=>{const r=s.split(`
`),a=[],l=[];r.forEach((c,f)=>{const d=c.match(/^# (.*)/);d&&l.push({title:d[1].trim(),startLine:f})}),l.length===0&&l.push({title:"Project Overview",startLine:0});const u=new Set;return l.forEach((c,f)=>{const d=c.startLine,p=f+1<l.length?l[f+1].startLine-1:r.length-1,m=r.slice(d,p+1),x=[],_=[],S=/^- \[( |x)\] (.*)/,j=/\s\(@([a-zA-Z0-9_]+)\)/,T=/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/,C=/\s\(\$(\d+(\.\d{1,2})?)\)/,b=/\s\+([0-9]{4}-[0-9]{2}-[0-9]{2})/,R=/\s!([0-9]{4}-[0-9]{2}-[0-9]{2})/,D=/^  - (\d{4}-\d{2}-\d{2}): (.*)/;let F=0,I=null;for(;F<m.length;){const L=m[F],ae=d+F,ce=L.match(/^(#+) (.*)/);if(ce){const re=ce[1].length,N=ce[2].trim(),J={text:N,slug:W1(N,u),level:re,line:ae};I=J,re<=3&&_.push(J)}const z=L.match(S);if(z){let re=z[2],N=null,J=null,V=null,Y,ge=null;const ue=re.match(T);ue&&(J=ue[1],re=re.replace(T,"").trim());const G=re.match(C);G&&(Y=parseFloat(G[1]),re=re.replace(C,"").trim());const $=re.match(j);$&&(N=$[1],re=re.replace(j,"").trim());const B=re.match(b);B&&(V=B[1],re=re.replace(b,"").trim());const Z=re.match(R);Z&&(ge=Z[1],re=re.replace(R,"").trim());const ne=[];let fe=F+1;for(;fe<m.length;){const te=m[fe],O=te.match(D);if(O){let k=O[2].trim(),ie=null;const Q=k.match(j);Q&&(ie=Q[1],k=k.replace(j,"").trim()),ne.push({lineIndex:d+fe,date:O[1],text:k,assigneeAlias:ie}),fe++}else{if(te.trim()!=="")break;fe++}}x.push({lineIndex:ae,text:re,completed:z[1]==="x",assigneeAlias:N,creationDate:V,completionDate:J,dueDate:ge,updates:ne,projectTitle:c.title,cost:Y,blockEndLine:d+(fe-1),sectionTitle:I==null?void 0:I.text,sectionSlug:I==null?void 0:I.slug}),F=fe}else F++}const se=t.reduce((L,ae)=>({...L,[ae.alias]:{user:ae,tasks:[]}}),{}),X=[];let le=0;x.forEach(L=>{L.cost&&(le+=L.cost),L.assigneeAlias&&se[L.assigneeAlias]?se[L.assigneeAlias].tasks.push(L):X.push(L)}),a.push({title:c.title,groupedTasks:se,unassignedTasks:X,totalCost:le,startLine:d,endLine:p,headings:_})}),a},[s,t]),f0="md-tasker-email-settings",vf={senderAlias:null,emailSubject:"Task Update for project: {projectTitle}",emailPreamble:`Hi {userName},

This is a friendly reminder about your outstanding tasks for the project. Please see the list below:`,emailPostamble:`Please provide an update when you can.

Best regards,`,emailSignature:"{senderName}",reminderMessage:"Reminder sent.",emailCreationDateLabel:"Created:",ccAlias:null,supabaseUrl:null,supabaseAnonKey:null,supabaseEmail:null},Y1=()=>{const[s,t]=pe.useState(vf);pe.useEffect(()=>{try{const a=localStorage.getItem(f0);a&&t({...vf,...JSON.parse(a)})}catch(a){console.error("Failed to load settings from localStorage",a),t(vf)}},[]);const r=pe.useCallback(a=>{t(l=>{const u={...l,...a};try{localStorage.setItem(f0,JSON.stringify(u))}catch(c){console.error("Failed to save settings to localStorage",c)}return u})},[]);return[s,r]},X1=[{name:"Alice",alias:"alice",email:"alice@example.com",avatarUrl:"https://picsum.photos/seed/alice/40/40"},{name:"Bob",alias:"bob",email:"bob@example.com",avatarUrl:"https://picsum.photos/seed/bob/40/40"},{name:"Charlie",alias:"charlie",email:"charlie@example.com,engineering@example.com",avatarUrl:"https://picsum.photos/seed/charlie/40/40"},{name:"Diana",alias:"diana",email:"diana@example.com",avatarUrl:"https://picsum.photos/seed/diana/40/40"},{name:"Ethan",alias:"ethan",email:"ethan@example.com,product@example.com",avatarUrl:"https://picsum.photos/seed/ethan/40/40"}],Z1=`# Project Titan Launch 

This is a self-contained project file. Manage assignees in the "Manage Assignees" tab.
Use H1 headings (e.g., '# My Project') to create separate projects within this file.

## Phase 1: Design

- [ ] Wireframing and user flows !2024-08-10 (@alice) ($1500)
  - 2024-07-26: Initial sketches completed. (@alice)
  - 2024-07-27: Discussed with the product team, got feedback.
- [x] UI/UX Design system (@alice) ~2024-07-20 ($2500)
- [ ] Create brand style guide !2024-08-15 ($500)

## Phase 2: Development

- [ ] Setup CI/CD pipeline !2024-09-01 (@bob) ($2000)
- [ ] Develop core API endpoints !2024-08-25 (@charlie) ($4000)
- [ ] Frontend component library (@diana) ($3500)
- [ ] Implement user authentication ($1200)

# Project Phoenix: Q4 Initiatives 

This is a second project within the same file. You can switch between projects using the dropdown in the header.

## Marketing & Outreach

- [ ] Plan social media campaign !2024-10-15 (@ethan) ($1800)
- [ ] Write blog posts for new features (@diana) ($750)

## Infrastructure Update

- [ ] Migrate database to new server !2024-11-01 (@bob) ($3000)
- [ ] Update server dependencies ($400)`,_h=`# Archived Sections

This is where your archived sections will be stored, organized by their original project.`,Zy="md-tasker-project-state-v2",Q1=()=>{try{const s=localStorage.getItem(Zy);if(s){const t=JSON.parse(s);if(t&&typeof t.markdown=="string"&&Array.isArray(t.users))return{markdown:t.markdown,users:t.users,archiveMarkdown:t.archiveMarkdown||_h}}}catch(s){console.error("Failed to load project from localStorage:",s)}return{markdown:Z1,users:X1,archiveMarkdown:_h}},Qy=pe.createContext(void 0),J1=({children:s})=>{const t=pe.useMemo(()=>Q1(),[]),[r,a]=pe.useState(t.markdown),[l,u]=pe.useState(t.archiveMarkdown),[c,f]=pe.useState(t.users),[d,p]=Y1(),m=c0(r,c),x=c0(l,c);pe.useEffect(()=>{try{const ae={markdown:r,archiveMarkdown:l,users:c};localStorage.setItem(Zy,JSON.stringify(ae))}catch(ae){console.error("Failed to save project to localStorage:",ae)}},[r,l,c]);const _=pe.useCallback((ae,ce,z,re)=>{(re?u:a)(J=>{const V=J.split(`
`),Y=V.slice(0,ae),ge=V.slice(ce+1),ue=z.split(`
`);return[...Y,...ue,...ge].join(`
`)})},[]),S=pe.useCallback((ae,ce,z,re)=>{(re?u:a)(J=>{const V=J.split(`
`),Y=V.slice(0,ae),ge=V.slice(ae+ce),ue=z.split(`
`);return[...Y,...ue,...ge].join(`
`)})},[]),j=pe.useCallback((ae,ce)=>{a(z=>{const re=z.split(`
`);if(ae>=re.length)return z;const N=re[ae],J=/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/;let V=N.replace(J,"");if(ce){const ge=new Date().toISOString().split("T")[0];V=`${V.trim()} ~${ge}`}const Y=/^- \[( |x)\]/;return V=V.replace(Y,`- [${ce?"x":" "}]`),re[ae]=V,re.join(`
`)})},[]),T=pe.useCallback((ae,ce)=>{a(z=>{var ue,G;const re=z.split(`
`),N=re.slice(ae.startLine,ae.endLine+1),J=[...re.slice(0,ae.startLine),...re.slice(ae.endLine+1)],V=ce>ae.startLine?ce-N.length:ce,Y=[...N];return V>0&&((ue=J[V-1])==null?void 0:ue.trim())!==""&&Y.unshift(""),V<J.length&&((G=J[V])==null?void 0:G.trim())!==""&&Y.push(""),[...J.slice(0,V),...Y,...J.slice(V)].join(`
`)})},[]),C=pe.useCallback((ae,ce)=>{a(z=>{const re=z.split(`
`),N=re.slice(ae.startLine,ae.endLine+1);return[...re.slice(0,ce),...N,...re.slice(ce)].join(`
`)})},[]),b=pe.useCallback(({startLine:ae,endLine:ce},z)=>{const re=new Date().toISOString().split("T")[0];let N=[];a(J=>{const V=J.split(`
`);return N=V.slice(ae,ce+1),[...V.slice(0,ae),...V.slice(ce+1)].join(`
`).replace(/\n\n\n/g,`

`).trim()}),u(J=>{const V=J.split(`
`),Y=`# ${z}`;let ge=V.findIndex(Z=>Z.trim()===Y);const ue=[...N,`_Archived on: ${re}_`];if(ge===-1)return[...V,"",Y,...ue].join(`
`);let G=V.findIndex((Z,ne)=>ne>ge&&Z.startsWith("# "));G===-1&&(G=V.length);const $=V.slice(0,G),B=V.slice(G);return[...$,"",...ue,...B].join(`
`)})},[]),R=pe.useCallback(({startLine:ae,endLine:ce},z)=>{let re=[];u(N=>{const J=N.split(`
`),V=J.slice(ae,ce+1);re=V.filter(ue=>!ue.startsWith("_Archived on:"));let Y=[...J.slice(0,ae),...J.slice(ce+1)];const ge=x.find(ue=>ue.title===z);return ge&&ge.headings.length===1&&ge.headings[0].line>=ae&&ge.headings[0].line<=ce&&(J.slice(ge.startLine,ge.endLine+1).some($=>$.trim()!==""&&!V.includes($))||(Y=[...J.slice(0,ge.startLine),...J.slice(ge.endLine+1)])),Y.join(`
`).replace(/\n\n\n/g,`

`).trim()}),a(N=>{const J=N.split(`
`),V=m.find(ue=>ue.title===z);if(!V)return[...J,"",...re].join(`
`);const Y=J.slice(0,V.endLine+1),ge=J.slice(V.endLine+1);return[...Y,"",...re,...ge].join(`
`)})},[m,x]),D=pe.useCallback((ae,ce,z)=>{a(re=>{const N=re.split(`
`),J=new Date().toISOString().split("T")[0],V=z?` (@${z})`:"",Y=`  - ${J}: ${ce}${V}`,ge=/^  - \d{4}-\d{2}-\d{2}: .*/,ue=[...ae].sort((G,$)=>$-G);for(const G of ue){let $=G+1;for(;$<N.length&&(ge.test(N[$])||N[$].trim()==="")&&ge.test(N[$]);)$++;N.splice($,0,Y)}return N.join(`
`)})},[]),F=pe.useCallback((ae,ce)=>{if(f(z=>z.map(re=>re.alias===ae?ce:re)),ae!==ce.alias){const z=new RegExp(`\\(@${ae}\\)`,"g"),re=`(@${ce.alias})`;a(N=>N.replace(z,re)),u(N=>N.replace(z,re))}},[]),I=pe.useCallback(ae=>{f(z=>z.filter(re=>re.alias!==ae));const ce=new RegExp(`\\s\\(@${ae}\\)`,"g");a(z=>z.replace(ce,"")),u(z=>z.replace(ce,""))},[]),se=pe.useCallback(ae=>{if(c.some(z=>z.alias===ae.alias)){alert(`Alias "@${ae.alias}" is already taken. Please choose a unique alias.`);return}const ce=`https://picsum.photos/seed/${ae.alias}/40/40`;f(z=>[...z,{...ae,avatarUrl:ce}])},[c]),X=pe.useCallback(ae=>{const ce=new FileReader;ce.onload=z=>{var re;try{const N=(re=z.target)==null?void 0:re.result,J=JSON.parse(N);J&&Array.isArray(J.users)&&typeof J.markdown=="string"?(f(J.users),a(J.markdown),u(J.archiveMarkdown||_h),J.settings&&p(J.settings),alert("Project imported successfully!")):alert("Invalid project file format.")}catch(N){console.error("Failed to parse project file",N),alert("Failed to read or parse the project file.")}},ce.readAsText(ae)},[p]),le=pe.useCallback(ae=>{},[]),L={markdown:r,setMarkdown:a,archiveMarkdown:l,users:c,setUsers:f,settings:d,saveSettings:p,projects:m,archiveProjects:x,updateSection:_,toggleTask:j,updateTaskBlock:S,moveSection:T,duplicateSection:C,addBulkTaskUpdates:D,addUser:se,updateUser:F,deleteUser:I,importProject:X,handleRequestLocalRestore:le,archiveSection:b,restoreSection:R};return w.jsx(Qy.Provider,{value:L,children:s})},Vr=()=>{const s=pe.useContext(Qy);if(s===void 0)throw new Error("useProject must be used within a ProjectProvider");return s},Va=s=>s.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),ex=({user:s,onUpdate:t,onDelete:r})=>{const[a,l]=pe.useState(s.name),[u,c]=pe.useState(s.email),[f,d]=pe.useState(s.alias);pe.useEffect(()=>{l(s.name),c(s.email),d(s.alias)},[s]);const p=()=>{const _={...s,name:a,email:u,alias:Va(f)};t(s.alias,_)},m=_=>{d(Va(_.target.value))},x=a!==s.name||u!==s.email||f!==s.alias;return w.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-slate-800 rounded-lg",children:[w.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-12 w-12 rounded-full flex-shrink-0"}),w.jsxs("div",{className:"flex-grow grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:`name-${s.alias}`,className:"block text-sm font-medium text-slate-400 mb-1",children:"Name / Description"}),w.jsx("input",{id:`name-${s.alias}`,type:"text",value:a,onChange:_=>l(_.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:`alias-${s.alias}`,className:"block text-sm font-medium text-slate-400 mb-1",children:"Alias"}),w.jsx("input",{id:`alias-${s.alias}`,type:"text",value:f,onChange:m,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:`email-${s.alias}`,className:"block text-sm font-medium text-slate-400 mb-1",children:"Email(s)"}),w.jsx("input",{id:`email-${s.alias}`,type:"text",value:u,onChange:_=>c(_.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:p,disabled:!x,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold disabled:bg-slate-600 disabled:cursor-not-allowed",children:"Save"}),w.jsx("button",{onClick:()=>r(s.alias),className:"px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 transition-colors font-semibold",children:"Delete"})]})]})},tx=()=>{const{users:s,addUser:t,updateUser:r,deleteUser:a}=Vr(),[l,u]=pe.useState(""),[c,f]=pe.useState(""),[d,p]=pe.useState(""),[m,x]=pe.useState(!1),_=T=>{const C=T.target.value;u(C),m||p(Va(C))},S=T=>{p(Va(T.target.value)),x(!0)},j=T=>{T.preventDefault();const C=Va(d.trim());l.trim()&&c.trim()&&C&&(t({name:l.trim(),email:c.trim(),alias:C}),u(""),f(""),p(""),x(!1))};return w.jsx("div",{className:"p-8 overflow-y-auto h-full text-slate-200 pb-24",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add New Assignee"}),w.jsxs("form",{onSubmit:j,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"new-name",className:"block text-sm font-medium text-slate-400 mb-1",children:"Name / Description"}),w.jsx("input",{id:"new-name",type:"text",value:l,onChange:_,placeholder:"e.g., John Doe or 'Frontend Team'",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"new-alias",className:"block text-sm font-medium text-slate-400 mb-1",children:"Alias"}),w.jsx("input",{id:"new-alias",type:"text",value:d,onChange:S,placeholder:"e.g., john_doe",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"new-email",className:"block text-sm font-medium text-slate-400 mb-1",children:"Email(s)"}),w.jsx("input",{id:"new-email",type:"text",value:c,onChange:T=>f(T.target.value),placeholder:"john.doe@example.com",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]})]}),w.jsx("div",{className:"flex justify-end",children:w.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-green-600 hover:bg-green-700 transition-colors font-semibold",children:"Add Assignee"})})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 border-b border-slate-700 pb-2",children:"Existing Assignees"}),s.length>0?s.map(T=>w.jsx(ex,{user:T,onUpdate:r,onDelete:a},T.alias)):w.jsx("p",{className:"text-slate-400 text-center py-4",children:"No assignees found. Add one using the form above."})]})]})})};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jy=(...s)=>s.filter((t,r,a)=>!!t&&a.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:c,...f},d)=>pe.createElement("svg",{ref:d,...rx,width:t,height:t,stroke:s,strokeWidth:a?Number(r)*24/Number(t):r,className:Jy("lucide",l),...f},[...c.map(([p,m])=>pe.createElement(p,m)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(s,t)=>{const r=pe.forwardRef(({className:a,...l},u)=>pe.createElement(ix,{ref:u,iconNode:t,className:Jy(`lucide-${nx(s)}`,a),...l}));return r.displayName=`${s}`,r};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Ge("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Ge("ArrowUpToLine",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Ge("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Ge("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Ge("BookUp",[["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ge("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Ge("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Ge("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ge("CloudDownload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ge("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Ge("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ge("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Ge("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Ge("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ge("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Ge("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Ge("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ge("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ge("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kh=({isOpen:s,onClose:t,onConfirm:r,onSecondaryAction:a,title:l,confirmText:u="Confirm",secondaryText:c,children:f})=>s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:l}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"text-slate-300 mb-6",children:f}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[a&&c&&w.jsx("button",{onClick:a,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:c}),w.jsx("button",{onClick:r,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:u})]})]})}):null,Nn=({onClick:s,label:t,children:r})=>w.jsx("button",{type:"button",onMouseDown:a=>a.preventDefault(),onClick:s,className:"p-2 rounded-md hover:bg-slate-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":t,title:t,children:r}),Gl=({onFormat:s,onInsert:t,users:r})=>{const[a,l]=pe.useState(!1),[u,c]=pe.useState(""),f=pe.useRef(null),d=pe.useMemo(()=>u?r.filter(m=>m.name.toLowerCase().includes(u.toLowerCase())||m.alias.toLowerCase().includes(u.toLowerCase())):r,[r,u]);pe.useEffect(()=>{const m=x=>{f.current&&!f.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),pe.useEffect(()=>{a||c("")},[a]);const p=m=>{t(`(@${m})`,"assignee"),l(!1)};return w.jsxs("div",{className:"flex items-center space-x-1 bg-slate-800 p-2 rounded-lg border border-slate-700 text-slate-300",children:[w.jsx(Nn,{onClick:()=>s("h1"),label:"Heading 1",children:w.jsx("span",{className:"font-bold text-sm w-5 h-5 flex items-center justify-center",children:"H1"})}),w.jsx(Nn,{onClick:()=>s("h2"),label:"Heading 2",children:w.jsx("span",{className:"font-bold text-sm w-5 h-5 flex items-center justify-center",children:"H2"})}),w.jsx(Nn,{onClick:()=>s("h3"),label:"Heading 3",children:w.jsx("span",{className:"font-bold text-sm w-5 h-5 flex items-center justify-center",children:"H3"})}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsx(Nn,{onClick:()=>s("bold"),label:"Bold",children:w.jsx(lx,{className:"w-5 h-5"})}),w.jsx(Nn,{onClick:()=>s("italic"),label:"Italic",children:w.jsx(Sx,{className:"w-5 h-5"})}),w.jsx(Nn,{onClick:()=>s("link"),label:"Insert Link",children:w.jsx(Tx,{className:"w-5 h-5"})}),w.jsx(Nn,{onClick:()=>s("gmail"),label:"Insert Gmail Link",children:w.jsx(av,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsx(Nn,{onClick:()=>s("ul"),label:"Unordered List",children:w.jsx(jx,{className:"w-5 h-5"})}),w.jsx(Nn,{onClick:()=>s("task"),label:"Task List",children:w.jsx(kx,{className:"w-5 h-5"})}),w.jsx(Nn,{onClick:()=>s("update"),label:"Add Update Note",children:w.jsx(Cx,{className:"w-5 h-5"})}),w.jsx(Nn,{onClick:()=>s("dueDate"),label:"Add Due Date",children:w.jsx(Hl,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsxs("div",{className:"relative",ref:f,children:[w.jsx(Nn,{onClick:()=>l(m=>!m),label:"Assign User",children:w.jsx(Mx,{className:"w-5 h-5"})}),a&&w.jsx("div",{className:"absolute left-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-20",children:w.jsxs("div",{className:"p-2",children:[w.jsx("input",{type:"text",placeholder:"Search assignee...",value:u,onChange:m=>c(m.target.value),className:"w-full mb-2 px-2 py-1.5 text-sm bg-slate-700 border border-slate-600 rounded-md text-slate-200 focus:ring-1 focus:ring-indigo-500 outline-none"}),w.jsx("div",{className:"text-xs text-slate-400 px-2 pb-1 font-semibold",children:"Insert Assignee..."}),d.map(m=>w.jsxs("button",{onMouseDown:x=>x.preventDefault(),onClick:()=>p(m.alias),className:"w-full text-left flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-slate-700",children:[w.jsx("img",{src:m.avatarUrl,alt:m.name,className:"h-6 w-6 rounded-full"}),w.jsx("span",{className:"text-sm text-slate-200",children:m.name}),w.jsxs("span",{className:"text-xs text-slate-400",children:["@",m.alias]})]},m.alias)),d.length===0&&w.jsx("p",{className:"px-2 py-1 text-sm text-slate-400",children:"No assignees found."})]})})]})]})},Kl=({isOpen:s,onClose:t,onSubmit:r,title:a,label:l,confirmText:u="Confirm"})=>{const[c,f]=pe.useState(""),d=pe.useRef(null);if(pe.useEffect(()=>{s&&(f(""),setTimeout(()=>{var m;return(m=d.current)==null?void 0:m.focus()},100))},[s]),!s)return null;const p=m=>{m.preventDefault(),c.trim()&&(r(c.trim()),t())};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:a}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:p,children:[w.jsxs("div",{className:"text-slate-300 mb-6",children:[w.jsx("label",{htmlFor:"modal-input",className:"block text-sm font-medium text-slate-300 mb-2",children:l}),w.jsx("input",{id:"modal-input",ref:d,type:"text",value:c,onChange:m=>f(m.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:u})]})]})]})})},d0=()=>new Date().toISOString().split("T")[0],Vl=({isOpen:s,onClose:t,onSelectDate:r,title:a,confirmText:l="Select Date"})=>{const[u,c]=pe.useState(d0),f=pe.useRef(null);if(pe.useEffect(()=>{s&&(c(d0()),setTimeout(()=>{var p;return(p=f.current)==null?void 0:p.focus()},100))},[s]),!s)return null;const d=p=>{p.preventDefault(),u&&(r(u),t())};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-xs mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:a}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:d,children:[w.jsx("div",{className:"text-slate-300 mb-6",children:w.jsx("input",{id:"modal-date-input",ref:f,type:"date",value:u,onChange:p=>c(p.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(tv,{className:"w-4 h-4"}),w.jsx("span",{children:l})]})]})]})]})})},Bx=({isOpen:s,onClose:t,task:r})=>{const{users:a,markdown:l,updateTaskBlock:u}=Vr(),c=pe.useMemo(()=>{const I=l.split(`
`),se=r.blockEndLine-r.lineIndex+1;return I.slice(r.lineIndex,r.lineIndex+se).join(`
`)},[l,r]),[f,d]=pe.useState(c),p=pe.useRef(null),[m,x]=pe.useState(!1),[_,S]=pe.useState(null),[j,T]=pe.useState(!1);if(pe.useEffect(()=>{s&&(d(c),setTimeout(()=>{p.current&&(p.current.focus(),p.current.style.height="auto",p.current.style.height=`${p.current.scrollHeight}px`)},100))},[s,c]),!s)return null;const C=()=>{const I=r.blockEndLine-r.lineIndex+1;u(r.lineIndex,I,f,!1),t()},b=I=>{d(I.target.value),I.target.style.height="auto",I.target.style.height=`${I.target.scrollHeight}px`},R=pe.useCallback((I,se)=>{const X=p.current;if(!X)return;const{selectionStart:le}=X;if(se==="assignee"){const J=f.substring(0,le).lastIndexOf(`
`)+1;let V=f.indexOf(`
`,le);V===-1&&(V=f.length);let Y=f.substring(J,V);const ge=/\s\(@([a-zA-Z0-9_]+)\)/g;Y=Y.replace(ge,"");const ue=Y.trimEnd()+" "+I,G=f.substring(0,J)+ue+f.substring(V);d(G),setTimeout(()=>{X.focus();const $=J+ue.length;X.setSelectionRange($,$)},0);return}const{selectionEnd:L}=X,ae=le>0?f[le-1]:`
`,z=`${/\s$/.test(ae)?"":" "}${I}`,re=f.substring(0,le)+z+f.substring(L);d(re),setTimeout(()=>{X.focus();const N=le+z.length;X.setSelectionRange(N,N)},0)},[f]),D=pe.useCallback(I=>{const se=p.current;if(!se)return;const{selectionStart:X,selectionEnd:le}=se,L=X>0?f[X-1]:`
`,ce=`${/\s$/.test(L)?"":" "}!${I}`,z=f.substring(0,X)+ce+f.substring(le);d(z),setTimeout(()=>{se.focus();const re=X+ce.length;se.setSelectionRange(re,re)},0)},[f]),F=pe.useCallback(I=>{const se=p.current;if(!se)return;const{selectionStart:X,selectionEnd:le}=se,L=f.substring(X,le);if(I==="link"){S({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:J=>{const V=X>0?f[X-1]:`
`,Y=le<f.length?f[le]:`
`,ge=/^\s$/.test(V)?"":" ",ue=/^\s$/.test(Y)?"":" ",G=L||"",$=J.replace(/\(/g,"%28").replace(/\)/g,"%29"),B=ge+`[${G}](${$})`+ue,Z=f.substring(0,X)+B+f.substring(le);d(Z),setTimeout(()=>{if(p.current){p.current.focus();const ne=X+ge.length+1,fe=ne+G.length;p.current.setSelectionRange(ne,fe)}},0)}}),x(!0);return}if(I==="gmail"){S({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:J=>{const V=X>0?f[X-1]:`
`,Y=le<f.length?f[le]:`
`,ge=/^\s$/.test(V)?"":" ",ue=/^\s$/.test(Y)?"":" ",B=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${J}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),Z=ge+`[ ${J}](${B})`+ue,ne=f.substring(0,X)+Z+f.substring(le);d(ne),setTimeout(()=>{if(p.current){p.current.focus();const fe=X+Z.length;p.current.setSelectionRange(fe,fe)}},0)}}),x(!0);return}if(I==="dueDate"){T(!0);return}let ae="",ce="",z="",re=-1,N;switch(I){case"h1":ae="# ";break;case"h2":ae="## ";break;case"h3":ae="### ";break;case"bold":ae="**",ce="**";break;case"italic":ae="*",ce="*";break;case"ul":ae="- ";break;case"task":{const J=new Date().toISOString().split("T")[0];if(X!==le){const V=L.split(`
`).map(Y=>Y.trim()===""||Y.trim().match(/^[-*] \[( |x)\]/)?Y:`- [ ] ${Y.trim()} +${J}`).join(`
`);N=f.substring(0,X)+V+f.substring(le),d(N),setTimeout(()=>{p.current&&(p.current.focus(),p.current.setSelectionRange(X+V.length,X+V.length))},0);return}else f.substring(0,X),ae=(X>0&&f[X-1]!==`
`?`
`:"")+"- [ ] ",ce=` +${J}`;break}case"update":{const J=new Date().toISOString().split("T")[0],V=f.substring(0,X);z=`${X===0||V.endsWith(`
`)?"":`
`}  - ${J}: `,re=X+z.length;break}}z?N=f.substring(0,X)+z+f.substring(le):N=f.substring(0,X)+ae+L+ce+f.substring(le),d(N),setTimeout(()=>{if(p.current)if(p.current.focus(),re!==-1)p.current.setSelectionRange(re,re);else if(L.length===0){const J=X+ae.length;p.current.setSelectionRange(J,J)}else p.current.setSelectionRange(X+ae.length,le+ae.length)},0)},[f]);return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-2xl mx-4 border border-slate-700 max-h-[90vh] flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Edit Task"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"flex-grow overflow-y-auto pr-2",children:[w.jsx("div",{className:"mb-2",children:w.jsx(Gl,{onFormat:F,onInsert:R,users:a})}),w.jsx("textarea",{ref:p,value:f,onChange:b,className:"w-full p-3 bg-slate-900 border border-slate-700 rounded-md resize-y focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm leading-relaxed"})]}),w.jsxs("div",{className:"flex justify-end mt-4 space-x-3 flex-shrink-0 border-t border-slate-700 pt-4",children:[w.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(Ja,{className:"w-4 h-4"}),w.jsx("span",{children:"Save Changes"})]})]})]})}),m&&_&&w.jsx(Kl,{isOpen:m,onClose:()=>x(!1),onSubmit:_.onSubmit,title:_.title,label:_.label,confirmText:_.confirmText}),w.jsx(Vl,{isOpen:j,onClose:()=>T(!1),onSelectDate:D,title:"Select Due Date",confirmText:"Insert Date"})]})},Ix=s=>{const t=/\[(.*?)\]\((.*?)\)/g;return s.replace(t,(r,a,l)=>`${a} (${l})`)},zx=s=>s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).map((r,a)=>{if(!r)return null;if(r.startsWith("**")&&r.endsWith("**"))return w.jsx("strong",{children:r.slice(2,-2)},a);if(r.startsWith("*")&&r.endsWith("*"))return w.jsx("em",{children:r.slice(1,-1)},a);const l=r.match(/\[(.*?)\]\((.*?)\)/);return l?w.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},a):r}),Px=({text:s})=>w.jsx(w.Fragment,{children:zx(s)}),ov=({task:s,viewScope:t,onEdit:r,onNavigate:a})=>{const u=((f,d)=>{if(!f||d)return null;const p=new Date;p.setHours(0,0,0,0);const x=new Date(`${f}T00:00:00`).getTime()-p.getTime(),_=Math.ceil(x/(1e3*60*60*24));let S="bg-slate-700 text-slate-300";return _<0?S="bg-red-500/20 text-red-400":_===0&&(S="bg-yellow-500/20 text-yellow-400"),{color:S,label:f}})(s.dueDate,s.completed),c=[t==="all"?s.projectTitle:null,s.sectionTitle].filter(Boolean).join(" > ");return w.jsxs("div",{className:"flex items-start space-x-3 group relative",children:[s.completed?w.jsx(ql,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}):w.jsx(rv,{className:"h-5 w-5 text-slate-500 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"flex-grow min-w-0",children:[w.jsx("span",{className:`text-sm ${s.completed?"line-through text-slate-500":"text-slate-300"}`,children:w.jsx(Px,{text:s.text})}),s.cost!==void 0&&w.jsxs("span",{className:"ml-2 text-xs font-semibold bg-slate-700 text-green-400 px-2 py-0.5 rounded-full align-middle",children:["$",s.cost.toFixed(2)]}),u&&w.jsxs("span",{className:`ml-2 text-xs font-semibold px-2 py-0.5 rounded-full align-middle inline-flex items-center ${u.color}`,children:[w.jsx(Hl,{className:"h-3 w-3 mr-1"}),u.label]}),c&&s.sectionSlug?w.jsx("button",{onClick:()=>a(s.projectTitle,s.sectionSlug),className:"block text-xs text-indigo-400 font-medium mt-1 hover:underline text-left",title:`Go to section: ${s.sectionTitle}`,children:c}):t==="all"?w.jsx("span",{className:"block text-xs text-slate-500 font-medium mt-1",children:s.projectTitle}):null,s.creationDate&&w.jsxs("span",{className:"block text-xs text-slate-400",children:["Created: ",s.creationDate]}),s.completed&&s.completionDate&&w.jsxs("span",{className:"block text-xs text-slate-400",children:["Completed: ",s.completionDate]})]}),w.jsx("div",{className:"absolute top-0 right-0",children:w.jsx("button",{onClick:()=>r(s),className:"p-1 rounded-full hover:bg-slate-700 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity focus:opacity-100","aria-label":"Edit task",title:"Edit task",children:w.jsx($l,{className:"w-4 h-4"})})})]})},Fx=({value:s})=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between mb-1",children:[w.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Progress"}),w.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[Math.round(s),"%"]})]}),w.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:w.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${s}%`}})})]}),Hx=({user:s,tasks:t,projectTitle:r,viewScope:a,onEditTask:l,onNavigate:u})=>{const{users:c,settings:f,addBulkTaskUpdates:d}=Vr(),[p,m]=pe.useState(!1),x=t.filter(I=>I.completed).length,_=t.length,S=_>0?x/_*100:0,j=t.filter(I=>!I.completed),T=t.reduce((I,se)=>I+(se.cost??0),0),C=pe.useMemo(()=>c.find(I=>I.alias===f.senderAlias),[c,f.senderAlias]),b=pe.useMemo(()=>c.find(I=>I.alias===f.ccAlias),[c,f.ccAlias]),R=()=>{if(j.length===0){alert(`No incomplete tasks for ${s.name}.`);return}if(!s.email){alert(`${s.name} does not have an email address configured.`);return}const I=f.emailSubject.replace("{projectTitle}",r),se=j.reduce((N,J)=>(N[J.projectTitle]||(N[J.projectTitle]=[]),N[J.projectTitle].push(J),N),{}),X=Object.keys(se),le=X.map(N=>{const J=se[N].map(V=>{const Y=V.cost?` ($${V.cost.toFixed(2)})`:"",ge=V.creationDate?` (${f.emailCreationDateLabel} ${new Date(V.creationDate+"T00:00:00").toLocaleDateString()})`:"";return`- [ ] ${Ix(V.text)}${Y}${ge}`}).join(`
`);return X.length>1?`
Project: ${N}
${J}`:J}).join(""),L=f.emailPreamble.replace("{userName}",s.name.split(" ")[0]||s.name),ae=f.emailSignature.replace("{senderName}",(C==null?void 0:C.name)||"The Team"),ce=`${L}

${le}

${f.emailPostamble}
${ae}`,z=b!=null&&b.email?`&cc=${encodeURIComponent(b.email)}`:"",re=`mailto:${s.email}?subject=${encodeURIComponent(I)}${z}&body=${encodeURIComponent(ce)}`;window.open(re,"_blank")},D=()=>{const I=j.map(X=>X.lineIndex),se=f.reminderMessage;d(I,se,f.senderAlias),R(),m(!1)},F=()=>{R(),m(!1)};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[w.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-10 w-10 rounded-full flex-shrink-0"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h3",{className:"font-bold text-lg text-slate-100 truncate",children:s.name}),w.jsxs("p",{className:"text-sm text-slate-400",children:[x," of ",_," tasks completed"]}),T>0&&w.jsxs("p",{className:"text-sm text-green-400 font-medium",children:["$",T.toFixed(2)]})]})]}),j.length>0&&s.email&&w.jsx("button",{onClick:()=>m(!0),className:"p-2 rounded-full bg-slate-700 hover:bg-indigo-600 text-slate-300 hover:text-white transition-colors flex-shrink-0",title:`Draft an email to ${s.name}`,"aria-label":`Draft an email to ${s.name}`,children:w.jsx(av,{className:"h-5 w-5"})})]}),w.jsx("div",{className:"mb-6",children:w.jsx(Fx,{value:S})}),w.jsx("div",{className:"space-y-3 overflow-y-auto flex-grow",children:t.map((I,se)=>w.jsx(ov,{task:I,viewScope:a,onEdit:l,onNavigate:u},se))})]}),w.jsxs(Kh,{isOpen:p,onClose:()=>m(!1),onConfirm:D,onSecondaryAction:F,title:"Send Reminder",confirmText:"Yes, add update",secondaryText:"No, just draft email",children:[w.jsxs("p",{children:["Do you want to add an update note to the ",j.length," pending task(s) for ",s.name,"?"]}),C?w.jsxs("p",{className:"text-sm text-slate-400 mt-2",children:["The note will be assigned to ",w.jsx("em",{className:"text-slate-300",children:C.name}),"."]}):w.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"The note will be added without an assignee."})]})]})},vl=({icon:s,title:t,value:r,color:a})=>w.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 flex items-center space-x-4",children:[w.jsx("div",{className:`p-3 rounded-full ${a}`,children:s}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-slate-400",children:t}),w.jsx("p",{className:"text-2xl font-bold text-slate-100",children:r})]})]}),qx=({groupedTasks:s,unassignedTasks:t,projectTitle:r,viewScope:a,totalCost:l,onNavigate:u})=>{const[c,f]=pe.useState(null),d=pe.useCallback(C=>{f(C)},[]),p=pe.useCallback(()=>{f(null)},[]),m=[...Object.values(s).flatMap(C=>C.tasks),...t],x=m.length,_=m.filter(C=>C.completed).length,S=x>0?_/x*100:0,j=Object.values(s).filter(C=>C.tasks.length>0),T=t.reduce((C,b)=>C+(b.cost??0),0);return w.jsxs("div",{className:"p-8 overflow-y-auto h-full pb-24",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[w.jsx(vl,{icon:w.jsx(Ax,{className:"h-6 w-6 text-white"}),title:"Total Tasks",value:`${x}`,color:"bg-blue-500"}),w.jsx(vl,{icon:w.jsx(ql,{className:"h-6 w-6 text-white"}),title:"Completed",value:`${_}`,color:"bg-green-500"}),w.jsx(vl,{icon:w.jsx(fx,{className:"h-6 w-6 text-white"}),title:"Progress",value:`${Math.round(S)}%`,color:"bg-indigo-500"}),w.jsx(vl,{icon:w.jsx(wx,{className:"h-6 w-6 text-white"}),title:"Total Cost",value:`$${l.toFixed(2)}`,color:"bg-yellow-500"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[j.map(({user:C,tasks:b})=>w.jsx(Hx,{user:C,tasks:b,projectTitle:r,viewScope:a,onEditTask:d,onNavigate:u},C.alias)),t.length>0&&w.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"bg-slate-700 p-2 rounded-full",children:w.jsx(Lx,{className:"h-6 w-6 text-slate-400"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg text-slate-100",children:"Unassigned Tasks"}),w.jsxs("p",{className:"text-sm text-slate-400",children:[t.length," tasks waiting"]})]})]}),T>0&&w.jsxs("p",{className:"text-lg text-green-400 font-bold",children:["$",T.toFixed(2)]})]}),w.jsx("div",{className:"space-y-3",children:t.map((C,b)=>w.jsx(ov,{task:C,viewScope:a,onEdit:d,onNavigate:u},b))})]})]}),j.length===0&&t.length===0&&w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[w.jsx("h2",{className:"text-2xl font-semibold",children:"No Tasks Found"}),w.jsx("p",{children:"Your markdown file doesn't seem to have any tasks."}),w.jsx("p",{children:"Try adding a task like `- [ ] My new task` in the editor."})]}),c&&w.jsx(Bx,{isOpen:!!c,onClose:p,task:c})]})};var $x=Object.defineProperty,Gx=Object.defineProperties,Kx=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,Vx=Object.prototype.hasOwnProperty,Wx=Object.prototype.propertyIsEnumerable,Sh=(s,t,r)=>t in s?$x(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,st=(s,t)=>{for(var r in t||(t={}))Vx.call(t,r)&&Sh(s,r,t[r]);if(p0)for(var r of p0(t))Wx.call(t,r)&&Sh(s,r,t[r]);return s},Za=(s,t)=>Gx(s,Kx(t)),je=(s,t,r)=>(Sh(s,typeof t!="symbol"?t+"":t,r),r),wl=(s,t,r)=>new Promise((a,l)=>{var u=d=>{try{f(r.next(d))}catch(p){l(p)}},c=d=>{try{f(r.throw(d))}catch(p){l(p)}},f=d=>d.done?a(d.value):Promise.resolve(d.value).then(u,c);f((r=r.apply(s,t)).next())});class Ll{constructor(t){je(this,"rootKey"),this.rootKey=t}}const Yx=Object.seal({});class Re extends Ll{constructor(t){super(t),je(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const a=this.root.map(l=>l instanceof Ll?l.prepForXml(t):l).filter(l=>l!==void 0);return t.stack.pop(),{[this.rootKey]:a.length?a.length===1&&((r=a[0])!=null&&r._attr)?a[0]:a:Yx}}addChildElement(t){return this.root.push(t),this}}class Wl extends Re{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class qe extends Ll{constructor(t){super("_attr"),je(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.keys(this.root).forEach(a=>{const l=this.root[a];if(l!==void 0){const u=this.xmlKeys&&this.xmlKeys[a]||a;r[u]=l}}),{_attr:r}}}class eo extends Ll{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:a})=>a!==void 0).reduce((a,{key:l,value:u})=>Za(st({},a),{[l]:u}),{})}}}class Rt extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uv={},Vh={exports:{}},As=typeof Reflect=="object"?Reflect:null,m0=As&&typeof As.apply=="function"?As.apply:function(t,r,a){return Function.prototype.apply.call(t,r,a)},Dl;As&&typeof As.ownKeys=="function"?Dl=As.ownKeys:Object.getOwnPropertySymbols?Dl=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Dl=function(t){return Object.getOwnPropertyNames(t)};function Xx(s){console&&console.warn&&console.warn(s)}var cv=Number.isNaN||function(t){return t!==t};function dt(){dt.init.call(this)}Vh.exports=dt;Vh.exports.once=e_;dt.EventEmitter=dt;dt.prototype._events=void 0;dt.prototype._eventsCount=0;dt.prototype._maxListeners=void 0;var g0=10;function Yl(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(dt,"defaultMaxListeners",{enumerable:!0,get:function(){return g0},set:function(s){if(typeof s!="number"||s<0||cv(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");g0=s}});dt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};dt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||cv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fv(s){return s._maxListeners===void 0?dt.defaultMaxListeners:s._maxListeners}dt.prototype.getMaxListeners=function(){return fv(this)};dt.prototype.emit=function(t){for(var r=[],a=1;a<arguments.length;a++)r.push(arguments[a]);var l=t==="error",u=this._events;if(u!==void 0)l=l&&u.error===void 0;else if(!l)return!1;if(l){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var f=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw f.context=c,f}var d=u[t];if(d===void 0)return!1;if(typeof d=="function")m0(d,this,r);else for(var p=d.length,m=gv(d,p),a=0;a<p;++a)m0(m[a],this,r);return!0};function hv(s,t,r,a){var l,u,c;if(Yl(r),u=s._events,u===void 0?(u=s._events=Object.create(null),s._eventsCount=0):(u.newListener!==void 0&&(s.emit("newListener",t,r.listener?r.listener:r),u=s._events),c=u[t]),c===void 0)c=u[t]=r,++s._eventsCount;else if(typeof c=="function"?c=u[t]=a?[r,c]:[c,r]:a?c.unshift(r):c.push(r),l=fv(s),l>0&&c.length>l&&!c.warned){c.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=s,f.type=t,f.count=c.length,Xx(f)}return s}dt.prototype.addListener=function(t,r){return hv(this,t,r,!1)};dt.prototype.on=dt.prototype.addListener;dt.prototype.prependListener=function(t,r){return hv(this,t,r,!0)};function Zx(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dv(s,t,r){var a={fired:!1,wrapFn:void 0,target:s,type:t,listener:r},l=Zx.bind(a);return l.listener=r,a.wrapFn=l,l}dt.prototype.once=function(t,r){return Yl(r),this.on(t,dv(this,t,r)),this};dt.prototype.prependOnceListener=function(t,r){return Yl(r),this.prependListener(t,dv(this,t,r)),this};dt.prototype.removeListener=function(t,r){var a,l,u,c,f;if(Yl(r),l=this._events,l===void 0)return this;if(a=l[t],a===void 0)return this;if(a===r||a.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete l[t],l.removeListener&&this.emit("removeListener",t,a.listener||r));else if(typeof a!="function"){for(u=-1,c=a.length-1;c>=0;c--)if(a[c]===r||a[c].listener===r){f=a[c].listener,u=c;break}if(u<0)return this;u===0?a.shift():Qx(a,u),a.length===1&&(l[t]=a[0]),l.removeListener!==void 0&&this.emit("removeListener",t,f||r)}return this};dt.prototype.off=dt.prototype.removeListener;dt.prototype.removeAllListeners=function(t){var r,a,l;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var u=Object.keys(a),c;for(l=0;l<u.length;++l)c=u[l],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=a[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(l=r.length-1;l>=0;l--)this.removeListener(t,r[l]);return this};function pv(s,t,r){var a=s._events;if(a===void 0)return[];var l=a[t];return l===void 0?[]:typeof l=="function"?r?[l.listener||l]:[l]:r?Jx(l):gv(l,l.length)}dt.prototype.listeners=function(t){return pv(this,t,!0)};dt.prototype.rawListeners=function(t){return pv(this,t,!1)};dt.listenerCount=function(s,t){return typeof s.listenerCount=="function"?s.listenerCount(t):mv.call(s,t)};dt.prototype.listenerCount=mv;function mv(s){var t=this._events;if(t!==void 0){var r=t[s];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}dt.prototype.eventNames=function(){return this._eventsCount>0?Dl(this._events):[]};function gv(s,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=s[a];return r}function Qx(s,t){for(;t+1<s.length;t++)s[t]=s[t+1];s.pop()}function Jx(s){for(var t=new Array(s.length),r=0;r<t.length;++r)t[r]=s[r].listener||s[r];return t}function e_(s,t){return new Promise(function(r,a){function l(c){s.removeListener(t,u),a(c)}function u(){typeof s.removeListener=="function"&&s.removeListener("error",l),r([].slice.call(arguments))}yv(s,t,u,{once:!0}),t!=="error"&&t_(s,l,{once:!0})})}function t_(s,t,r){typeof s.on=="function"&&yv(s,"error",t,r)}function yv(s,t,r,a){if(typeof s.on=="function")a.once?s.once(t,r):s.on(t,r);else if(typeof s.addEventListener=="function")s.addEventListener(t,function l(u){a.once&&s.removeEventListener(t,l),r(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}var Wh=Vh.exports,Eh={exports:{}};typeof Object.create=="function"?Eh.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Eh.exports=function(t,r){if(r){t.super_=r;var a=function(){};a.prototype=r.prototype,t.prototype=new a,t.prototype.constructor=t}};var Si=Eh.exports;function n_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var vv={exports:{}},Ct=vv.exports={},Yn,Xn;function Th(){throw new Error("setTimeout has not been defined")}function Ah(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yn=setTimeout:Yn=Th}catch{Yn=Th}try{typeof clearTimeout=="function"?Xn=clearTimeout:Xn=Ah}catch{Xn=Ah}})();function wv(s){if(Yn===setTimeout)return setTimeout(s,0);if((Yn===Th||!Yn)&&setTimeout)return Yn=setTimeout,setTimeout(s,0);try{return Yn(s,0)}catch{try{return Yn.call(null,s,0)}catch{return Yn.call(this,s,0)}}}function r_(s){if(Xn===clearTimeout)return clearTimeout(s);if((Xn===Ah||!Xn)&&clearTimeout)return Xn=clearTimeout,clearTimeout(s);try{return Xn(s)}catch{try{return Xn.call(null,s)}catch{return Xn.call(this,s)}}}var gr=[],ks=!1,xi,Ul=-1;function i_(){!ks||!xi||(ks=!1,xi.length?gr=xi.concat(gr):Ul=-1,gr.length&&bv())}function bv(){if(!ks){var s=wv(i_);ks=!0;for(var t=gr.length;t;){for(xi=gr,gr=[];++Ul<t;)xi&&xi[Ul].run();Ul=-1,t=gr.length}xi=null,ks=!1,r_(s)}}Ct.nextTick=function(s){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];gr.push(new xv(s,t)),gr.length===1&&!ks&&wv(bv)};function xv(s,t){this.fun=s,this.array=t}xv.prototype.run=function(){this.fun.apply(null,this.array)};Ct.title="browser";Ct.browser=!0;Ct.env={};Ct.argv=[];Ct.version="";Ct.versions={};function yr(){}Ct.on=yr;Ct.addListener=yr;Ct.once=yr;Ct.off=yr;Ct.removeListener=yr;Ct.removeAllListeners=yr;Ct.emit=yr;Ct.prependListener=yr;Ct.prependOnceListener=yr;Ct.listeners=function(s){return[]};Ct.binding=function(s){throw new Error("process.binding is not supported")};Ct.cwd=function(){return"/"};Ct.chdir=function(s){throw new Error("process.chdir is not supported")};Ct.umask=function(){return 0};var s_=vv.exports;const Ye=n_(s_);var wf,y0;function _v(){return y0||(y0=1,wf=Wh.EventEmitter),wf}var bf={},Pa={},v0;function a_(){if(v0)return Pa;v0=1,Pa.byteLength=f,Pa.toByteArray=p,Pa.fromByteArray=_;for(var s=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=a.length;l<u;++l)s[l]=a[l],t[a.charCodeAt(l)]=l;t[45]=62,t[95]=63;function c(S){var j=S.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.indexOf("=");T===-1&&(T=j);var C=T===j?0:4-T%4;return[T,C]}function f(S){var j=c(S),T=j[0],C=j[1];return(T+C)*3/4-C}function d(S,j,T){return(j+T)*3/4-T}function p(S){var j,T=c(S),C=T[0],b=T[1],R=new r(d(S,C,b)),D=0,F=b>0?C-4:C,I;for(I=0;I<F;I+=4)j=t[S.charCodeAt(I)]<<18|t[S.charCodeAt(I+1)]<<12|t[S.charCodeAt(I+2)]<<6|t[S.charCodeAt(I+3)],R[D++]=j>>16&255,R[D++]=j>>8&255,R[D++]=j&255;return b===2&&(j=t[S.charCodeAt(I)]<<2|t[S.charCodeAt(I+1)]>>4,R[D++]=j&255),b===1&&(j=t[S.charCodeAt(I)]<<10|t[S.charCodeAt(I+1)]<<4|t[S.charCodeAt(I+2)]>>2,R[D++]=j>>8&255,R[D++]=j&255),R}function m(S){return s[S>>18&63]+s[S>>12&63]+s[S>>6&63]+s[S&63]}function x(S,j,T){for(var C,b=[],R=j;R<T;R+=3)C=(S[R]<<16&16711680)+(S[R+1]<<8&65280)+(S[R+2]&255),b.push(m(C));return b.join("")}function _(S){for(var j,T=S.length,C=T%3,b=[],R=16383,D=0,F=T-C;D<F;D+=R)b.push(x(S,D,D+R>F?F:D+R));return C===1?(j=S[T-1],b.push(s[j>>2]+s[j<<4&63]+"==")):C===2&&(j=(S[T-2]<<8)+S[T-1],b.push(s[j>>10]+s[j>>4&63]+s[j<<2&63]+"=")),b.join("")}return Pa}var bl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var w0;function o_(){return w0||(w0=1,bl.read=function(s,t,r,a,l){var u,c,f=l*8-a-1,d=(1<<f)-1,p=d>>1,m=-7,x=r?l-1:0,_=r?-1:1,S=s[t+x];for(x+=_,u=S&(1<<-m)-1,S>>=-m,m+=f;m>0;u=u*256+s[t+x],x+=_,m-=8);for(c=u&(1<<-m)-1,u>>=-m,m+=a;m>0;c=c*256+s[t+x],x+=_,m-=8);if(u===0)u=1-p;else{if(u===d)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,a),u=u-p}return(S?-1:1)*c*Math.pow(2,u-a)},bl.write=function(s,t,r,a,l,u){var c,f,d,p=u*8-l-1,m=(1<<p)-1,x=m>>1,_=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=a?0:u-1,j=a?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,c=m):(c=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+x>=1?t+=_/d:t+=_*Math.pow(2,1-x),t*d>=2&&(c++,d/=2),c+x>=m?(f=0,c=m):c+x>=1?(f=(t*d-1)*Math.pow(2,l),c=c+x):(f=t*Math.pow(2,x-1)*Math.pow(2,l),c=0));l>=8;s[r+S]=f&255,S+=j,f/=256,l-=8);for(c=c<<l|f,p+=l;p>0;s[r+S]=c&255,S+=j,c/=256,p-=8);s[r+S-j]|=T*128}),bl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var b0;function Xl(){return b0||(b0=1,(function(s){var t=a_(),r=o_(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=f,s.SlowBuffer=R,s.INSPECT_MAX_BYTES=50;var l=2147483647;s.kMaxLength=l,f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var U=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(U,y),U.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(U){if(U>l)throw new RangeError('The value "'+U+'" is invalid for option "size"');var y=new Uint8Array(U);return Object.setPrototypeOf(y,f.prototype),y}function f(U,y,v){if(typeof U=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(U)}return d(U,y,v)}f.poolSize=8192;function d(U,y,v){if(typeof U=="string")return _(U,y);if(ArrayBuffer.isView(U))return j(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(be(U,ArrayBuffer)||U&&be(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(U,SharedArrayBuffer)||U&&be(U.buffer,SharedArrayBuffer)))return T(U,y,v);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var E=U.valueOf&&U.valueOf();if(E!=null&&E!==U)return f.from(E,y,v);var P=C(U);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return f.from(U[Symbol.toPrimitive]("string"),y,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}f.from=function(U,y,v){return d(U,y,v)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function p(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function m(U,y,v){return p(U),U<=0?c(U):y!==void 0?typeof v=="string"?c(U).fill(y,v):c(U).fill(y):c(U)}f.alloc=function(U,y,v){return m(U,y,v)};function x(U){return p(U),c(U<0?0:b(U)|0)}f.allocUnsafe=function(U){return x(U)},f.allocUnsafeSlow=function(U){return x(U)};function _(U,y){if((typeof y!="string"||y==="")&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);var v=D(U,y)|0,E=c(v),P=E.write(U,y);return P!==v&&(E=E.slice(0,P)),E}function S(U){for(var y=U.length<0?0:b(U.length)|0,v=c(y),E=0;E<y;E+=1)v[E]=U[E]&255;return v}function j(U){if(be(U,Uint8Array)){var y=new Uint8Array(U);return T(y.buffer,y.byteOffset,y.byteLength)}return S(U)}function T(U,y,v){if(y<0||U.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<y+(v||0))throw new RangeError('"length" is outside of buffer bounds');var E;return y===void 0&&v===void 0?E=new Uint8Array(U):v===void 0?E=new Uint8Array(U,y):E=new Uint8Array(U,y,v),Object.setPrototypeOf(E,f.prototype),E}function C(U){if(f.isBuffer(U)){var y=b(U.length)|0,v=c(y);return v.length===0||U.copy(v,0,0,y),v}if(U.length!==void 0)return typeof U.length!="number"||A(U.length)?c(0):S(U);if(U.type==="Buffer"&&Array.isArray(U.data))return S(U.data)}function b(U){if(U>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return U|0}function R(U){return+U!=U&&(U=0),f.alloc(+U)}f.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==f.prototype},f.compare=function(y,v){if(be(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),be(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(y)||!f.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===v)return 0;for(var E=y.length,P=v.length,ee=0,K=Math.min(E,P);ee<K;++ee)if(y[ee]!==v[ee]){E=y[ee],P=v[ee];break}return E<P?-1:P<E?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,v){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return f.alloc(0);var E;if(v===void 0)for(v=0,E=0;E<y.length;++E)v+=y[E].length;var P=f.allocUnsafe(v),ee=0;for(E=0;E<y.length;++E){var K=y[E];if(be(K,Uint8Array))ee+K.length>P.length?f.from(K).copy(P,ee):Uint8Array.prototype.set.call(P,K,ee);else if(f.isBuffer(K))K.copy(P,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=K.length}return P};function D(U,y){if(f.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||be(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var v=U.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&v===0)return 0;for(var P=!1;;)switch(y){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return k(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return q(U).length;default:if(P)return E?-1:k(U).length;y=(""+y).toLowerCase(),P=!0}}f.byteLength=D;function F(U,y,v){var E=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,y>>>=0,v<=y))return"";for(U||(U="utf8");;)switch(U){case"hex":return ue(this,y,v);case"utf8":case"utf-8":return N(this,y,v);case"ascii":return Y(this,y,v);case"latin1":case"binary":return ge(this,y,v);case"base64":return re(this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,y,v);default:if(E)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),E=!0}}f.prototype._isBuffer=!0;function I(U,y,v){var E=U[y];U[y]=U[v],U[v]=E}f.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<y;v+=2)I(this,v,v+1);return this},f.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<y;v+=4)I(this,v,v+3),I(this,v+1,v+2);return this},f.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<y;v+=8)I(this,v,v+7),I(this,v+1,v+6),I(this,v+2,v+5),I(this,v+3,v+4);return this},f.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?N(this,0,y):F.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:f.compare(this,y)===0},f.prototype.inspect=function(){var y="",v=s.INSPECT_MAX_BYTES;return y=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(y+=" ... "),"<Buffer "+y+">"},a&&(f.prototype[a]=f.prototype.inspect),f.prototype.compare=function(y,v,E,P,ee){if(be(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(v===void 0&&(v=0),E===void 0&&(E=y?y.length:0),P===void 0&&(P=0),ee===void 0&&(ee=this.length),v<0||E>y.length||P<0||ee>this.length)throw new RangeError("out of range index");if(P>=ee&&v>=E)return 0;if(P>=ee)return-1;if(v>=E)return 1;if(v>>>=0,E>>>=0,P>>>=0,ee>>>=0,this===y)return 0;for(var K=ee-P,de=E-v,Te=Math.min(K,de),Se=this.slice(P,ee),Ce=y.slice(v,E),De=0;De<Te;++De)if(Se[De]!==Ce[De]){K=Se[De],de=Ce[De];break}return K<de?-1:de<K?1:0};function se(U,y,v,E,P){if(U.length===0)return-1;if(typeof v=="string"?(E=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,A(v)&&(v=P?0:U.length-1),v<0&&(v=U.length+v),v>=U.length){if(P)return-1;v=U.length-1}else if(v<0)if(P)v=0;else return-1;if(typeof y=="string"&&(y=f.from(y,E)),f.isBuffer(y))return y.length===0?-1:X(U,y,v,E,P);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(U,y,v):Uint8Array.prototype.lastIndexOf.call(U,y,v):X(U,[y],v,E,P);throw new TypeError("val must be string, number or Buffer")}function X(U,y,v,E,P){var ee=1,K=U.length,de=y.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(U.length<2||y.length<2)return-1;ee=2,K/=2,de/=2,v/=2}function Te(Pe,et){return ee===1?Pe[et]:Pe.readUInt16BE(et*ee)}var Se;if(P){var Ce=-1;for(Se=v;Se<K;Se++)if(Te(U,Se)===Te(y,Ce===-1?0:Se-Ce)){if(Ce===-1&&(Ce=Se),Se-Ce+1===de)return Ce*ee}else Ce!==-1&&(Se-=Se-Ce),Ce=-1}else for(v+de>K&&(v=K-de),Se=v;Se>=0;Se--){for(var De=!0,Ue=0;Ue<de;Ue++)if(Te(U,Se+Ue)!==Te(y,Ue)){De=!1;break}if(De)return Se}return-1}f.prototype.includes=function(y,v,E){return this.indexOf(y,v,E)!==-1},f.prototype.indexOf=function(y,v,E){return se(this,y,v,E,!0)},f.prototype.lastIndexOf=function(y,v,E){return se(this,y,v,E,!1)};function le(U,y,v,E){v=Number(v)||0;var P=U.length-v;E?(E=Number(E),E>P&&(E=P)):E=P;var ee=y.length;E>ee/2&&(E=ee/2);for(var K=0;K<E;++K){var de=parseInt(y.substr(K*2,2),16);if(A(de))return K;U[v+K]=de}return K}function L(U,y,v,E){return W(k(y,U.length-v),U,v,E)}function ae(U,y,v,E){return W(ie(y),U,v,E)}function ce(U,y,v,E){return W(q(y),U,v,E)}function z(U,y,v,E){return W(Q(y,U.length-v),U,v,E)}f.prototype.write=function(y,v,E,P){if(v===void 0)P="utf8",E=this.length,v=0;else if(E===void 0&&typeof v=="string")P=v,E=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(E)?(E=E>>>0,P===void 0&&(P="utf8")):(P=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-v;if((E===void 0||E>ee)&&(E=ee),y.length>0&&(E<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var K=!1;;)switch(P){case"hex":return le(this,y,v,E);case"utf8":case"utf-8":return L(this,y,v,E);case"ascii":case"latin1":case"binary":return ae(this,y,v,E);case"base64":return ce(this,y,v,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,y,v,E);default:if(K)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),K=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(U,y,v){return y===0&&v===U.length?t.fromByteArray(U):t.fromByteArray(U.slice(y,v))}function N(U,y,v){v=Math.min(U.length,v);for(var E=[],P=y;P<v;){var ee=U[P],K=null,de=ee>239?4:ee>223?3:ee>191?2:1;if(P+de<=v){var Te,Se,Ce,De;switch(de){case 1:ee<128&&(K=ee);break;case 2:Te=U[P+1],(Te&192)===128&&(De=(ee&31)<<6|Te&63,De>127&&(K=De));break;case 3:Te=U[P+1],Se=U[P+2],(Te&192)===128&&(Se&192)===128&&(De=(ee&15)<<12|(Te&63)<<6|Se&63,De>2047&&(De<55296||De>57343)&&(K=De));break;case 4:Te=U[P+1],Se=U[P+2],Ce=U[P+3],(Te&192)===128&&(Se&192)===128&&(Ce&192)===128&&(De=(ee&15)<<18|(Te&63)<<12|(Se&63)<<6|Ce&63,De>65535&&De<1114112&&(K=De))}}K===null?(K=65533,de=1):K>65535&&(K-=65536,E.push(K>>>10&1023|55296),K=56320|K&1023),E.push(K),P+=de}return V(E)}var J=4096;function V(U){var y=U.length;if(y<=J)return String.fromCharCode.apply(String,U);for(var v="",E=0;E<y;)v+=String.fromCharCode.apply(String,U.slice(E,E+=J));return v}function Y(U,y,v){var E="";v=Math.min(U.length,v);for(var P=y;P<v;++P)E+=String.fromCharCode(U[P]&127);return E}function ge(U,y,v){var E="";v=Math.min(U.length,v);for(var P=y;P<v;++P)E+=String.fromCharCode(U[P]);return E}function ue(U,y,v){var E=U.length;(!y||y<0)&&(y=0),(!v||v<0||v>E)&&(v=E);for(var P="",ee=y;ee<v;++ee)P+=ye[U[ee]];return P}function G(U,y,v){for(var E=U.slice(y,v),P="",ee=0;ee<E.length-1;ee+=2)P+=String.fromCharCode(E[ee]+E[ee+1]*256);return P}f.prototype.slice=function(y,v){var E=this.length;y=~~y,v=v===void 0?E:~~v,y<0?(y+=E,y<0&&(y=0)):y>E&&(y=E),v<0?(v+=E,v<0&&(v=0)):v>E&&(v=E),v<y&&(v=y);var P=this.subarray(y,v);return Object.setPrototypeOf(P,f.prototype),P};function $(U,y,v){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+y>v)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(y,v,E){y=y>>>0,v=v>>>0,E||$(y,v,this.length);for(var P=this[y],ee=1,K=0;++K<v&&(ee*=256);)P+=this[y+K]*ee;return P},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,v,E){y=y>>>0,v=v>>>0,E||$(y,v,this.length);for(var P=this[y+--v],ee=1;v>0&&(ee*=256);)P+=this[y+--v]*ee;return P},f.prototype.readUint8=f.prototype.readUInt8=function(y,v){return y=y>>>0,v||$(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,v){return y=y>>>0,v||$(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,v){return y=y>>>0,v||$(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,v){return y=y>>>0,v||$(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,v){return y=y>>>0,v||$(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readIntLE=function(y,v,E){y=y>>>0,v=v>>>0,E||$(y,v,this.length);for(var P=this[y],ee=1,K=0;++K<v&&(ee*=256);)P+=this[y+K]*ee;return ee*=128,P>=ee&&(P-=Math.pow(2,8*v)),P},f.prototype.readIntBE=function(y,v,E){y=y>>>0,v=v>>>0,E||$(y,v,this.length);for(var P=v,ee=1,K=this[y+--P];P>0&&(ee*=256);)K+=this[y+--P]*ee;return ee*=128,K>=ee&&(K-=Math.pow(2,8*v)),K},f.prototype.readInt8=function(y,v){return y=y>>>0,v||$(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},f.prototype.readInt16LE=function(y,v){y=y>>>0,v||$(y,2,this.length);var E=this[y]|this[y+1]<<8;return E&32768?E|4294901760:E},f.prototype.readInt16BE=function(y,v){y=y>>>0,v||$(y,2,this.length);var E=this[y+1]|this[y]<<8;return E&32768?E|4294901760:E},f.prototype.readInt32LE=function(y,v){return y=y>>>0,v||$(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,v){return y=y>>>0,v||$(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readFloatLE=function(y,v){return y=y>>>0,v||$(y,4,this.length),r.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,v){return y=y>>>0,v||$(y,4,this.length),r.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,v){return y=y>>>0,v||$(y,8,this.length),r.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,v){return y=y>>>0,v||$(y,8,this.length),r.read(this,y,!1,52,8)};function B(U,y,v,E,P,ee){if(!f.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>P||y<ee)throw new RangeError('"value" argument is out of bounds');if(v+E>U.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,v,E,P){if(y=+y,v=v>>>0,E=E>>>0,!P){var ee=Math.pow(2,8*E)-1;B(this,y,v,E,ee,0)}var K=1,de=0;for(this[v]=y&255;++de<E&&(K*=256);)this[v+de]=y/K&255;return v+E},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,v,E,P){if(y=+y,v=v>>>0,E=E>>>0,!P){var ee=Math.pow(2,8*E)-1;B(this,y,v,E,ee,0)}var K=E-1,de=1;for(this[v+K]=y&255;--K>=0&&(de*=256);)this[v+K]=y/de&255;return v+E},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,1,255,0),this[v]=y&255,v+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,2,65535,0),this[v]=y&255,this[v+1]=y>>>8,v+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,2,65535,0),this[v]=y>>>8,this[v+1]=y&255,v+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,4,4294967295,0),this[v+3]=y>>>24,this[v+2]=y>>>16,this[v+1]=y>>>8,this[v]=y&255,v+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,4,4294967295,0),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4},f.prototype.writeIntLE=function(y,v,E,P){if(y=+y,v=v>>>0,!P){var ee=Math.pow(2,8*E-1);B(this,y,v,E,ee-1,-ee)}var K=0,de=1,Te=0;for(this[v]=y&255;++K<E&&(de*=256);)y<0&&Te===0&&this[v+K-1]!==0&&(Te=1),this[v+K]=(y/de>>0)-Te&255;return v+E},f.prototype.writeIntBE=function(y,v,E,P){if(y=+y,v=v>>>0,!P){var ee=Math.pow(2,8*E-1);B(this,y,v,E,ee-1,-ee)}var K=E-1,de=1,Te=0;for(this[v+K]=y&255;--K>=0&&(de*=256);)y<0&&Te===0&&this[v+K+1]!==0&&(Te=1),this[v+K]=(y/de>>0)-Te&255;return v+E},f.prototype.writeInt8=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,1,127,-128),y<0&&(y=255+y+1),this[v]=y&255,v+1},f.prototype.writeInt16LE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,2,32767,-32768),this[v]=y&255,this[v+1]=y>>>8,v+2},f.prototype.writeInt16BE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,2,32767,-32768),this[v]=y>>>8,this[v+1]=y&255,v+2},f.prototype.writeInt32LE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,4,2147483647,-2147483648),this[v]=y&255,this[v+1]=y>>>8,this[v+2]=y>>>16,this[v+3]=y>>>24,v+4},f.prototype.writeInt32BE=function(y,v,E){return y=+y,v=v>>>0,E||B(this,y,v,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4};function Z(U,y,v,E,P,ee){if(v+E>U.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function ne(U,y,v,E,P){return y=+y,v=v>>>0,P||Z(U,y,v,4),r.write(U,y,v,E,23,4),v+4}f.prototype.writeFloatLE=function(y,v,E){return ne(this,y,v,!0,E)},f.prototype.writeFloatBE=function(y,v,E){return ne(this,y,v,!1,E)};function fe(U,y,v,E,P){return y=+y,v=v>>>0,P||Z(U,y,v,8),r.write(U,y,v,E,52,8),v+8}f.prototype.writeDoubleLE=function(y,v,E){return fe(this,y,v,!0,E)},f.prototype.writeDoubleBE=function(y,v,E){return fe(this,y,v,!1,E)},f.prototype.copy=function(y,v,E,P){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if(E||(E=0),!P&&P!==0&&(P=this.length),v>=y.length&&(v=y.length),v||(v=0),P>0&&P<E&&(P=E),P===E||y.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),y.length-v<P-E&&(P=y.length-v+E);var ee=P-E;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,E,P):Uint8Array.prototype.set.call(y,this.subarray(E,P),v),ee},f.prototype.fill=function(y,v,E,P){if(typeof y=="string"){if(typeof v=="string"?(P=v,v=0,E=this.length):typeof E=="string"&&(P=E,E=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!f.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(y.length===1){var ee=y.charCodeAt(0);(P==="utf8"&&ee<128||P==="latin1")&&(y=ee)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(v<0||this.length<v||this.length<E)throw new RangeError("Out of range index");if(E<=v)return this;v=v>>>0,E=E===void 0?this.length:E>>>0,y||(y=0);var K;if(typeof y=="number")for(K=v;K<E;++K)this[K]=y;else{var de=f.isBuffer(y)?y:f.from(y,P),Te=de.length;if(Te===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(K=0;K<E-v;++K)this[K+v]=de[K%Te]}return this};var te=/[^+/0-9A-Za-z-_]/g;function O(U){if(U=U.split("=")[0],U=U.trim().replace(te,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function k(U,y){y=y||1/0;for(var v,E=U.length,P=null,ee=[],K=0;K<E;++K){if(v=U.charCodeAt(K),v>55295&&v<57344){if(!P){if(v>56319){(y-=3)>-1&&ee.push(239,191,189);continue}else if(K+1===E){(y-=3)>-1&&ee.push(239,191,189);continue}P=v;continue}if(v<56320){(y-=3)>-1&&ee.push(239,191,189),P=v;continue}v=(P-55296<<10|v-56320)+65536}else P&&(y-=3)>-1&&ee.push(239,191,189);if(P=null,v<128){if((y-=1)<0)break;ee.push(v)}else if(v<2048){if((y-=2)<0)break;ee.push(v>>6|192,v&63|128)}else if(v<65536){if((y-=3)<0)break;ee.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((y-=4)<0)break;ee.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return ee}function ie(U){for(var y=[],v=0;v<U.length;++v)y.push(U.charCodeAt(v)&255);return y}function Q(U,y){for(var v,E,P,ee=[],K=0;K<U.length&&!((y-=2)<0);++K)v=U.charCodeAt(K),E=v>>8,P=v%256,ee.push(P),ee.push(E);return ee}function q(U){return t.toByteArray(O(U))}function W(U,y,v,E){for(var P=0;P<E&&!(P+v>=y.length||P>=U.length);++P)y[P+v]=U[P];return P}function be(U,y){return U instanceof y||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===y.name}function A(U){return U!==U}var ye=(function(){for(var U="0123456789abcdef",y=new Array(256),v=0;v<16;++v)for(var E=v*16,P=0;P<16;++P)y[E+P]=U[v]+U[P];return y})()})(bf)),bf}var xf={},_f={},Sf,x0;function Sv(){return x0||(x0=1,Sf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),a=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var l=42;t[r]=l;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==l||c.enumerable!==!0)return!1}return!0}),Sf}var Ef,_0;function Yh(){if(_0)return Ef;_0=1;var s=Sv();return Ef=function(){return s()&&!!Symbol.toStringTag},Ef}var Tf,S0;function l_(){if(S0)return Tf;S0=1;var s=typeof Symbol<"u"&&Symbol,t=Sv();return Tf=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Tf}var Af,E0;function u_(){if(E0)return Af;E0=1;var s={foo:{}},t=Object;return Af=function(){return{__proto__:s}.foo===s.foo&&!({__proto__:null}instanceof t)},Af}var kf,T0;function c_(){if(T0)return kf;T0=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,a="[object Function]",l=function(d,p){for(var m=[],x=0;x<d.length;x+=1)m[x]=d[x];for(var _=0;_<p.length;_+=1)m[_+d.length]=p[_];return m},u=function(d,p){for(var m=[],x=p,_=0;x<d.length;x+=1,_+=1)m[_]=d[x];return m},c=function(f,d){for(var p="",m=0;m<f.length;m+=1)p+=f[m],m+1<f.length&&(p+=d);return p};return kf=function(d){var p=this;if(typeof p!="function"||t.apply(p)!==a)throw new TypeError(s+p);for(var m=u(arguments,1),x,_=function(){if(this instanceof x){var b=p.apply(this,l(m,arguments));return Object(b)===b?b:this}return p.apply(d,l(m,arguments))},S=r(0,p.length-m.length),j=[],T=0;T<S;T++)j[T]="$"+T;if(x=Function("binder","return function ("+c(j,",")+"){ return binder.apply(this,arguments); }")(_),p.prototype){var C=function(){};C.prototype=p.prototype,x.prototype=new C,C.prototype=null}return x},kf}var jf,A0;function Xh(){if(A0)return jf;A0=1;var s=c_();return jf=Function.prototype.bind||s,jf}var Nf,k0;function f_(){if(k0)return Nf;k0=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Xh();return Nf=r.call(s,t),Nf}var Rf,j0;function Bs(){if(j0)return Rf;j0=1;var s,t=SyntaxError,r=Function,a=TypeError,l=function(z){try{return r('"use strict"; return ('+z+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var c=function(){throw new a},f=u?(function(){try{return arguments.callee,c}catch{try{return u(arguments,"callee").get}catch{return c}}})():c,d=l_()(),p=u_()(),m=Object.getPrototypeOf||(p?function(z){return z.__proto__}:null),x={},_=typeof Uint8Array>"u"||!m?s:m(Uint8Array),S={"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":d&&m?m([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":x,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&m?m(m([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!m?s:m(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!m?s:m(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&m?m(""[Symbol.iterator]()):s,"%Symbol%":d?Symbol:s,"%SyntaxError%":t,"%ThrowTypeError%":f,"%TypedArray%":_,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet};if(m)try{null.error}catch(z){var j=m(m(z));S["%Error.prototype%"]=j}var T=function z(re){var N;if(re==="%AsyncFunction%")N=l("async function () {}");else if(re==="%GeneratorFunction%")N=l("function* () {}");else if(re==="%AsyncGeneratorFunction%")N=l("async function* () {}");else if(re==="%AsyncGenerator%"){var J=z("%AsyncGeneratorFunction%");J&&(N=J.prototype)}else if(re==="%AsyncIteratorPrototype%"){var V=z("%AsyncGenerator%");V&&m&&(N=m(V.prototype))}return S[re]=N,N},C={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=Xh(),R=f_(),D=b.call(Function.call,Array.prototype.concat),F=b.call(Function.apply,Array.prototype.splice),I=b.call(Function.call,String.prototype.replace),se=b.call(Function.call,String.prototype.slice),X=b.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,ae=function(re){var N=se(re,0,1),J=se(re,-1);if(N==="%"&&J!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(J==="%"&&N!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var V=[];return I(re,le,function(Y,ge,ue,G){V[V.length]=ue?I(G,L,"$1"):ge||Y}),V},ce=function(re,N){var J=re,V;if(R(C,J)&&(V=C[J],J="%"+V[0]+"%"),R(S,J)){var Y=S[J];if(Y===x&&(Y=T(J)),typeof Y>"u"&&!N)throw new a("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:V,name:J,value:Y}}throw new t("intrinsic "+re+" does not exist!")};return Rf=function(re,N){if(typeof re!="string"||re.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof N!="boolean")throw new a('"allowMissing" argument must be a boolean');if(X(/^%?[^%]*%?$/,re)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var J=ae(re),V=J.length>0?J[0]:"",Y=ce("%"+V+"%",N),ge=Y.name,ue=Y.value,G=!1,$=Y.alias;$&&(V=$[0],F(J,D([0,1],$)));for(var B=1,Z=!0;B<J.length;B+=1){var ne=J[B],fe=se(ne,0,1),te=se(ne,-1);if((fe==='"'||fe==="'"||fe==="`"||te==='"'||te==="'"||te==="`")&&fe!==te)throw new t("property names with quotes must have matching quotes");if((ne==="constructor"||!Z)&&(G=!0),V+="."+ne,ge="%"+V+"%",R(S,ge))ue=S[ge];else if(ue!=null){if(!(ne in ue)){if(!N)throw new a("base intrinsic for "+re+" exists, but the property is not available.");return}if(u&&B+1>=J.length){var O=u(ue,ne);Z=!!O,Z&&"get"in O&&!("originalValue"in O.get)?ue=O.get:ue=ue[ne]}else Z=R(ue,ne),ue=ue[ne];Z&&!G&&(S[ge]=ue)}}return ue},Rf}var Cf={exports:{}},Of,N0;function Ev(){if(N0)return Of;N0=1;var s=Bs(),t=s("%Object.defineProperty%",!0),r=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Of=r,Of}var Df,R0;function Zh(){if(R0)return Df;R0=1;var s=Bs(),t=s("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Df=t,Df}var Uf,C0;function h_(){if(C0)return Uf;C0=1;var s=Ev()(),t=Bs(),r=s&&t("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var a=t("%SyntaxError%"),l=t("%TypeError%"),u=Zh();return Uf=function(f,d,p){if(!f||typeof f!="object"&&typeof f!="function")throw new l("`obj` must be an object or a function`");if(typeof d!="string"&&typeof d!="symbol")throw new l("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new l("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new l("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new l("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new l("`loose`, if provided, must be a boolean");var m=arguments.length>3?arguments[3]:null,x=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,S=arguments.length>6?arguments[6]:!1,j=!!u&&u(f,d);if(r)r(f,d,{configurable:_===null&&j?j.configurable:!_,enumerable:m===null&&j?j.enumerable:!m,value:p,writable:x===null&&j?j.writable:!x});else if(S||!m&&!x&&!_)f[d]=p;else throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Uf}var Mf,O0;function d_(){if(O0)return Mf;O0=1;var s=Bs(),t=h_(),r=Ev()(),a=Zh(),l=s("%TypeError%"),u=s("%Math.floor%");return Mf=function(f,d){if(typeof f!="function")throw new l("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||u(d)!==d)throw new l("`length` must be a positive 32-bit integer");var p=arguments.length>2&&!!arguments[2],m=!0,x=!0;if("length"in f&&a){var _=a(f,"length");_&&!_.configurable&&(m=!1),_&&!_.writable&&(x=!1)}return(m||x||!p)&&(r?t(f,"length",d,!0,!0):t(f,"length",d)),f},Mf}var D0;function Tv(){return D0||(D0=1,(function(s){var t=Xh(),r=Bs(),a=d_(),l=r("%TypeError%"),u=r("%Function.prototype.apply%"),c=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(c,u),d=r("%Object.defineProperty%",!0),p=r("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}s.exports=function(_){if(typeof _!="function")throw new l("a function is required");var S=f(t,c,arguments);return a(S,1+p(0,_.length-(arguments.length-1)),!0)};var m=function(){return f(t,u,arguments)};d?d(s.exports,"apply",{value:m}):s.exports.apply=m})(Cf)),Cf.exports}var Lf,U0;function Av(){if(U0)return Lf;U0=1;var s=Bs(),t=Tv(),r=t(s("String.prototype.indexOf"));return Lf=function(l,u){var c=s(l,!!u);return typeof c=="function"&&r(l,".prototype.")>-1?t(c):c},Lf}var Bf,M0;function p_(){if(M0)return Bf;M0=1;var s=Yh()(),t=Av(),r=t("Object.prototype.toString"),a=function(f){return s&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:r(f)==="[object Arguments]"},l=function(f){return a(f)?!0:f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&r(f)!=="[object Array]"&&r(f.callee)==="[object Function]"},u=(function(){return a(arguments)})();return a.isLegacyArguments=l,Bf=u?a:l,Bf}var If,L0;function m_(){if(L0)return If;L0=1;var s=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,a=Yh()(),l=Object.getPrototypeOf,u=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch{}},c;return If=function(d){if(typeof d!="function")return!1;if(r.test(t.call(d)))return!0;if(!a){var p=s.call(d);return p==="[object GeneratorFunction]"}if(!l)return!1;if(typeof c>"u"){var m=u();c=m?l(m):!1}return l(d)===c},If}var zf,B0;function g_(){if(B0)return zf;B0=1;var s=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,a;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw a}}),a={},t(function(){throw 42},null,r)}catch(R){R!==a&&(t=null)}else t=null;var l=/^\s*class\b/,u=function(D){try{var F=s.call(D);return l.test(F)}catch{return!1}},c=function(D){try{return u(D)?!1:(s.call(D),!0)}catch{return!1}},f=Object.prototype.toString,d="[object Object]",p="[object Function]",m="[object GeneratorFunction]",x="[object HTMLAllCollection]",_="[object HTML document.all class]",S="[object HTMLCollection]",j=typeof Symbol=="function"&&!!Symbol.toStringTag,T=!(0 in[,]),C=function(){return!1};if(typeof document=="object"){var b=document.all;f.call(b)===f.call(document.all)&&(C=function(D){if((T||!D)&&(typeof D>"u"||typeof D=="object"))try{var F=f.call(D);return(F===x||F===_||F===S||F===d)&&D("")==null}catch{}return!1})}return zf=t?function(D){if(C(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;try{t(D,null,r)}catch(F){if(F!==a)return!1}return!u(D)&&c(D)}:function(D){if(C(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;if(j)return c(D);if(u(D))return!1;var F=f.call(D);return F!==p&&F!==m&&!/^\[object HTML/.test(F)?!1:c(D)},zf}var Pf,I0;function y_(){if(I0)return Pf;I0=1;var s=g_(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,a=function(d,p,m){for(var x=0,_=d.length;x<_;x++)r.call(d,x)&&(m==null?p(d[x],x,d):p.call(m,d[x],x,d))},l=function(d,p,m){for(var x=0,_=d.length;x<_;x++)m==null?p(d.charAt(x),x,d):p.call(m,d.charAt(x),x,d)},u=function(d,p,m){for(var x in d)r.call(d,x)&&(m==null?p(d[x],x,d):p.call(m,d[x],x,d))},c=function(d,p,m){if(!s(p))throw new TypeError("iterator must be a function");var x;arguments.length>=3&&(x=m),t.call(d)==="[object Array]"?a(d,p,x):typeof d=="string"?l(d,p,x):u(d,p,x)};return Pf=c,Pf}var Ff,z0;function v_(){if(z0)return Ff;z0=1;var s=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?Qn:globalThis;return Ff=function(){for(var a=[],l=0;l<s.length;l++)typeof t[s[l]]=="function"&&(a[a.length]=s[l]);return a},Ff}var Hf,P0;function kv(){if(P0)return Hf;P0=1;var s=y_(),t=v_(),r=Tv(),a=Av(),l=Zh(),u=a("Object.prototype.toString"),c=Yh()(),f=typeof globalThis>"u"?Qn:globalThis,d=t(),p=a("String.prototype.slice"),m=Object.getPrototypeOf,x=a("Array.prototype.indexOf",!0)||function(C,b){for(var R=0;R<C.length;R+=1)if(C[R]===b)return R;return-1},_={__proto__:null};c&&l&&m?s(d,function(T){var C=new f[T];if(Symbol.toStringTag in C){var b=m(C),R=l(b,Symbol.toStringTag);if(!R){var D=m(b);R=l(D,Symbol.toStringTag)}_["$"+T]=r(R.get)}}):s(d,function(T){var C=new f[T],b=C.slice||C.set;b&&(_["$"+T]=r(b))});var S=function(C){var b=!1;return s(_,function(R,D){if(!b)try{"$"+R(C)===D&&(b=p(D,1))}catch{}}),b},j=function(C){var b=!1;return s(_,function(R,D){if(!b)try{R(C),b=p(D,1)}catch{}}),b};return Hf=function(C){if(!C||typeof C!="object")return!1;if(!c){var b=p(u(C),8,-1);return x(d,b)>-1?b:b!=="Object"?!1:j(C)}return l?S(C):null},Hf}var qf,F0;function w_(){if(F0)return qf;F0=1;var s=kv();return qf=function(r){return!!s(r)},qf}var H0;function b_(){return H0||(H0=1,(function(s){var t=p_(),r=m_(),a=kv(),l=w_();function u(E){return E.call.bind(E)}var c=typeof BigInt<"u",f=typeof Symbol<"u",d=u(Object.prototype.toString),p=u(Number.prototype.valueOf),m=u(String.prototype.valueOf),x=u(Boolean.prototype.valueOf);if(c)var _=u(BigInt.prototype.valueOf);if(f)var S=u(Symbol.prototype.valueOf);function j(E,P){if(typeof E!="object")return!1;try{return P(E),!0}catch{return!1}}s.isArgumentsObject=t,s.isGeneratorFunction=r,s.isTypedArray=l;function T(E){return typeof Promise<"u"&&E instanceof Promise||E!==null&&typeof E=="object"&&typeof E.then=="function"&&typeof E.catch=="function"}s.isPromise=T;function C(E){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(E):l(E)||Z(E)}s.isArrayBufferView=C;function b(E){return a(E)==="Uint8Array"}s.isUint8Array=b;function R(E){return a(E)==="Uint8ClampedArray"}s.isUint8ClampedArray=R;function D(E){return a(E)==="Uint16Array"}s.isUint16Array=D;function F(E){return a(E)==="Uint32Array"}s.isUint32Array=F;function I(E){return a(E)==="Int8Array"}s.isInt8Array=I;function se(E){return a(E)==="Int16Array"}s.isInt16Array=se;function X(E){return a(E)==="Int32Array"}s.isInt32Array=X;function le(E){return a(E)==="Float32Array"}s.isFloat32Array=le;function L(E){return a(E)==="Float64Array"}s.isFloat64Array=L;function ae(E){return a(E)==="BigInt64Array"}s.isBigInt64Array=ae;function ce(E){return a(E)==="BigUint64Array"}s.isBigUint64Array=ce;function z(E){return d(E)==="[object Map]"}z.working=typeof Map<"u"&&z(new Map);function re(E){return typeof Map>"u"?!1:z.working?z(E):E instanceof Map}s.isMap=re;function N(E){return d(E)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function J(E){return typeof Set>"u"?!1:N.working?N(E):E instanceof Set}s.isSet=J;function V(E){return d(E)==="[object WeakMap]"}V.working=typeof WeakMap<"u"&&V(new WeakMap);function Y(E){return typeof WeakMap>"u"?!1:V.working?V(E):E instanceof WeakMap}s.isWeakMap=Y;function ge(E){return d(E)==="[object WeakSet]"}ge.working=typeof WeakSet<"u"&&ge(new WeakSet);function ue(E){return ge(E)}s.isWeakSet=ue;function G(E){return d(E)==="[object ArrayBuffer]"}G.working=typeof ArrayBuffer<"u"&&G(new ArrayBuffer);function $(E){return typeof ArrayBuffer>"u"?!1:G.working?G(E):E instanceof ArrayBuffer}s.isArrayBuffer=$;function B(E){return d(E)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function Z(E){return typeof DataView>"u"?!1:B.working?B(E):E instanceof DataView}s.isDataView=Z;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function fe(E){return d(E)==="[object SharedArrayBuffer]"}function te(E){return typeof ne>"u"?!1:(typeof fe.working>"u"&&(fe.working=fe(new ne)),fe.working?fe(E):E instanceof ne)}s.isSharedArrayBuffer=te;function O(E){return d(E)==="[object AsyncFunction]"}s.isAsyncFunction=O;function k(E){return d(E)==="[object Map Iterator]"}s.isMapIterator=k;function ie(E){return d(E)==="[object Set Iterator]"}s.isSetIterator=ie;function Q(E){return d(E)==="[object Generator]"}s.isGeneratorObject=Q;function q(E){return d(E)==="[object WebAssembly.Module]"}s.isWebAssemblyCompiledModule=q;function W(E){return j(E,p)}s.isNumberObject=W;function be(E){return j(E,m)}s.isStringObject=be;function A(E){return j(E,x)}s.isBooleanObject=A;function ye(E){return c&&j(E,_)}s.isBigIntObject=ye;function U(E){return f&&j(E,S)}s.isSymbolObject=U;function y(E){return W(E)||be(E)||A(E)||ye(E)||U(E)}s.isBoxedPrimitive=y;function v(E){return typeof Uint8Array<"u"&&($(E)||te(E))}s.isAnyArrayBuffer=v,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(E){Object.defineProperty(s,E,{enumerable:!1,value:function(){throw new Error(E+" is not supported in userland")}})})})(_f)),_f}var $f,q0;function x_(){return q0||(q0=1,$f=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),$f}var $0;function jv(){return $0||($0=1,(function(s){var t=Object.getOwnPropertyDescriptors||function(Z){for(var ne=Object.keys(Z),fe={},te=0;te<ne.length;te++)fe[ne[te]]=Object.getOwnPropertyDescriptor(Z,ne[te]);return fe},r=/%[sdj%]/g;s.format=function(B){if(!I(B)){for(var Z=[],ne=0;ne<arguments.length;ne++)Z.push(c(arguments[ne]));return Z.join(" ")}for(var ne=1,fe=arguments,te=fe.length,O=String(B).replace(r,function(ie){if(ie==="%%")return"%";if(ne>=te)return ie;switch(ie){case"%s":return String(fe[ne++]);case"%d":return Number(fe[ne++]);case"%j":try{return JSON.stringify(fe[ne++])}catch{return"[Circular]"}default:return ie}}),k=fe[ne];ne<te;k=fe[++ne])R(k)||!L(k)?O+=" "+k:O+=" "+c(k);return O},s.deprecate=function(B,Z){if(typeof Ye<"u"&&Ye.noDeprecation===!0)return B;if(typeof Ye>"u")return function(){return s.deprecate(B,Z).apply(this,arguments)};var ne=!1;function fe(){if(!ne){if(Ye.throwDeprecation)throw new Error(Z);Ye.traceDeprecation?console.trace(Z):console.error(Z),ne=!0}return B.apply(this,arguments)}return fe};var a={},l=/^$/;if(Ye.env.NODE_DEBUG){var u=Ye.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+u+"$","i")}s.debuglog=function(B){if(B=B.toUpperCase(),!a[B])if(l.test(B)){var Z=Ye.pid;a[B]=function(){var ne=s.format.apply(s,arguments);console.error("%s %d: %s",B,Z,ne)}}else a[B]=function(){};return a[B]};function c(B,Z){var ne={seen:[],stylize:d};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),b(Z)?ne.showHidden=Z:Z&&s._extend(ne,Z),X(ne.showHidden)&&(ne.showHidden=!1),X(ne.depth)&&(ne.depth=2),X(ne.colors)&&(ne.colors=!1),X(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=f),m(ne,B,ne.depth)}s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(B,Z){var ne=c.styles[Z];return ne?"\x1B["+c.colors[ne][0]+"m"+B+"\x1B["+c.colors[ne][1]+"m":B}function d(B,Z){return B}function p(B){var Z={};return B.forEach(function(ne,fe){Z[ne]=!0}),Z}function m(B,Z,ne){if(B.customInspect&&Z&&z(Z.inspect)&&Z.inspect!==s.inspect&&!(Z.constructor&&Z.constructor.prototype===Z)){var fe=Z.inspect(ne,B);return I(fe)||(fe=m(B,fe,ne)),fe}var te=x(B,Z);if(te)return te;var O=Object.keys(Z),k=p(O);if(B.showHidden&&(O=Object.getOwnPropertyNames(Z)),ce(Z)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return _(Z);if(O.length===0){if(z(Z)){var ie=Z.name?": "+Z.name:"";return B.stylize("[Function"+ie+"]","special")}if(le(Z))return B.stylize(RegExp.prototype.toString.call(Z),"regexp");if(ae(Z))return B.stylize(Date.prototype.toString.call(Z),"date");if(ce(Z))return _(Z)}var Q="",q=!1,W=["{","}"];if(C(Z)&&(q=!0,W=["[","]"]),z(Z)){var be=Z.name?": "+Z.name:"";Q=" [Function"+be+"]"}if(le(Z)&&(Q=" "+RegExp.prototype.toString.call(Z)),ae(Z)&&(Q=" "+Date.prototype.toUTCString.call(Z)),ce(Z)&&(Q=" "+_(Z)),O.length===0&&(!q||Z.length==0))return W[0]+Q+W[1];if(ne<0)return le(Z)?B.stylize(RegExp.prototype.toString.call(Z),"regexp"):B.stylize("[Object]","special");B.seen.push(Z);var A;return q?A=S(B,Z,ne,k,O):A=O.map(function(ye){return j(B,Z,ne,k,ye,q)}),B.seen.pop(),T(A,Q,W)}function x(B,Z){if(X(Z))return B.stylize("undefined","undefined");if(I(Z)){var ne="'"+JSON.stringify(Z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(ne,"string")}if(F(Z))return B.stylize(""+Z,"number");if(b(Z))return B.stylize(""+Z,"boolean");if(R(Z))return B.stylize("null","null")}function _(B){return"["+Error.prototype.toString.call(B)+"]"}function S(B,Z,ne,fe,te){for(var O=[],k=0,ie=Z.length;k<ie;++k)ge(Z,String(k))?O.push(j(B,Z,ne,fe,String(k),!0)):O.push("");return te.forEach(function(Q){Q.match(/^\d+$/)||O.push(j(B,Z,ne,fe,Q,!0))}),O}function j(B,Z,ne,fe,te,O){var k,ie,Q;if(Q=Object.getOwnPropertyDescriptor(Z,te)||{value:Z[te]},Q.get?Q.set?ie=B.stylize("[Getter/Setter]","special"):ie=B.stylize("[Getter]","special"):Q.set&&(ie=B.stylize("[Setter]","special")),ge(fe,te)||(k="["+te+"]"),ie||(B.seen.indexOf(Q.value)<0?(R(ne)?ie=m(B,Q.value,null):ie=m(B,Q.value,ne-1),ie.indexOf(`
`)>-1&&(O?ie=ie.split(`
`).map(function(q){return"  "+q}).join(`
`).slice(2):ie=`
`+ie.split(`
`).map(function(q){return"   "+q}).join(`
`))):ie=B.stylize("[Circular]","special")),X(k)){if(O&&te.match(/^\d+$/))return ie;k=JSON.stringify(""+te),k.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.slice(1,-1),k=B.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=B.stylize(k,"string"))}return k+": "+ie}function T(B,Z,ne){var fe=B.reduce(function(te,O){return O.indexOf(`
`)>=0,te+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?ne[0]+(Z===""?"":Z+`
 `)+" "+B.join(`,
  `)+" "+ne[1]:ne[0]+Z+" "+B.join(", ")+" "+ne[1]}s.types=b_();function C(B){return Array.isArray(B)}s.isArray=C;function b(B){return typeof B=="boolean"}s.isBoolean=b;function R(B){return B===null}s.isNull=R;function D(B){return B==null}s.isNullOrUndefined=D;function F(B){return typeof B=="number"}s.isNumber=F;function I(B){return typeof B=="string"}s.isString=I;function se(B){return typeof B=="symbol"}s.isSymbol=se;function X(B){return B===void 0}s.isUndefined=X;function le(B){return L(B)&&N(B)==="[object RegExp]"}s.isRegExp=le,s.types.isRegExp=le;function L(B){return typeof B=="object"&&B!==null}s.isObject=L;function ae(B){return L(B)&&N(B)==="[object Date]"}s.isDate=ae,s.types.isDate=ae;function ce(B){return L(B)&&(N(B)==="[object Error]"||B instanceof Error)}s.isError=ce,s.types.isNativeError=ce;function z(B){return typeof B=="function"}s.isFunction=z;function re(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}s.isPrimitive=re,s.isBuffer=x_();function N(B){return Object.prototype.toString.call(B)}function J(B){return B<10?"0"+B.toString(10):B.toString(10)}var V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var B=new Date,Z=[J(B.getHours()),J(B.getMinutes()),J(B.getSeconds())].join(":");return[B.getDate(),V[B.getMonth()],Z].join(" ")}s.log=function(){console.log("%s - %s",Y(),s.format.apply(s,arguments))},s.inherits=Si,s._extend=function(B,Z){if(!Z||!L(Z))return B;for(var ne=Object.keys(Z),fe=ne.length;fe--;)B[ne[fe]]=Z[ne[fe]];return B};function ge(B,Z){return Object.prototype.hasOwnProperty.call(B,Z)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;s.promisify=function(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&Z[ue]){var ne=Z[ue];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,ue,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var fe,te,O=new Promise(function(Q,q){fe=Q,te=q}),k=[],ie=0;ie<arguments.length;ie++)k.push(arguments[ie]);k.push(function(Q,q){Q?te(Q):fe(q)});try{Z.apply(this,k)}catch(Q){te(Q)}return O}return Object.setPrototypeOf(ne,Object.getPrototypeOf(Z)),ue&&Object.defineProperty(ne,ue,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,t(Z))},s.promisify.custom=ue;function G(B,Z){if(!B){var ne=new Error("Promise was rejected with a falsy value");ne.reason=B,B=ne}return Z(B)}function $(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function Z(){for(var ne=[],fe=0;fe<arguments.length;fe++)ne.push(arguments[fe]);var te=ne.pop();if(typeof te!="function")throw new TypeError("The last argument must be of type Function");var O=this,k=function(){return te.apply(O,arguments)};B.apply(this,ne).then(function(ie){Ye.nextTick(k.bind(null,null,ie))},function(ie){Ye.nextTick(G.bind(null,ie,k))})}return Object.setPrototypeOf(Z,Object.getPrototypeOf(B)),Object.defineProperties(Z,t(B)),Z}s.callbackify=$})(xf)),xf}var Gf,G0;function __(){if(G0)return Gf;G0=1;function s(_,S){var j=Object.keys(_);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(_);S&&(T=T.filter(function(C){return Object.getOwnPropertyDescriptor(_,C).enumerable})),j.push.apply(j,T)}return j}function t(_){for(var S=1;S<arguments.length;S++){var j=arguments[S]!=null?arguments[S]:{};S%2?s(Object(j),!0).forEach(function(T){r(_,T,j[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(j)):s(Object(j)).forEach(function(T){Object.defineProperty(_,T,Object.getOwnPropertyDescriptor(j,T))})}return _}function r(_,S,j){return S in _?Object.defineProperty(_,S,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[S]=j,_}function a(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function l(_,S){for(var j=0;j<S.length;j++){var T=S[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function u(_,S,j){return S&&l(_.prototype,S),_}var c=Xl(),f=c.Buffer,d=jv(),p=d.inspect,m=p&&p.custom||"inspect";function x(_,S,j){f.prototype.copy.call(_,S,j)}return Gf=(function(){function _(){a(this,_),this.head=null,this.tail=null,this.length=0}return u(_,[{key:"push",value:function(j){var T={data:j,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(j){var T={data:j,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var T=this.head,C=""+T.data;T=T.next;)C+=j+T.data;return C}},{key:"concat",value:function(j){if(this.length===0)return f.alloc(0);for(var T=f.allocUnsafe(j>>>0),C=this.head,b=0;C;)x(C.data,T,b),b+=C.data.length,C=C.next;return T}},{key:"consume",value:function(j,T){var C;return j<this.head.data.length?(C=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?C=this.shift():C=T?this._getString(j):this._getBuffer(j),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var T=this.head,C=1,b=T.data;for(j-=b.length;T=T.next;){var R=T.data,D=j>R.length?R.length:j;if(D===R.length?b+=R:b+=R.slice(0,j),j-=D,j===0){D===R.length?(++C,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=R.slice(D));break}++C}return this.length-=C,b}},{key:"_getBuffer",value:function(j){var T=f.allocUnsafe(j),C=this.head,b=1;for(C.data.copy(T),j-=C.data.length;C=C.next;){var R=C.data,D=j>R.length?R.length:j;if(R.copy(T,T.length-j,0,D),j-=D,j===0){D===R.length?(++b,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=R.slice(D));break}++b}return this.length-=b,T}},{key:m,value:function(j,T){return p(this,t({},T,{depth:0,customInspect:!1}))}}]),_})(),Gf}var Kf,K0;function Nv(){if(K0)return Kf;K0=1;function s(c,f){var d=this,p=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return p||m?(f?f(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ye.nextTick(l,this,c)):Ye.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(x){!f&&x?d._writableState?d._writableState.errorEmitted?Ye.nextTick(r,d):(d._writableState.errorEmitted=!0,Ye.nextTick(t,d,x)):Ye.nextTick(t,d,x):f?(Ye.nextTick(r,d),f(x)):Ye.nextTick(r,d)}),this)}function t(c,f){l(c,f),r(c)}function r(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,f){c.emit("error",f)}function u(c,f){var d=c._readableState,p=c._writableState;d&&d.autoDestroy||p&&p.autoDestroy?c.destroy(f):c.emit("error",f)}return Kf={destroy:s,undestroy:a,errorOrDestroy:u},Kf}var Vf={},V0;function Is(){if(V0)return Vf;V0=1;function s(f,d){f.prototype=Object.create(d.prototype),f.prototype.constructor=f,f.__proto__=d}var t={};function r(f,d,p){p||(p=Error);function m(_,S,j){return typeof d=="string"?d:d(_,S,j)}var x=(function(_){s(S,_);function S(j,T,C){return _.call(this,m(j,T,C))||this}return S})(p);x.prototype.name=p.name,x.prototype.code=f,t[f]=x}function a(f,d){if(Array.isArray(f)){var p=f.length;return f=f.map(function(m){return String(m)}),p>2?"one of ".concat(d," ").concat(f.slice(0,p-1).join(", "),", or ")+f[p-1]:p===2?"one of ".concat(d," ").concat(f[0]," or ").concat(f[1]):"of ".concat(d," ").concat(f[0])}else return"of ".concat(d," ").concat(String(f))}function l(f,d,p){return f.substr(0,d.length)===d}function u(f,d,p){return(p===void 0||p>f.length)&&(p=f.length),f.substring(p-d.length,p)===d}function c(f,d,p){return typeof p!="number"&&(p=0),p+d.length>f.length?!1:f.indexOf(d,p)!==-1}return r("ERR_INVALID_OPT_VALUE",function(f,d){return'The value "'+d+'" is invalid for option "'+f+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(f,d,p){var m;typeof d=="string"&&l(d,"not ")?(m="must not be",d=d.replace(/^not /,"")):m="must be";var x;if(u(f," argument"))x="The ".concat(f," ").concat(m," ").concat(a(d,"type"));else{var _=c(f,".")?"property":"argument";x='The "'.concat(f,'" ').concat(_," ").concat(m," ").concat(a(d,"type"))}return x+=". Received type ".concat(typeof p),x},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Vf.codes=t,Vf}var Wf,W0;function Rv(){if(W0)return Wf;W0=1;var s=Is().codes.ERR_INVALID_OPT_VALUE;function t(a,l,u){return a.highWaterMark!=null?a.highWaterMark:l?a[u]:null}function r(a,l,u,c){var f=t(l,c,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var d=c?u:"highWaterMark";throw new s(d,f)}return Math.floor(f)}return a.objectMode?16:16*1024}return Wf={getHighWaterMark:r},Wf}var Yf,Y0;function S_(){if(Y0)return Yf;Y0=1,Yf=s;function s(r,a){if(t("noDeprecation"))return r;var l=!1;function u(){if(!l){if(t("throwDeprecation"))throw new Error(a);t("traceDeprecation")?console.trace(a):console.warn(a),l=!0}return r.apply(this,arguments)}return u}function t(r){try{if(!Qn.localStorage)return!1}catch{return!1}var a=Qn.localStorage[r];return a==null?!1:String(a).toLowerCase()==="true"}return Yf}var Xf,X0;function Cv(){if(X0)return Xf;X0=1,Xf=le;function s(te){var O=this;this.next=null,this.entry=null,this.finish=function(){fe(O,te)}}var t;le.WritableState=se;var r={deprecate:S_()},a=_v(),l=Xl().Buffer,u=Qn.Uint8Array||function(){};function c(te){return l.from(te)}function f(te){return l.isBuffer(te)||te instanceof u}var d=Nv(),p=Rv(),m=p.getHighWaterMark,x=Is().codes,_=x.ERR_INVALID_ARG_TYPE,S=x.ERR_METHOD_NOT_IMPLEMENTED,j=x.ERR_MULTIPLE_CALLBACK,T=x.ERR_STREAM_CANNOT_PIPE,C=x.ERR_STREAM_DESTROYED,b=x.ERR_STREAM_NULL_VALUES,R=x.ERR_STREAM_WRITE_AFTER_END,D=x.ERR_UNKNOWN_ENCODING,F=d.errorOrDestroy;Si(le,a);function I(){}function se(te,O,k){t=t||Cs(),te=te||{},typeof k!="boolean"&&(k=O instanceof t),this.objectMode=!!te.objectMode,k&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=m(this,te,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=te.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){V(O,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}se.prototype.getBuffer=function(){for(var O=this.bufferedRequest,k=[];O;)k.push(O),O=O.next;return k},(function(){try{Object.defineProperty(se.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(O){return X.call(this,O)?!0:this!==le?!1:O&&O._writableState instanceof se}})):X=function(O){return O instanceof this};function le(te){t=t||Cs();var O=this instanceof t;if(!O&&!X.call(le,this))return new le(te);this._writableState=new se(te,this,O),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),a.call(this)}le.prototype.pipe=function(){F(this,new T)};function L(te,O){var k=new R;F(te,k),Ye.nextTick(O,k)}function ae(te,O,k,ie){var Q;return k===null?Q=new b:typeof k!="string"&&!O.objectMode&&(Q=new _("chunk",["string","Buffer"],k)),Q?(F(te,Q),Ye.nextTick(ie,Q),!1):!0}le.prototype.write=function(te,O,k){var ie=this._writableState,Q=!1,q=!ie.objectMode&&f(te);return q&&!l.isBuffer(te)&&(te=c(te)),typeof O=="function"&&(k=O,O=null),q?O="buffer":O||(O=ie.defaultEncoding),typeof k!="function"&&(k=I),ie.ending?L(this,k):(q||ae(this,ie,te,k))&&(ie.pendingcb++,Q=z(this,ie,q,te,O,k)),Q},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&ue(this,te))},le.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new D(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(te,O,k){return!te.objectMode&&te.decodeStrings!==!1&&typeof O=="string"&&(O=l.from(O,k)),O}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(te,O,k,ie,Q,q){if(!k){var W=ce(O,ie,Q);ie!==W&&(k=!0,Q="buffer",ie=W)}var be=O.objectMode?1:ie.length;O.length+=be;var A=O.length<O.highWaterMark;if(A||(O.needDrain=!0),O.writing||O.corked){var ye=O.lastBufferedRequest;O.lastBufferedRequest={chunk:ie,encoding:Q,isBuf:k,callback:q,next:null},ye?ye.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else re(te,O,!1,be,ie,Q,q);return A}function re(te,O,k,ie,Q,q,W){O.writelen=ie,O.writecb=W,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new C("write")):k?te._writev(Q,O.onwrite):te._write(Q,q,O.onwrite),O.sync=!1}function N(te,O,k,ie,Q){--O.pendingcb,k?(Ye.nextTick(Q,ie),Ye.nextTick(Z,te,O),te._writableState.errorEmitted=!0,F(te,ie)):(Q(ie),te._writableState.errorEmitted=!0,F(te,ie),Z(te,O))}function J(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function V(te,O){var k=te._writableState,ie=k.sync,Q=k.writecb;if(typeof Q!="function")throw new j;if(J(k),O)N(te,k,ie,O,Q);else{var q=G(k)||te.destroyed;!q&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&ue(te,k),ie?Ye.nextTick(Y,te,k,q,Q):Y(te,k,q,Q)}}function Y(te,O,k,ie){k||ge(te,O),O.pendingcb--,ie(),Z(te,O)}function ge(te,O){O.length===0&&O.needDrain&&(O.needDrain=!1,te.emit("drain"))}function ue(te,O){O.bufferProcessing=!0;var k=O.bufferedRequest;if(te._writev&&k&&k.next){var ie=O.bufferedRequestCount,Q=new Array(ie),q=O.corkedRequestsFree;q.entry=k;for(var W=0,be=!0;k;)Q[W]=k,k.isBuf||(be=!1),k=k.next,W+=1;Q.allBuffers=be,re(te,O,!0,O.length,Q,"",q.finish),O.pendingcb++,O.lastBufferedRequest=null,q.next?(O.corkedRequestsFree=q.next,q.next=null):O.corkedRequestsFree=new s(O),O.bufferedRequestCount=0}else{for(;k;){var A=k.chunk,ye=k.encoding,U=k.callback,y=O.objectMode?1:A.length;if(re(te,O,!1,y,A,ye,U),k=k.next,O.bufferedRequestCount--,O.writing)break}k===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=k,O.bufferProcessing=!1}le.prototype._write=function(te,O,k){k(new S("_write()"))},le.prototype._writev=null,le.prototype.end=function(te,O,k){var ie=this._writableState;return typeof te=="function"?(k=te,te=null,O=null):typeof O=="function"&&(k=O,O=null),te!=null&&this.write(te,O),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||ne(this,ie,k),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function $(te,O){te._final(function(k){O.pendingcb--,k&&F(te,k),O.prefinished=!0,te.emit("prefinish"),Z(te,O)})}function B(te,O){!O.prefinished&&!O.finalCalled&&(typeof te._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,Ye.nextTick($,te,O)):(O.prefinished=!0,te.emit("prefinish")))}function Z(te,O){var k=G(O);if(k&&(B(te,O),O.pendingcb===0&&(O.finished=!0,te.emit("finish"),O.autoDestroy))){var ie=te._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&te.destroy()}return k}function ne(te,O,k){O.ending=!0,Z(te,O),k&&(O.finished?Ye.nextTick(k):te.once("finish",k)),O.ended=!0,te.writable=!1}function fe(te,O,k){var ie=te.entry;for(te.entry=null;ie;){var Q=ie.callback;O.pendingcb--,Q(k),ie=ie.next}O.corkedRequestsFree.next=te}return Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),le.prototype.destroy=d.destroy,le.prototype._undestroy=d.undestroy,le.prototype._destroy=function(te,O){O(te)},Xf}var Zf,Z0;function Cs(){if(Z0)return Zf;Z0=1;var s=Object.keys||function(p){var m=[];for(var x in p)m.push(x);return m};Zf=c;var t=Ov(),r=Cv();Si(c,t);for(var a=s(r.prototype),l=0;l<a.length;l++){var u=a[l];c.prototype[u]||(c.prototype[u]=r.prototype[u])}function c(p){if(!(this instanceof c))return new c(p);t.call(this,p),r.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||Ye.nextTick(d,this)}function d(p){p.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),Zf}var Qf={},xl={exports:{}},Q0;function E_(){return Q0||(Q0=1,(function(s,t){var r=Xl(),a=r.Buffer;function l(c,f){for(var d in c)f[d]=c[d]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?s.exports=r:(l(r,t),t.Buffer=u);function u(c,f,d){return a(c,f,d)}l(a,u),u.from=function(c,f,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,f,d)},u.alloc=function(c,f,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=a(c);return f!==void 0?typeof d=="string"?p.fill(f,d):p.fill(f):p.fill(0),p},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(xl,xl.exports)),xl.exports}var J0;function kh(){if(J0)return Qf;J0=1;var s=E_().Buffer,t=s.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(b){if(!b)return"utf8";for(var R;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(R)return;b=(""+b).toLowerCase(),R=!0}}function a(b){var R=r(b);if(typeof R!="string"&&(s.isEncoding===t||!t(b)))throw new Error("Unknown encoding: "+b);return R||b}Qf.StringDecoder=l;function l(b){this.encoding=a(b);var R;switch(this.encoding){case"utf16le":this.text=x,this.end=_,R=4;break;case"utf8":this.fillLast=d,R=4;break;case"base64":this.text=S,this.end=j,R=3;break;default:this.write=T,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(R)}l.prototype.write=function(b){if(b.length===0)return"";var R,D;if(this.lastNeed){if(R=this.fillLast(b),R===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<b.length?R?R+this.text(b,D):this.text(b,D):R||""},l.prototype.end=m,l.prototype.text=p,l.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function u(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function c(b,R,D){var F=R.length-1;if(F<D)return 0;var I=u(R[F]);return I>=0?(I>0&&(b.lastNeed=I-1),I):--F<D||I===-2?0:(I=u(R[F]),I>=0?(I>0&&(b.lastNeed=I-2),I):--F<D||I===-2?0:(I=u(R[F]),I>=0?(I>0&&(I===2?I=0:b.lastNeed=I-3),I):0))}function f(b,R,D){if((R[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return b.lastNeed=2,""}}function d(b){var R=this.lastTotal-this.lastNeed,D=f(this,b);if(D!==void 0)return D;if(this.lastNeed<=b.length)return b.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,R,0,b.length),this.lastNeed-=b.length}function p(b,R){var D=c(this,b,R);if(!this.lastNeed)return b.toString("utf8",R);this.lastTotal=D;var F=b.length-(D-this.lastNeed);return b.copy(this.lastChar,0,F),b.toString("utf8",R,F)}function m(b){var R=b&&b.length?this.write(b):"";return this.lastNeed?R+"":R}function x(b,R){if((b.length-R)%2===0){var D=b.toString("utf16le",R);if(D){var F=D.charCodeAt(D.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",R,b.length-1)}function _(b){var R=b&&b.length?this.write(b):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,D)}return R}function S(b,R){var D=(b.length-R)%3;return D===0?b.toString("base64",R):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",R,b.length-D))}function j(b){var R=b&&b.length?this.write(b):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function T(b){return b.toString(this.encoding)}function C(b){return b&&b.length?this.write(b):""}return Qf}var Jf,ey;function Qh(){if(ey)return Jf;ey=1;var s=Is().codes.ERR_STREAM_PREMATURE_CLOSE;function t(u){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];u.apply(this,d)}}}function r(){}function a(u){return u.setHeader&&typeof u.abort=="function"}function l(u,c,f){if(typeof c=="function")return l(u,null,c);c||(c={}),f=t(f||r);var d=c.readable||c.readable!==!1&&u.readable,p=c.writable||c.writable!==!1&&u.writable,m=function(){u.writable||_()},x=u._writableState&&u._writableState.finished,_=function(){p=!1,x=!0,d||f.call(u)},S=u._readableState&&u._readableState.endEmitted,j=function(){d=!1,S=!0,p||f.call(u)},T=function(D){f.call(u,D)},C=function(){var D;if(d&&!S)return(!u._readableState||!u._readableState.ended)&&(D=new s),f.call(u,D);if(p&&!x)return(!u._writableState||!u._writableState.ended)&&(D=new s),f.call(u,D)},b=function(){u.req.on("finish",_)};return a(u)?(u.on("complete",_),u.on("abort",C),u.req?b():u.on("request",b)):p&&!u._writableState&&(u.on("end",m),u.on("close",m)),u.on("end",j),u.on("finish",_),c.error!==!1&&u.on("error",T),u.on("close",C),function(){u.removeListener("complete",_),u.removeListener("abort",C),u.removeListener("request",b),u.req&&u.req.removeListener("finish",_),u.removeListener("end",m),u.removeListener("close",m),u.removeListener("finish",_),u.removeListener("end",j),u.removeListener("error",T),u.removeListener("close",C)}}return Jf=l,Jf}var eh,ty;function T_(){if(ty)return eh;ty=1;var s;function t(b,R,D){return R in b?Object.defineProperty(b,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):b[R]=D,b}var r=Qh(),a=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function m(b,R){return{value:b,done:R}}function x(b){var R=b[a];if(R!==null){var D=b[p].read();D!==null&&(b[f]=null,b[a]=null,b[l]=null,R(m(D,!1)))}}function _(b){Ye.nextTick(x,b)}function S(b,R){return function(D,F){b.then(function(){if(R[c]){D(m(void 0,!0));return}R[d](D,F)},F)}}var j=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((s={get stream(){return this[p]},next:function(){var R=this,D=this[u];if(D!==null)return Promise.reject(D);if(this[c])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(X,le){Ye.nextTick(function(){R[u]?le(R[u]):X(m(void 0,!0))})});var F=this[f],I;if(F)I=new Promise(S(F,this));else{var se=this[p].read();if(se!==null)return Promise.resolve(m(se,!1));I=new Promise(this[d])}return this[f]=I,I}},t(s,Symbol.asyncIterator,function(){return this}),t(s,"return",function(){var R=this;return new Promise(function(D,F){R[p].destroy(null,function(I){if(I){F(I);return}D(m(void 0,!0))})})}),s),j),C=function(R){var D,F=Object.create(T,(D={},t(D,p,{value:R,writable:!0}),t(D,a,{value:null,writable:!0}),t(D,l,{value:null,writable:!0}),t(D,u,{value:null,writable:!0}),t(D,c,{value:R._readableState.endEmitted,writable:!0}),t(D,d,{value:function(se,X){var le=F[p].read();le?(F[f]=null,F[a]=null,F[l]=null,se(m(le,!1))):(F[a]=se,F[l]=X)},writable:!0}),D));return F[f]=null,r(R,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var se=F[l];se!==null&&(F[f]=null,F[a]=null,F[l]=null,se(I)),F[u]=I;return}var X=F[a];X!==null&&(F[f]=null,F[a]=null,F[l]=null,X(m(void 0,!0))),F[c]=!0}),R.on("readable",_.bind(null,F)),F};return eh=C,eh}var th,ny;function A_(){return ny||(ny=1,th=function(){throw new Error("Readable.from is not available in the browser")}),th}var nh,ry;function Ov(){if(ry)return nh;ry=1,nh=L;var s;L.ReadableState=le,Wh.EventEmitter;var t=function(W,be){return W.listeners(be).length},r=_v(),a=Xl().Buffer,l=Qn.Uint8Array||function(){};function u(q){return a.from(q)}function c(q){return a.isBuffer(q)||q instanceof l}var f=jv(),d;f&&f.debuglog?d=f.debuglog("stream"):d=function(){};var p=__(),m=Nv(),x=Rv(),_=x.getHighWaterMark,S=Is().codes,j=S.ERR_INVALID_ARG_TYPE,T=S.ERR_STREAM_PUSH_AFTER_EOF,C=S.ERR_METHOD_NOT_IMPLEMENTED,b=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,D,F;Si(L,r);var I=m.errorOrDestroy,se=["error","close","destroy","pause","resume"];function X(q,W,be){if(typeof q.prependListener=="function")return q.prependListener(W,be);!q._events||!q._events[W]?q.on(W,be):Array.isArray(q._events[W])?q._events[W].unshift(be):q._events[W]=[be,q._events[W]]}function le(q,W,be){s=s||Cs(),q=q||{},typeof be!="boolean"&&(be=W instanceof s),this.objectMode=!!q.objectMode,be&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=_(this,q,"readableHighWaterMark",be),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(R||(R=kh().StringDecoder),this.decoder=new R(q.encoding),this.encoding=q.encoding)}function L(q){if(s=s||Cs(),!(this instanceof L))return new L(q);var W=this instanceof s;this._readableState=new le(q,this,W),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),r.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(W){this._readableState&&(this._readableState.destroyed=W)}}),L.prototype.destroy=m.destroy,L.prototype._undestroy=m.undestroy,L.prototype._destroy=function(q,W){W(q)},L.prototype.push=function(q,W){var be=this._readableState,A;return be.objectMode?A=!0:typeof q=="string"&&(W=W||be.defaultEncoding,W!==be.encoding&&(q=a.from(q,W),W=""),A=!0),ae(this,q,W,!1,A)},L.prototype.unshift=function(q){return ae(this,q,null,!0,!1)};function ae(q,W,be,A,ye){d("readableAddChunk",W);var U=q._readableState;if(W===null)U.reading=!1,V(q,U);else{var y;if(ye||(y=z(U,W)),y)I(q,y);else if(U.objectMode||W&&W.length>0)if(typeof W!="string"&&!U.objectMode&&Object.getPrototypeOf(W)!==a.prototype&&(W=u(W)),A)U.endEmitted?I(q,new b):ce(q,U,W,!0);else if(U.ended)I(q,new T);else{if(U.destroyed)return!1;U.reading=!1,U.decoder&&!be?(W=U.decoder.write(W),U.objectMode||W.length!==0?ce(q,U,W,!1):ue(q,U)):ce(q,U,W,!1)}else A||(U.reading=!1,ue(q,U))}return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function ce(q,W,be,A){W.flowing&&W.length===0&&!W.sync?(W.awaitDrain=0,q.emit("data",be)):(W.length+=W.objectMode?1:be.length,A?W.buffer.unshift(be):W.buffer.push(be),W.needReadable&&Y(q)),ue(q,W)}function z(q,W){var be;return!c(W)&&typeof W!="string"&&W!==void 0&&!q.objectMode&&(be=new j("chunk",["string","Buffer","Uint8Array"],W)),be}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(q){R||(R=kh().StringDecoder);var W=new R(q);this._readableState.decoder=W,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,A="";be!==null;)A+=W.write(be.data),be=be.next;return this._readableState.buffer.clear(),A!==""&&this._readableState.buffer.push(A),this._readableState.length=A.length,this};var re=1073741824;function N(q){return q>=re?q=re:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function J(q,W){return q<=0||W.length===0&&W.ended?0:W.objectMode?1:q!==q?W.flowing&&W.length?W.buffer.head.data.length:W.length:(q>W.highWaterMark&&(W.highWaterMark=N(q)),q<=W.length?q:W.ended?W.length:(W.needReadable=!0,0))}L.prototype.read=function(q){d("read",q),q=parseInt(q,10);var W=this._readableState,be=q;if(q!==0&&(W.emittedReadable=!1),q===0&&W.needReadable&&((W.highWaterMark!==0?W.length>=W.highWaterMark:W.length>0)||W.ended))return d("read: emitReadable",W.length,W.ended),W.length===0&&W.ended?k(this):Y(this),null;if(q=J(q,W),q===0&&W.ended)return W.length===0&&k(this),null;var A=W.needReadable;d("need readable",A),(W.length===0||W.length-q<W.highWaterMark)&&(A=!0,d("length less than watermark",A)),W.ended||W.reading?(A=!1,d("reading or ended",A)):A&&(d("do read"),W.reading=!0,W.sync=!0,W.length===0&&(W.needReadable=!0),this._read(W.highWaterMark),W.sync=!1,W.reading||(q=J(be,W)));var ye;return q>0?ye=O(q,W):ye=null,ye===null?(W.needReadable=W.length<=W.highWaterMark,q=0):(W.length-=q,W.awaitDrain=0),W.length===0&&(W.ended||(W.needReadable=!0),be!==q&&W.ended&&k(this)),ye!==null&&this.emit("data",ye),ye};function V(q,W){if(d("onEofChunk"),!W.ended){if(W.decoder){var be=W.decoder.end();be&&be.length&&(W.buffer.push(be),W.length+=W.objectMode?1:be.length)}W.ended=!0,W.sync?Y(q):(W.needReadable=!1,W.emittedReadable||(W.emittedReadable=!0,ge(q)))}}function Y(q){var W=q._readableState;d("emitReadable",W.needReadable,W.emittedReadable),W.needReadable=!1,W.emittedReadable||(d("emitReadable",W.flowing),W.emittedReadable=!0,Ye.nextTick(ge,q))}function ge(q){var W=q._readableState;d("emitReadable_",W.destroyed,W.length,W.ended),!W.destroyed&&(W.length||W.ended)&&(q.emit("readable"),W.emittedReadable=!1),W.needReadable=!W.flowing&&!W.ended&&W.length<=W.highWaterMark,te(q)}function ue(q,W){W.readingMore||(W.readingMore=!0,Ye.nextTick(G,q,W))}function G(q,W){for(;!W.reading&&!W.ended&&(W.length<W.highWaterMark||W.flowing&&W.length===0);){var be=W.length;if(d("maybeReadMore read 0"),q.read(0),be===W.length)break}W.readingMore=!1}L.prototype._read=function(q){I(this,new C("_read()"))},L.prototype.pipe=function(q,W){var be=this,A=this._readableState;switch(A.pipesCount){case 0:A.pipes=q;break;case 1:A.pipes=[A.pipes,q];break;default:A.pipes.push(q);break}A.pipesCount+=1,d("pipe count=%d opts=%j",A.pipesCount,W);var ye=(!W||W.end!==!1)&&q!==Ye.stdout&&q!==Ye.stderr,U=ye?v:Ce;A.endEmitted?Ye.nextTick(U):be.once("end",U),q.on("unpipe",y);function y(De,Ue){d("onunpipe"),De===be&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,ee())}function v(){d("onend"),q.end()}var E=$(be);q.on("drain",E);var P=!1;function ee(){d("cleanup"),q.removeListener("close",Te),q.removeListener("finish",Se),q.removeListener("drain",E),q.removeListener("error",de),q.removeListener("unpipe",y),be.removeListener("end",v),be.removeListener("end",Ce),be.removeListener("data",K),P=!0,A.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&E()}be.on("data",K);function K(De){d("ondata");var Ue=q.write(De);d("dest.write",Ue),Ue===!1&&((A.pipesCount===1&&A.pipes===q||A.pipesCount>1&&Q(A.pipes,q)!==-1)&&!P&&(d("false write response, pause",A.awaitDrain),A.awaitDrain++),be.pause())}function de(De){d("onerror",De),Ce(),q.removeListener("error",de),t(q,"error")===0&&I(q,De)}X(q,"error",de);function Te(){q.removeListener("finish",Se),Ce()}q.once("close",Te);function Se(){d("onfinish"),q.removeListener("close",Te),Ce()}q.once("finish",Se);function Ce(){d("unpipe"),be.unpipe(q)}return q.emit("pipe",be),A.flowing||(d("pipe resume"),be.resume()),q};function $(q){return function(){var be=q._readableState;d("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&t(q,"data")&&(be.flowing=!0,te(q))}}L.prototype.unpipe=function(q){var W=this._readableState,be={hasUnpiped:!1};if(W.pipesCount===0)return this;if(W.pipesCount===1)return q&&q!==W.pipes?this:(q||(q=W.pipes),W.pipes=null,W.pipesCount=0,W.flowing=!1,q&&q.emit("unpipe",this,be),this);if(!q){var A=W.pipes,ye=W.pipesCount;W.pipes=null,W.pipesCount=0,W.flowing=!1;for(var U=0;U<ye;U++)A[U].emit("unpipe",this,{hasUnpiped:!1});return this}var y=Q(W.pipes,q);return y===-1?this:(W.pipes.splice(y,1),W.pipesCount-=1,W.pipesCount===1&&(W.pipes=W.pipes[0]),q.emit("unpipe",this,be),this)},L.prototype.on=function(q,W){var be=r.prototype.on.call(this,q,W),A=this._readableState;return q==="data"?(A.readableListening=this.listenerCount("readable")>0,A.flowing!==!1&&this.resume()):q==="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,d("on readable",A.length,A.reading),A.length?Y(this):A.reading||Ye.nextTick(Z,this)),be},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(q,W){var be=r.prototype.removeListener.call(this,q,W);return q==="readable"&&Ye.nextTick(B,this),be},L.prototype.removeAllListeners=function(q){var W=r.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&Ye.nextTick(B,this),W};function B(q){var W=q._readableState;W.readableListening=q.listenerCount("readable")>0,W.resumeScheduled&&!W.paused?W.flowing=!0:q.listenerCount("data")>0&&q.resume()}function Z(q){d("readable nexttick read 0"),q.read(0)}L.prototype.resume=function(){var q=this._readableState;return q.flowing||(d("resume"),q.flowing=!q.readableListening,ne(this,q)),q.paused=!1,this};function ne(q,W){W.resumeScheduled||(W.resumeScheduled=!0,Ye.nextTick(fe,q,W))}function fe(q,W){d("resume",W.reading),W.reading||q.read(0),W.resumeScheduled=!1,q.emit("resume"),te(q),W.flowing&&!W.reading&&q.read(0)}L.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(q){var W=q._readableState;for(d("flow",W.flowing);W.flowing&&q.read()!==null;);}L.prototype.wrap=function(q){var W=this,be=this._readableState,A=!1;q.on("end",function(){if(d("wrapped end"),be.decoder&&!be.ended){var y=be.decoder.end();y&&y.length&&W.push(y)}W.push(null)}),q.on("data",function(y){if(d("wrapped data"),be.decoder&&(y=be.decoder.write(y)),!(be.objectMode&&y==null)&&!(!be.objectMode&&(!y||!y.length))){var v=W.push(y);v||(A=!0,q.pause())}});for(var ye in q)this[ye]===void 0&&typeof q[ye]=="function"&&(this[ye]=(function(v){return function(){return q[v].apply(q,arguments)}})(ye));for(var U=0;U<se.length;U++)q.on(se[U],this.emit.bind(this,se[U]));return this._read=function(y){d("wrapped _read",y),A&&(A=!1,q.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=T_()),D(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(W){this._readableState&&(this._readableState.flowing=W)}}),L._fromList=O,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(q,W){if(W.length===0)return null;var be;return W.objectMode?be=W.buffer.shift():!q||q>=W.length?(W.decoder?be=W.buffer.join(""):W.buffer.length===1?be=W.buffer.first():be=W.buffer.concat(W.length),W.buffer.clear()):be=W.buffer.consume(q,W.decoder),be}function k(q){var W=q._readableState;d("endReadable",W.endEmitted),W.endEmitted||(W.ended=!0,Ye.nextTick(ie,W,q))}function ie(q,W){if(d("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,W.readable=!1,W.emit("end"),q.autoDestroy)){var be=W._writableState;(!be||be.autoDestroy&&be.finished)&&W.destroy()}}typeof Symbol=="function"&&(L.from=function(q,W){return F===void 0&&(F=A_()),F(L,q,W)});function Q(q,W){for(var be=0,A=q.length;be<A;be++)if(q[be]===W)return be;return-1}return nh}var rh,iy;function Dv(){if(iy)return rh;iy=1,rh=f;var s=Is().codes,t=s.ERR_METHOD_NOT_IMPLEMENTED,r=s.ERR_MULTIPLE_CALLBACK,a=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=s.ERR_TRANSFORM_WITH_LENGTH_0,u=Cs();Si(f,u);function c(m,x){var _=this._transformState;_.transforming=!1;var S=_.writecb;if(S===null)return this.emit("error",new r);_.writechunk=null,_.writecb=null,x!=null&&this.push(x),S(m);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function f(m){if(!(this instanceof f))return new f(m);u.call(this,m),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",d)}function d(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,_){p(m,x,_)}):p(this,null,null)}f.prototype.push=function(m,x){return this._transformState.needTransform=!1,u.prototype.push.call(this,m,x)},f.prototype._transform=function(m,x,_){_(new t("_transform()"))},f.prototype._write=function(m,x,_){var S=this._transformState;if(S.writecb=_,S.writechunk=m,S.writeencoding=x,!S.transforming){var j=this._readableState;(S.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},f.prototype._read=function(m){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},f.prototype._destroy=function(m,x){u.prototype._destroy.call(this,m,function(_){x(_)})};function p(m,x,_){if(x)return m.emit("error",x);if(_!=null&&m.push(_),m._writableState.length)throw new l;if(m._transformState.transforming)throw new a;return m.push(null)}return rh}var ih,sy;function k_(){if(sy)return ih;sy=1,ih=t;var s=Dv();Si(t,s);function t(r){if(!(this instanceof t))return new t(r);s.call(this,r)}return t.prototype._transform=function(r,a,l){l(null,r)},ih}var sh,ay;function j_(){if(ay)return sh;ay=1;var s;function t(_){var S=!1;return function(){S||(S=!0,_.apply(void 0,arguments))}}var r=Is().codes,a=r.ERR_MISSING_ARGS,l=r.ERR_STREAM_DESTROYED;function u(_){if(_)throw _}function c(_){return _.setHeader&&typeof _.abort=="function"}function f(_,S,j,T){T=t(T);var C=!1;_.on("close",function(){C=!0}),s===void 0&&(s=Qh()),s(_,{readable:S,writable:j},function(R){if(R)return T(R);C=!0,T()});var b=!1;return function(R){if(!C&&!b){if(b=!0,c(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();T(R||new l("pipe"))}}}function d(_){_()}function p(_,S){return _.pipe(S)}function m(_){return!_.length||typeof _[_.length-1]!="function"?u:_.pop()}function x(){for(var _=arguments.length,S=new Array(_),j=0;j<_;j++)S[j]=arguments[j];var T=m(S);if(Array.isArray(S[0])&&(S=S[0]),S.length<2)throw new a("streams");var C,b=S.map(function(R,D){var F=D<S.length-1,I=D>0;return f(R,F,I,function(se){C||(C=se),se&&b.forEach(d),!F&&(b.forEach(d),T(C))})});return S.reduce(p)}return sh=x,sh}var Jh=Dn,ed=Wh.EventEmitter,N_=Si;N_(Dn,ed);Dn.Readable=Ov();Dn.Writable=Cv();Dn.Duplex=Cs();Dn.Transform=Dv();Dn.PassThrough=k_();Dn.finished=Qh();Dn.pipeline=j_();Dn.Stream=Dn;function Dn(){ed.call(this)}Dn.prototype.pipe=function(s,t){var r=this;function a(m){s.writable&&s.write(m)===!1&&r.pause&&r.pause()}r.on("data",a);function l(){r.readable&&r.resume&&r.resume()}s.on("drain",l),!s._isStdio&&(!t||t.end!==!1)&&(r.on("end",c),r.on("close",f));var u=!1;function c(){u||(u=!0,s.end())}function f(){u||(u=!0,typeof s.destroy=="function"&&s.destroy())}function d(m){if(p(),ed.listenerCount(this,"error")===0)throw m}r.on("error",d),s.on("error",d);function p(){r.removeListener("data",a),s.removeListener("drain",l),r.removeListener("end",c),r.removeListener("close",f),r.removeListener("error",d),s.removeListener("error",d),r.removeListener("end",p),r.removeListener("close",p),s.removeListener("close",p)}return r.on("end",p),r.on("close",p),s.on("close",p),s.emit("pipe",r),s};(function(s){(function(t){t.parser=function(O,k){return new a(O,k)},t.SAXParser=a,t.SAXStream=m,t.createStream=p,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function a(O,k){if(!(this instanceof a))return new a(O,k);var ie=this;u(ie),ie.q=ie.c="",ie.bufferCheckPosition=t.MAX_BUFFER_LENGTH,ie.opt=k||{},ie.opt.lowercase=ie.opt.lowercase||ie.opt.lowercasetags,ie.looseCase=ie.opt.lowercase?"toLowerCase":"toUpperCase",ie.tags=[],ie.closed=ie.closedRoot=ie.sawRoot=!1,ie.tag=ie.error=null,ie.strict=!!O,ie.noscript=!!(O||ie.opt.noscript),ie.state=L.BEGIN,ie.strictEntities=ie.opt.strictEntities,ie.ENTITIES=ie.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),ie.attribList=[],ie.opt.xmlns&&(ie.ns=Object.create(T)),ie.trackPosition=ie.opt.position!==!1,ie.trackPosition&&(ie.position=ie.line=ie.column=0),ce(ie,"onready")}Object.create||(Object.create=function(O){function k(){}k.prototype=O;var ie=new k;return ie}),Object.keys||(Object.keys=function(O){var k=[];for(var ie in O)O.hasOwnProperty(ie)&&k.push(ie);return k});function l(O){for(var k=Math.max(t.MAX_BUFFER_LENGTH,10),ie=0,Q=0,q=r.length;Q<q;Q++){var W=O[r[Q]].length;if(W>k)switch(r[Q]){case"textNode":re(O);break;case"cdata":z(O,"oncdata",O.cdata),O.cdata="";break;case"script":z(O,"onscript",O.script),O.script="";break;default:J(O,"Max buffer length exceeded: "+r[Q])}ie=Math.max(ie,W)}var be=t.MAX_BUFFER_LENGTH-ie;O.bufferCheckPosition=be+O.position}function u(O){for(var k=0,ie=r.length;k<ie;k++)O[r[k]]=""}function c(O){re(O),O.cdata!==""&&(z(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(z(O,"onscript",O.script),O.script="")}a.prototype={end:function(){V(this)},write:te,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){c(this)}};var f;try{f=Jh.Stream}catch{f=function(){}}var d=t.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function p(O,k){return new m(O,k)}function m(O,k){if(!(this instanceof m))return new m(O,k);f.apply(this),this._parser=new a(O,k),this.writable=!0,this.readable=!0;var ie=this;this._parser.onend=function(){ie.emit("end")},this._parser.onerror=function(Q){ie.emit("error",Q),ie._parser.error=null},this._decoder=null,d.forEach(function(Q){Object.defineProperty(ie,"on"+Q,{get:function(){return ie._parser["on"+Q]},set:function(q){if(!q)return ie.removeAllListeners(Q),ie._parser["on"+Q]=q,q;ie.on(Q,q)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(f.prototype,{constructor:{value:m}}),m.prototype.write=function(O){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(O)){if(!this._decoder){var k=kh().StringDecoder;this._decoder=new k("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},m.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},m.prototype.on=function(O,k){var ie=this;return!ie._parser["on"+O]&&d.indexOf(O)!==-1&&(ie._parser["on"+O]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,O),ie.emit.apply(ie,Q)}),f.prototype.on.call(ie,O,k)};var x="[CDATA[",_="DOCTYPE",S="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",T={xml:S,xmlns:j},C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,D=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function F(O){return O===" "||O===`
`||O==="\r"||O==="	"}function I(O){return O==='"'||O==="'"}function se(O){return O===">"||F(O)}function X(O,k){return O.test(k)}function le(O,k){return!X(O,k)}var L=0;t.STATE={BEGIN:L++,BEGIN_WHITESPACE:L++,TEXT:L++,TEXT_ENTITY:L++,OPEN_WAKA:L++,SGML_DECL:L++,SGML_DECL_QUOTED:L++,DOCTYPE:L++,DOCTYPE_QUOTED:L++,DOCTYPE_DTD:L++,DOCTYPE_DTD_QUOTED:L++,COMMENT_STARTING:L++,COMMENT:L++,COMMENT_ENDING:L++,COMMENT_ENDED:L++,CDATA:L++,CDATA_ENDING:L++,CDATA_ENDING_2:L++,PROC_INST:L++,PROC_INST_BODY:L++,PROC_INST_ENDING:L++,OPEN_TAG:L++,OPEN_TAG_SLASH:L++,ATTRIB:L++,ATTRIB_NAME:L++,ATTRIB_NAME_SAW_WHITE:L++,ATTRIB_VALUE:L++,ATTRIB_VALUE_QUOTED:L++,ATTRIB_VALUE_CLOSED:L++,ATTRIB_VALUE_UNQUOTED:L++,ATTRIB_VALUE_ENTITY_Q:L++,ATTRIB_VALUE_ENTITY_U:L++,CLOSE_TAG:L++,CLOSE_TAG_SAW_WHITE:L++,SCRIPT:L++,SCRIPT_ENDING:L++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(O){var k=t.ENTITIES[O],ie=typeof k=="number"?String.fromCharCode(k):k;t.ENTITIES[O]=ie});for(var ae in t.STATE)t.STATE[t.STATE[ae]]=ae;L=t.STATE;function ce(O,k,ie){O[k]&&O[k](ie)}function z(O,k,ie){O.textNode&&re(O),ce(O,k,ie)}function re(O){O.textNode=N(O.opt,O.textNode),O.textNode&&ce(O,"ontext",O.textNode),O.textNode=""}function N(O,k){return O.trim&&(k=k.trim()),O.normalize&&(k=k.replace(/\s+/g," ")),k}function J(O,k){return re(O),O.trackPosition&&(k+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),k=new Error(k),O.error=k,ce(O,"onerror",k),O}function V(O){return O.sawRoot&&!O.closedRoot&&Y(O,"Unclosed root tag"),O.state!==L.BEGIN&&O.state!==L.BEGIN_WHITESPACE&&O.state!==L.TEXT&&J(O,"Unexpected end"),re(O),O.c="",O.closed=!0,ce(O,"onend"),a.call(O,O.strict,O.opt),O}function Y(O,k){if(typeof O!="object"||!(O instanceof a))throw new Error("bad call to strictFail");O.strict&&J(O,k)}function ge(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var k=O.tags[O.tags.length-1]||O,ie=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(ie.ns=k.ns),O.attribList.length=0,z(O,"onopentagstart",ie)}function ue(O,k){var ie=O.indexOf(":"),Q=ie<0?["",O]:O.split(":"),q=Q[0],W=Q[1];return k&&O==="xmlns"&&(q="xmlns",W=""),{prefix:q,local:W}}function G(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName)){O.attribName=O.attribValue="";return}if(O.opt.xmlns){var k=ue(O.attribName,!0),ie=k.prefix,Q=k.local;if(ie==="xmlns")if(Q==="xml"&&O.attribValue!==S)Y(O,"xml: prefix must be bound to "+S+`
Actual: `+O.attribValue);else if(Q==="xmlns"&&O.attribValue!==j)Y(O,"xmlns: prefix must be bound to "+j+`
Actual: `+O.attribValue);else{var q=O.tag,W=O.tags[O.tags.length-1]||O;q.ns===W.ns&&(q.ns=Object.create(W.ns)),q.ns[Q]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,z(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}function $(O,k){if(O.opt.xmlns){var ie=O.tag,Q=ue(O.tagName);ie.prefix=Q.prefix,ie.local=Q.local,ie.uri=ie.ns[Q.prefix]||"",ie.prefix&&!ie.uri&&(Y(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),ie.uri=Q.prefix);var q=O.tags[O.tags.length-1]||O;ie.ns&&q.ns!==ie.ns&&Object.keys(ie.ns).forEach(function(K){z(O,"onopennamespace",{prefix:K,uri:ie.ns[K]})});for(var W=0,be=O.attribList.length;W<be;W++){var A=O.attribList[W],ye=A[0],U=A[1],y=ue(ye,!0),v=y.prefix,E=y.local,P=v===""?"":ie.ns[v]||"",ee={name:ye,value:U,prefix:v,local:E,uri:P};v&&v!=="xmlns"&&!P&&(Y(O,"Unbound namespace prefix: "+JSON.stringify(v)),ee.uri=v),O.tag.attributes[ye]=ee,z(O,"onattribute",ee)}O.attribList.length=0}O.tag.isSelfClosing=!!k,O.sawRoot=!0,O.tags.push(O.tag),z(O,"onopentag",O.tag),k||(!O.noscript&&O.tagName.toLowerCase()==="script"?O.state=L.SCRIPT:O.state=L.TEXT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function B(O){if(!O.tagName){Y(O,"Weird empty close tag."),O.textNode+="</>",O.state=L.TEXT;return}if(O.script){if(O.tagName!=="script"){O.script+="</"+O.tagName+">",O.tagName="",O.state=L.SCRIPT;return}z(O,"onscript",O.script),O.script=""}var k=O.tags.length,ie=O.tagName;O.strict||(ie=ie[O.looseCase]());for(var Q=ie;k--;){var q=O.tags[k];if(q.name!==Q)Y(O,"Unexpected close tag");else break}if(k<0){Y(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",O.state=L.TEXT;return}O.tagName=ie;for(var W=O.tags.length;W-- >k;){var be=O.tag=O.tags.pop();O.tagName=O.tag.name,z(O,"onclosetag",O.tagName);var A={};for(var ye in be.ns)A[ye]=be.ns[ye];var U=O.tags[O.tags.length-1]||O;O.opt.xmlns&&be.ns!==U.ns&&Object.keys(be.ns).forEach(function(y){var v=be.ns[y];z(O,"onclosenamespace",{prefix:y,uri:v})})}k===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=L.TEXT}function Z(O){var k=O.entity,ie=k.toLowerCase(),Q,q="";return O.ENTITIES[k]?O.ENTITIES[k]:O.ENTITIES[ie]?O.ENTITIES[ie]:(k=ie,k.charAt(0)==="#"&&(k.charAt(1)==="x"?(k=k.slice(2),Q=parseInt(k,16),q=Q.toString(16)):(k=k.slice(1),Q=parseInt(k,10),q=Q.toString(10))),k=k.replace(/^0+/,""),isNaN(Q)||q.toLowerCase()!==k?(Y(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(Q))}function ne(O,k){k==="<"?(O.state=L.OPEN_WAKA,O.startTagPosition=O.position):F(k)||(Y(O,"Non-whitespace before first tag."),O.textNode=k,O.state=L.TEXT)}function fe(O,k){var ie="";return k<O.length&&(ie=O.charAt(k)),ie}function te(O){var k=this;if(this.error)throw this.error;if(k.closed)return J(k,"Cannot write after close. Assign an onready handler.");if(O===null)return V(k);typeof O=="object"&&(O=O.toString());for(var ie=0,Q="";Q=fe(O,ie++),k.c=Q,!!Q;)switch(k.trackPosition&&(k.position++,Q===`
`?(k.line++,k.column=0):k.column++),k.state){case L.BEGIN:if(k.state=L.BEGIN_WHITESPACE,Q==="\uFEFF")continue;ne(k,Q);continue;case L.BEGIN_WHITESPACE:ne(k,Q);continue;case L.TEXT:if(k.sawRoot&&!k.closedRoot){for(var q=ie-1;Q&&Q!=="<"&&Q!=="&";)Q=fe(O,ie++),Q&&k.trackPosition&&(k.position++,Q===`
`?(k.line++,k.column=0):k.column++);k.textNode+=O.substring(q,ie-1)}Q==="<"&&!(k.sawRoot&&k.closedRoot&&!k.strict)?(k.state=L.OPEN_WAKA,k.startTagPosition=k.position):(!F(Q)&&(!k.sawRoot||k.closedRoot)&&Y(k,"Text data outside of root node."),Q==="&"?k.state=L.TEXT_ENTITY:k.textNode+=Q);continue;case L.SCRIPT:Q==="<"?k.state=L.SCRIPT_ENDING:k.script+=Q;continue;case L.SCRIPT_ENDING:Q==="/"?k.state=L.CLOSE_TAG:(k.script+="<"+Q,k.state=L.SCRIPT);continue;case L.OPEN_WAKA:if(Q==="!")k.state=L.SGML_DECL,k.sgmlDecl="";else if(!F(Q))if(X(C,Q))k.state=L.OPEN_TAG,k.tagName=Q;else if(Q==="/")k.state=L.CLOSE_TAG,k.tagName="";else if(Q==="?")k.state=L.PROC_INST,k.procInstName=k.procInstBody="";else{if(Y(k,"Unencoded <"),k.startTagPosition+1<k.position){var W=k.position-k.startTagPosition;Q=new Array(W).join(" ")+Q}k.textNode+="<"+Q,k.state=L.TEXT}continue;case L.SGML_DECL:(k.sgmlDecl+Q).toUpperCase()===x?(z(k,"onopencdata"),k.state=L.CDATA,k.sgmlDecl="",k.cdata=""):k.sgmlDecl+Q==="--"?(k.state=L.COMMENT,k.comment="",k.sgmlDecl=""):(k.sgmlDecl+Q).toUpperCase()===_?(k.state=L.DOCTYPE,(k.doctype||k.sawRoot)&&Y(k,"Inappropriately located doctype declaration"),k.doctype="",k.sgmlDecl=""):Q===">"?(z(k,"onsgmldeclaration",k.sgmlDecl),k.sgmlDecl="",k.state=L.TEXT):(I(Q)&&(k.state=L.SGML_DECL_QUOTED),k.sgmlDecl+=Q);continue;case L.SGML_DECL_QUOTED:Q===k.q&&(k.state=L.SGML_DECL,k.q=""),k.sgmlDecl+=Q;continue;case L.DOCTYPE:Q===">"?(k.state=L.TEXT,z(k,"ondoctype",k.doctype),k.doctype=!0):(k.doctype+=Q,Q==="["?k.state=L.DOCTYPE_DTD:I(Q)&&(k.state=L.DOCTYPE_QUOTED,k.q=Q));continue;case L.DOCTYPE_QUOTED:k.doctype+=Q,Q===k.q&&(k.q="",k.state=L.DOCTYPE);continue;case L.DOCTYPE_DTD:k.doctype+=Q,Q==="]"?k.state=L.DOCTYPE:I(Q)&&(k.state=L.DOCTYPE_DTD_QUOTED,k.q=Q);continue;case L.DOCTYPE_DTD_QUOTED:k.doctype+=Q,Q===k.q&&(k.state=L.DOCTYPE_DTD,k.q="");continue;case L.COMMENT:Q==="-"?k.state=L.COMMENT_ENDING:k.comment+=Q;continue;case L.COMMENT_ENDING:Q==="-"?(k.state=L.COMMENT_ENDED,k.comment=N(k.opt,k.comment),k.comment&&z(k,"oncomment",k.comment),k.comment=""):(k.comment+="-"+Q,k.state=L.COMMENT);continue;case L.COMMENT_ENDED:Q!==">"?(Y(k,"Malformed comment"),k.comment+="--"+Q,k.state=L.COMMENT):k.state=L.TEXT;continue;case L.CDATA:Q==="]"?k.state=L.CDATA_ENDING:k.cdata+=Q;continue;case L.CDATA_ENDING:Q==="]"?k.state=L.CDATA_ENDING_2:(k.cdata+="]"+Q,k.state=L.CDATA);continue;case L.CDATA_ENDING_2:Q===">"?(k.cdata&&z(k,"oncdata",k.cdata),z(k,"onclosecdata"),k.cdata="",k.state=L.TEXT):Q==="]"?k.cdata+="]":(k.cdata+="]]"+Q,k.state=L.CDATA);continue;case L.PROC_INST:Q==="?"?k.state=L.PROC_INST_ENDING:F(Q)?k.state=L.PROC_INST_BODY:k.procInstName+=Q;continue;case L.PROC_INST_BODY:if(!k.procInstBody&&F(Q))continue;Q==="?"?k.state=L.PROC_INST_ENDING:k.procInstBody+=Q;continue;case L.PROC_INST_ENDING:Q===">"?(z(k,"onprocessinginstruction",{name:k.procInstName,body:k.procInstBody}),k.procInstName=k.procInstBody="",k.state=L.TEXT):(k.procInstBody+="?"+Q,k.state=L.PROC_INST_BODY);continue;case L.OPEN_TAG:X(b,Q)?k.tagName+=Q:(ge(k),Q===">"?$(k):Q==="/"?k.state=L.OPEN_TAG_SLASH:(F(Q)||Y(k,"Invalid character in tag name"),k.state=L.ATTRIB));continue;case L.OPEN_TAG_SLASH:Q===">"?($(k,!0),B(k)):(Y(k,"Forward-slash in opening tag not followed by >"),k.state=L.ATTRIB);continue;case L.ATTRIB:if(F(Q))continue;Q===">"?$(k):Q==="/"?k.state=L.OPEN_TAG_SLASH:X(C,Q)?(k.attribName=Q,k.attribValue="",k.state=L.ATTRIB_NAME):Y(k,"Invalid attribute name");continue;case L.ATTRIB_NAME:Q==="="?k.state=L.ATTRIB_VALUE:Q===">"?(Y(k,"Attribute without value"),k.attribValue=k.attribName,G(k),$(k)):F(Q)?k.state=L.ATTRIB_NAME_SAW_WHITE:X(b,Q)?k.attribName+=Q:Y(k,"Invalid attribute name");continue;case L.ATTRIB_NAME_SAW_WHITE:if(Q==="=")k.state=L.ATTRIB_VALUE;else{if(F(Q))continue;Y(k,"Attribute without value"),k.tag.attributes[k.attribName]="",k.attribValue="",z(k,"onattribute",{name:k.attribName,value:""}),k.attribName="",Q===">"?$(k):X(C,Q)?(k.attribName=Q,k.state=L.ATTRIB_NAME):(Y(k,"Invalid attribute name"),k.state=L.ATTRIB)}continue;case L.ATTRIB_VALUE:if(F(Q))continue;I(Q)?(k.q=Q,k.state=L.ATTRIB_VALUE_QUOTED):(Y(k,"Unquoted attribute value"),k.state=L.ATTRIB_VALUE_UNQUOTED,k.attribValue=Q);continue;case L.ATTRIB_VALUE_QUOTED:if(Q!==k.q){Q==="&"?k.state=L.ATTRIB_VALUE_ENTITY_Q:k.attribValue+=Q;continue}G(k),k.q="",k.state=L.ATTRIB_VALUE_CLOSED;continue;case L.ATTRIB_VALUE_CLOSED:F(Q)?k.state=L.ATTRIB:Q===">"?$(k):Q==="/"?k.state=L.OPEN_TAG_SLASH:X(C,Q)?(Y(k,"No whitespace between attributes"),k.attribName=Q,k.attribValue="",k.state=L.ATTRIB_NAME):Y(k,"Invalid attribute name");continue;case L.ATTRIB_VALUE_UNQUOTED:if(!se(Q)){Q==="&"?k.state=L.ATTRIB_VALUE_ENTITY_U:k.attribValue+=Q;continue}G(k),Q===">"?$(k):k.state=L.ATTRIB;continue;case L.CLOSE_TAG:if(k.tagName)Q===">"?B(k):X(b,Q)?k.tagName+=Q:k.script?(k.script+="</"+k.tagName,k.tagName="",k.state=L.SCRIPT):(F(Q)||Y(k,"Invalid tagname in closing tag"),k.state=L.CLOSE_TAG_SAW_WHITE);else{if(F(Q))continue;le(C,Q)?k.script?(k.script+="</"+Q,k.state=L.SCRIPT):Y(k,"Invalid tagname in closing tag."):k.tagName=Q}continue;case L.CLOSE_TAG_SAW_WHITE:if(F(Q))continue;Q===">"?B(k):Y(k,"Invalid characters in closing tag");continue;case L.TEXT_ENTITY:case L.ATTRIB_VALUE_ENTITY_Q:case L.ATTRIB_VALUE_ENTITY_U:var be,A;switch(k.state){case L.TEXT_ENTITY:be=L.TEXT,A="textNode";break;case L.ATTRIB_VALUE_ENTITY_Q:be=L.ATTRIB_VALUE_QUOTED,A="attribValue";break;case L.ATTRIB_VALUE_ENTITY_U:be=L.ATTRIB_VALUE_UNQUOTED,A="attribValue";break}Q===";"?(k[A]+=Z(k),k.entity="",k.state=be):X(k.entity.length?D:R,Q)?k.entity+=Q:(Y(k,"Invalid character in entity name"),k[A]+="&"+k.entity+Q,k.entity="",k.state=be);continue;default:throw new Error(k,"Unknown state: "+k.state)}return k.position>=k.bufferCheckPosition&&l(k),k}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var O=String.fromCharCode,k=Math.floor,ie=function(){var Q=16384,q=[],W,be,A=-1,ye=arguments.length;if(!ye)return"";for(var U="";++A<ye;){var y=Number(arguments[A]);if(!isFinite(y)||y<0||y>1114111||k(y)!==y)throw RangeError("Invalid code point: "+y);y<=65535?q.push(y):(y-=65536,W=(y>>10)+55296,be=y%1024+56320,q.push(W,be)),(A+1===ye||q.length>Q)&&(U+=O.apply(null,q),q.length=0)}return U};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ie,configurable:!0,writable:!0}):String.fromCodePoint=ie})()})(s)})(uv);var td={isArray:function(s){return Array.isArray?Array.isArray(s):Object.prototype.toString.call(s)==="[object Array]"}},R_=td.isArray,nd={copyOptions:function(s){var t,r={};for(t in s)s.hasOwnProperty(t)&&(r[t]=s[t]);return r},ensureFlagExists:function(s,t){(!(s in t)||typeof t[s]!="boolean")&&(t[s]=!1)},ensureSpacesExists:function(s){(!("spaces"in s)||typeof s.spaces!="number"&&typeof s.spaces!="string")&&(s.spaces=0)},ensureAlwaysArrayExists:function(s){(!("alwaysArray"in s)||typeof s.alwaysArray!="boolean"&&!R_(s.alwaysArray))&&(s.alwaysArray=!1)},ensureKeyExists:function(s,t){(!(s+"Key"in t)||typeof t[s+"Key"]!="string")&&(t[s+"Key"]=t.compact?"_"+s:s)},checkFnExists:function(s,t){return s+"Fn"in t}},C_=uv,ut=nd,js=td.isArray,Ee,$e;function O_(s){return Ee=ut.copyOptions(s),ut.ensureFlagExists("ignoreDeclaration",Ee),ut.ensureFlagExists("ignoreInstruction",Ee),ut.ensureFlagExists("ignoreAttributes",Ee),ut.ensureFlagExists("ignoreText",Ee),ut.ensureFlagExists("ignoreComment",Ee),ut.ensureFlagExists("ignoreCdata",Ee),ut.ensureFlagExists("ignoreDoctype",Ee),ut.ensureFlagExists("compact",Ee),ut.ensureFlagExists("alwaysChildren",Ee),ut.ensureFlagExists("addParent",Ee),ut.ensureFlagExists("trim",Ee),ut.ensureFlagExists("nativeType",Ee),ut.ensureFlagExists("nativeTypeAttributes",Ee),ut.ensureFlagExists("sanitize",Ee),ut.ensureFlagExists("instructionHasAttributes",Ee),ut.ensureFlagExists("captureSpacesBetweenElements",Ee),ut.ensureAlwaysArrayExists(Ee),ut.ensureKeyExists("declaration",Ee),ut.ensureKeyExists("instruction",Ee),ut.ensureKeyExists("attributes",Ee),ut.ensureKeyExists("text",Ee),ut.ensureKeyExists("comment",Ee),ut.ensureKeyExists("cdata",Ee),ut.ensureKeyExists("doctype",Ee),ut.ensureKeyExists("type",Ee),ut.ensureKeyExists("name",Ee),ut.ensureKeyExists("elements",Ee),ut.ensureKeyExists("parent",Ee),Ee}function Uv(s){var t=Number(s);if(!isNaN(t))return t;var r=s.toLowerCase();return r==="true"?!0:r==="false"?!1:s}function to(s,t){var r;if(Ee.compact){if(!$e[Ee[s+"Key"]]&&(js(Ee.alwaysArray)?Ee.alwaysArray.indexOf(Ee[s+"Key"])!==-1:Ee.alwaysArray)&&($e[Ee[s+"Key"]]=[]),$e[Ee[s+"Key"]]&&!js($e[Ee[s+"Key"]])&&($e[Ee[s+"Key"]]=[$e[Ee[s+"Key"]]]),s+"Fn"in Ee&&typeof t=="string"&&(t=Ee[s+"Fn"](t,$e)),s==="instruction"&&("instructionFn"in Ee||"instructionNameFn"in Ee)){for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in Ee)t[r]=Ee.instructionFn(t[r],r,$e);else{var a=t[r];delete t[r],t[Ee.instructionNameFn(r,a,$e)]=a}}js($e[Ee[s+"Key"]])?$e[Ee[s+"Key"]].push(t):$e[Ee[s+"Key"]]=t}else{$e[Ee.elementsKey]||($e[Ee.elementsKey]=[]);var l={};if(l[Ee.typeKey]=s,s==="instruction"){for(r in t)if(t.hasOwnProperty(r))break;l[Ee.nameKey]="instructionNameFn"in Ee?Ee.instructionNameFn(r,t,$e):r,Ee.instructionHasAttributes?(l[Ee.attributesKey]=t[r][Ee.attributesKey],"instructionFn"in Ee&&(l[Ee.attributesKey]=Ee.instructionFn(l[Ee.attributesKey],r,$e))):("instructionFn"in Ee&&(t[r]=Ee.instructionFn(t[r],r,$e)),l[Ee.instructionKey]=t[r])}else s+"Fn"in Ee&&(t=Ee[s+"Fn"](t,$e)),l[Ee[s+"Key"]]=t;Ee.addParent&&(l[Ee.parentKey]=$e),$e[Ee.elementsKey].push(l)}}function Mv(s){if("attributesFn"in Ee&&s&&(s=Ee.attributesFn(s,$e)),(Ee.trim||"attributeValueFn"in Ee||"attributeNameFn"in Ee||Ee.nativeTypeAttributes)&&s){var t;for(t in s)if(s.hasOwnProperty(t)&&(Ee.trim&&(s[t]=s[t].trim()),Ee.nativeTypeAttributes&&(s[t]=Uv(s[t])),"attributeValueFn"in Ee&&(s[t]=Ee.attributeValueFn(s[t],t,$e)),"attributeNameFn"in Ee)){var r=s[t];delete s[t],s[Ee.attributeNameFn(t,s[t],$e)]=r}}return s}function D_(s){var t={};if(s.body&&(s.name.toLowerCase()==="xml"||Ee.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,a;(a=r.exec(s.body))!==null;)t[a[1]]=a[2]||a[3]||a[4];t=Mv(t)}if(s.name.toLowerCase()==="xml"){if(Ee.ignoreDeclaration)return;$e[Ee.declarationKey]={},Object.keys(t).length&&($e[Ee.declarationKey][Ee.attributesKey]=t),Ee.addParent&&($e[Ee.declarationKey][Ee.parentKey]=$e)}else{if(Ee.ignoreInstruction)return;Ee.trim&&(s.body=s.body.trim());var l={};Ee.instructionHasAttributes&&Object.keys(t).length?(l[s.name]={},l[s.name][Ee.attributesKey]=t):l[s.name]=s.body,to("instruction",l)}}function U_(s,t){var r;if(typeof s=="object"&&(t=s.attributes,s=s.name),t=Mv(t),"elementNameFn"in Ee&&(s=Ee.elementNameFn(s,$e)),Ee.compact){if(r={},!Ee.ignoreAttributes&&t&&Object.keys(t).length){r[Ee.attributesKey]={};var a;for(a in t)t.hasOwnProperty(a)&&(r[Ee.attributesKey][a]=t[a])}!(s in $e)&&(js(Ee.alwaysArray)?Ee.alwaysArray.indexOf(s)!==-1:Ee.alwaysArray)&&($e[s]=[]),$e[s]&&!js($e[s])&&($e[s]=[$e[s]]),js($e[s])?$e[s].push(r):$e[s]=r}else $e[Ee.elementsKey]||($e[Ee.elementsKey]=[]),r={},r[Ee.typeKey]="element",r[Ee.nameKey]=s,!Ee.ignoreAttributes&&t&&Object.keys(t).length&&(r[Ee.attributesKey]=t),Ee.alwaysChildren&&(r[Ee.elementsKey]=[]),$e[Ee.elementsKey].push(r);r[Ee.parentKey]=$e,$e=r}function M_(s){Ee.ignoreText||!s.trim()&&!Ee.captureSpacesBetweenElements||(Ee.trim&&(s=s.trim()),Ee.nativeType&&(s=Uv(s)),Ee.sanitize&&(s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),to("text",s))}function L_(s){Ee.ignoreComment||(Ee.trim&&(s=s.trim()),to("comment",s))}function B_(s){var t=$e[Ee.parentKey];Ee.addParent||delete $e[Ee.parentKey],$e=t}function I_(s){Ee.ignoreCdata||(Ee.trim&&(s=s.trim()),to("cdata",s))}function z_(s){Ee.ignoreDoctype||(s=s.replace(/^ /,""),Ee.trim&&(s=s.trim()),to("doctype",s))}function P_(s){s.note=s}var Lv=function(s,t){var r=C_.parser(!0,{}),a={};if($e=a,Ee=O_(t),r.opt={strictEntities:!0},r.onopentag=U_,r.ontext=M_,r.oncomment=L_,r.onclosetag=B_,r.onerror=P_,r.oncdata=I_,r.ondoctype=z_,r.onprocessinginstruction=D_,r.write(s).close(),a[Ee.elementsKey]){var l=a[Ee.elementsKey];delete a[Ee.elementsKey],a[Ee.elementsKey]=l,delete a.text}return a},oy=nd,F_=Lv;function H_(s){var t=oy.copyOptions(s);return oy.ensureSpacesExists(t),t}var q_=function(s,t){var r,a,l,u;return r=H_(t),a=F_(s,r),u="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?l=JSON.stringify(a,function(c,f){return c===u?"_":f},r.spaces):l=JSON.stringify(a,null,r.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},gt=nd,$_=td.isArray,Zt,Qt;function G_(s){var t=gt.copyOptions(s);return gt.ensureFlagExists("ignoreDeclaration",t),gt.ensureFlagExists("ignoreInstruction",t),gt.ensureFlagExists("ignoreAttributes",t),gt.ensureFlagExists("ignoreText",t),gt.ensureFlagExists("ignoreComment",t),gt.ensureFlagExists("ignoreCdata",t),gt.ensureFlagExists("ignoreDoctype",t),gt.ensureFlagExists("compact",t),gt.ensureFlagExists("indentText",t),gt.ensureFlagExists("indentCdata",t),gt.ensureFlagExists("indentAttributes",t),gt.ensureFlagExists("indentInstruction",t),gt.ensureFlagExists("fullTagEmptyElement",t),gt.ensureFlagExists("noQuotesForNativeAttributes",t),gt.ensureSpacesExists(t),typeof t.spaces=="number"&&(t.spaces=Array(t.spaces+1).join(" ")),gt.ensureKeyExists("declaration",t),gt.ensureKeyExists("instruction",t),gt.ensureKeyExists("attributes",t),gt.ensureKeyExists("text",t),gt.ensureKeyExists("comment",t),gt.ensureKeyExists("cdata",t),gt.ensureKeyExists("doctype",t),gt.ensureKeyExists("type",t),gt.ensureKeyExists("name",t),gt.ensureKeyExists("elements",t),t}function Zn(s,t,r){return(!r&&s.spaces?`
`:"")+Array(t+1).join(s.spaces)}function Zl(s,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(s=t.attributesFn(s,Qt,Zt));var a,l,u,c,f=[];for(a in s)s.hasOwnProperty(a)&&s[a]!==null&&s[a]!==void 0&&(c=t.noQuotesForNativeAttributes&&typeof s[a]!="string"?"":'"',l=""+s[a],l=l.replace(/"/g,"&quot;"),u="attributeNameFn"in t?t.attributeNameFn(a,l,Qt,Zt):a,f.push(t.spaces&&t.indentAttributes?Zn(t,r+1,!1):" "),f.push(u+"="+c+("attributeValueFn"in t?t.attributeValueFn(l,a,Qt,Zt):l)+c));return s&&Object.keys(s).length&&t.spaces&&t.indentAttributes&&f.push(Zn(t,r,!1)),f.join("")}function Bv(s,t,r){return Zt=s,Qt="xml",t.ignoreDeclaration?"":"<?xml"+Zl(s[t.attributesKey],t,r)+"?>"}function Iv(s,t,r){if(t.ignoreInstruction)return"";var a;for(a in s)if(s.hasOwnProperty(a))break;var l="instructionNameFn"in t?t.instructionNameFn(a,s[a],Qt,Zt):a;if(typeof s[a]=="object")return Zt=s,Qt=l,"<?"+l+Zl(s[a][t.attributesKey],t,r)+"?>";var u=s[a]?s[a]:"";return"instructionFn"in t&&(u=t.instructionFn(u,a,Qt,Zt)),"<?"+l+(u?" "+u:"")+"?>"}function zv(s,t){return t.ignoreComment?"":"<!--"+("commentFn"in t?t.commentFn(s,Qt,Zt):s)+"-->"}function Pv(s,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(s,Qt,Zt):s.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Fv(s,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(s,Qt,Zt):s)+">"}function rd(s,t){return t.ignoreText?"":(s=""+s,s=s.replace(/&amp;/g,"&"),s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(s,Qt,Zt):s)}function K_(s,t){var r;if(s.elements&&s.elements.length)for(r=0;r<s.elements.length;++r)switch(s.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function V_(s,t,r){Zt=s,Qt=s.name;var a=[],l="elementNameFn"in t?t.elementNameFn(s.name,s):s.name;a.push("<"+l),s[t.attributesKey]&&a.push(Zl(s[t.attributesKey],t,r));var u=s[t.elementsKey]&&s[t.elementsKey].length||s[t.attributesKey]&&s[t.attributesKey]["xml:space"]==="preserve";return u||("fullTagEmptyElementFn"in t?u=t.fullTagEmptyElementFn(s.name,s):u=t.fullTagEmptyElement),u?(a.push(">"),s[t.elementsKey]&&s[t.elementsKey].length&&(a.push(Hv(s[t.elementsKey],t,r+1)),Zt=s,Qt=s.name),a.push(t.spaces&&K_(s,t)?`
`+Array(r+1).join(t.spaces):""),a.push("</"+l+">")):a.push("/>"),a.join("")}function Hv(s,t,r,a){return s.reduce(function(l,u){var c=Zn(t,r,a&&!l);switch(u.type){case"element":return l+c+V_(u,t,r);case"comment":return l+c+zv(u[t.commentKey],t);case"doctype":return l+c+Fv(u[t.doctypeKey],t);case"cdata":return l+(t.indentCdata?c:"")+Pv(u[t.cdataKey],t);case"text":return l+(t.indentText?c:"")+rd(u[t.textKey],t);case"instruction":var f={};return f[u[t.nameKey]]=u[t.attributesKey]?u:u[t.instructionKey],l+(t.indentInstruction?c:"")+Iv(f,t,r)}},"")}function qv(s,t,r){var a;for(a in s)if(s.hasOwnProperty(a))switch(a){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:return!0;default:return!0}return!1}function W_(s,t,r,a,l){Zt=s,Qt=t;var u="elementNameFn"in r?r.elementNameFn(t,s):t;if(typeof s>"u"||s===null||s==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,s)||r.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var c=[];if(t){if(c.push("<"+u),typeof s!="object")return c.push(">"+rd(s,r)+"</"+u+">"),c.join("");s[r.attributesKey]&&c.push(Zl(s[r.attributesKey],r,a));var f=qv(s,r,!0)||s[r.attributesKey]&&s[r.attributesKey]["xml:space"]==="preserve";if(f||("fullTagEmptyElementFn"in r?f=r.fullTagEmptyElementFn(t,s):f=r.fullTagEmptyElement),f)c.push(">");else return c.push("/>"),c.join("")}return c.push($v(s,r,a+1,!1)),Zt=s,Qt=t,t&&c.push((l?Zn(r,a,!1):"")+"</"+u+">"),c.join("")}function $v(s,t,r,a){var l,u,c,f=[];for(u in s)if(s.hasOwnProperty(u))for(c=$_(s[u])?s[u]:[s[u]],l=0;l<c.length;++l){switch(u){case t.declarationKey:f.push(Bv(c[l],t,r));break;case t.instructionKey:f.push((t.indentInstruction?Zn(t,r,a):"")+Iv(c[l],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:f.push((t.indentText?Zn(t,r,a):"")+rd(c[l],t));break;case t.cdataKey:f.push((t.indentCdata?Zn(t,r,a):"")+Pv(c[l],t));break;case t.doctypeKey:f.push(Zn(t,r,a)+Fv(c[l],t));break;case t.commentKey:f.push(Zn(t,r,a)+zv(c[l],t));break;default:f.push(Zn(t,r,a)+W_(c[l],u,t,r,qv(c[l],t)))}a=a&&!f.length}return f.join("")}var Gv=function(s,t){t=G_(t);var r=[];return Zt=s,Qt="_root_",t.compact?r.push($v(s,t,0,!0)):(s[t.declarationKey]&&r.push(Bv(s[t.declarationKey],t,0)),s[t.elementsKey]&&s[t.elementsKey].length&&r.push(Hv(s[t.elementsKey],t,0,!r.length))),r.join("")},Y_=Gv,X_=function(s,t){s instanceof Buffer&&(s=s.toString());var r=null;if(typeof s=="string")try{r=JSON.parse(s)}catch{throw new Error("The JSON structure is invalid")}else r=s;return Y_(r,t)},Z_=Lv,Q_=q_,J_=Gv,eS=X_,Kv={xml2js:Z_,xml2json:Q_,js2xml:J_,json2xml:eS};const id=s=>{switch(s.type){case void 0:case"element":const t=new nS(s.name,s.attributes),r=s.elements||[];for(const a of r){const l=id(a);l!==void 0&&t.push(l)}return t;case"text":return s.text;default:return}};class tS extends qe{}class nS extends Re{static fromXmlString(t){const r=Kv.xml2js(t,{compact:!1});return id(r)}constructor(t,r){super(t),r&&this.root.push(new tS(r))}push(t){this.root.push(t)}}class rS extends Re{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class Vv extends Re{constructor(t,r){super(t),r&&(this.root=r.root)}}const ln=s=>{if(isNaN(s))throw new Error(`Invalid value '${s}' specified. Must be an integer.`);return Math.floor(s)},Ql=s=>{const t=ln(s);if(t<0)throw new Error(`Invalid value '${s}' specified. Must be a positive integer.`);return t},Wv=(s,t)=>{const r=t*2;if(s.length!==r||isNaN(+`0x${s}`))throw new Error(`Invalid hex value '${s}'. Expected ${r} digit hex value`);return s},ly=s=>Wv(s,1),Yv=s=>{const t=s.slice(-2),r=s.substring(0,s.length-2);return`${Number(r)}${t}`},Xv=s=>{const t=Yv(s);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},Os=s=>{if(s==="auto")return s;const t=s.charAt(0)==="#"?s.substring(1):s;return Wv(t,3)},_i=s=>typeof s=="string"?Yv(s):ln(s),iS=s=>typeof s=="string"?Xv(s):Ql(s),Pn=s=>typeof s=="string"?Xv(s):Ql(s),sS=Ql,aS=Ql,oS=s=>s.toISOString();class Oe extends Re{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Rt({val:r}))}}class ah extends Re{constructor(t,r){super(t),this.root.push(new Rt({val:iS(r)}))}}class Ns extends Re{constructor(t,r){super(t),this.root.push(new Rt({val:r}))}}const Fa=(s,t)=>new Kr({name:s,attributes:{value:{key:"w:val",value:t}}});class sd extends Re{constructor(t,r){super(t),this.root.push(new Rt({val:r}))}}class pi extends Re{constructor(t,r){super(t),this.root.push(r)}}class Kr extends Re{constructor({name:t,attributes:r,children:a}){super(t),r&&this.root.push(new eo(r)),a&&this.root.push(...a)}}const On={START:"start",CENTER:"center",LEFT:"left"};class lS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class uS extends Re{constructor(t){super("w:jc"),this.root.push(new lS({val:t}))}}class At extends Re{constructor(t,{color:r,size:a,space:l,style:u}){super(t),this.root.push(new cS({style:u,color:r===void 0?void 0:Os(r),size:a===void 0?void 0:sS(a),space:l===void 0?void 0:aS(l)}))}}class cS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ad={SINGLE:"single",NONE:"none"};class fS extends Wl{constructor(t){super("w:pBdr"),t.top&&this.root.push(new At("w:top",t.top)),t.bottom&&this.root.push(new At("w:bottom",t.bottom)),t.left&&this.root.push(new At("w:left",t.left)),t.right&&this.root.push(new At("w:right",t.right))}}class hS extends Re{constructor(){super("w:pBdr");const t=new At("w:bottom",{color:"auto",space:1,style:ad.SINGLE,size:6});this.root.push(t)}}class dS extends Re{constructor({start:t,end:r,left:a,right:l,hanging:u,firstLine:c}){super("w:ind"),this.root.push(new eo({start:{key:"w:start",value:t===void 0?void 0:_i(t)},end:{key:"w:end",value:r===void 0?void 0:_i(r)},left:{key:"w:left",value:a===void 0?void 0:_i(a)},right:{key:"w:right",value:l===void 0?void 0:_i(l)},hanging:{key:"w:hanging",value:u===void 0?void 0:Pn(u)},firstLine:{key:"w:firstLine",value:c===void 0?void 0:Pn(c)}}))}}let pS=class extends Re{constructor(){super("w:br")}};const od={BEGIN:"begin",END:"end",SEPARATE:"separate"};class ld extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class _l extends Re{constructor(t){super("w:fldChar"),this.root.push(new ld({type:od.BEGIN,dirty:t}))}}class Sl extends Re{constructor(t){super("w:fldChar"),this.root.push(new ld({type:od.SEPARATE,dirty:t}))}}class El extends Re{constructor(t){super("w:fldChar"),this.root.push(new ld({type:od.END,dirty:t}))}}const Ds={DEFAULT:"default",PRESERVE:"preserve"};class Us extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{space:"xml:space"})}}class mS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("PAGE")}}class gS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("NUMPAGES")}}class yS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("SECTIONPAGES")}}class vS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("SECTION")}}class wS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Zv extends Re{constructor({fill:t,color:r,type:a}){super("w:shd"),this.root.push(new wS({fill:t===void 0?void 0:Os(t),color:r===void 0?void 0:Os(r),type:a}))}}class bS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const xS={DOT:"dot"};class _S extends Re{constructor(t){super("w:em"),this.root.push(new Rt({val:t}))}}class SS extends _S{constructor(t=xS.DOT){super(t)}}class ES extends Re{constructor(t){super("w:spacing"),this.root.push(new Rt({val:_i(t)}))}}class TS extends Re{constructor(t){super("w:color"),this.root.push(new Rt({val:Os(t)}))}}class AS extends Re{constructor(t){super("w:highlight"),this.root.push(new Rt({val:t}))}}class kS extends Re{constructor(t){super("w:highlightCs"),this.root.push(new Rt({val:t}))}}const jS=s=>new Kr({name:"w:lang",attributes:{value:{key:"w:val",value:s.value},eastAsia:{key:"w:eastAsia",value:s.eastAsia},bidirectional:{key:"w:bidi",value:s.bidirectional}}});class uy extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class oh extends Re{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const a=t;this.root.push(new uy({ascii:a,cs:a,eastAsia:a,hAnsi:a,hint:r}))}else{const a=t;this.root.push(new uy(a))}}}let Qv=class extends Re{constructor(t){super("w:vertAlign"),this.root.push(new Rt({val:t}))}};class NS extends Qv{constructor(){super("superscript")}}class RS extends Qv{constructor(){super("subscript")}}const Jv={SINGLE:"single"};class CS extends Re{constructor(t=Jv.SINGLE,r){super("w:u"),this.root.push(new Rt({val:t,color:r===void 0?void 0:Os(r)}))}}class Ei extends Wl{constructor(t){var r,a;if(super("w:rPr"),!t)return;t.noProof!==void 0&&this.push(new Oe("w:noProof",t.noProof)),t.bold!==void 0&&this.push(new Oe("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Oe("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Oe("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Oe("w:iCs",(a=t.italicsComplexScript)!=null?a:t.italics)),t.underline&&this.push(new CS(t.underline.type,t.underline.color)),t.effect&&this.push(new Ns("w:effect",t.effect)),t.emphasisMark&&this.push(new SS(t.emphasisMark.type)),t.color&&this.push(new TS(t.color)),t.kern&&this.push(new ah("w:kern",t.kern)),t.position&&this.push(new Ns("w:position",t.position)),t.size!==void 0&&this.push(new ah("w:sz",t.size));const l=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;l&&this.push(new ah("w:szCs",l)),t.rightToLeft!==void 0&&this.push(new Oe("w:rtl",t.rightToLeft)),t.smallCaps!==void 0?this.push(new Oe("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Oe("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Oe("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Oe("w:dstrike",t.doubleStrike)),t.subScript&&this.push(new RS),t.superScript&&this.push(new NS),t.style&&this.push(new Ns("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new oh(t.font)):"name"in t.font?this.push(new oh(t.font.name,t.font.hint)):this.push(new oh(t.font))),t.highlight&&this.push(new AS(t.highlight));const u=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;u&&this.push(new kS(u)),t.characterSpacing&&this.push(new ES(t.characterSpacing)),t.emboss!==void 0&&this.push(new Oe("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Oe("w:imprint",t.imprint)),t.shading&&this.push(new Zv(t.shading)),t.revision&&this.push(new OS(t.revision)),t.border&&this.push(new At("w:bdr",t.border)),t.snapToGrid!==void 0&&this.push(new Oe("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Oe("w:vanish",t.vanish)),t.specVanish&&this.push(new Oe("w:specVanish",t.vanish)),t.scale!==void 0&&this.push(new sd("w:w",t.scale)),t.language&&this.push(jS(t.language)),t.math&&this.push(new Oe("w:oMath",t.math))}push(t){this.root.push(t)}}class OS extends Re{constructor(t){super("w:rPrChange"),this.root.push(new bS({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Ei(t))}}class jh extends Re{constructor(t){var r;return super("w:t"),typeof t=="string"?(this.root.push(new Us({space:Ds.PRESERVE})),this.root.push(t),this):(this.root.push(new Us({space:(r=t.space)!=null?r:Ds.DEFAULT})),this.root.push(t.text),this)}}const Tl={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Jl extends Re{constructor(t){if(super("w:r"),je(this,"properties"),this.properties=new Ei(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new pS);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case Tl.CURRENT:this.root.push(new _l),this.root.push(new mS),this.root.push(new Sl),this.root.push(new El);break;case Tl.TOTAL_PAGES:this.root.push(new _l),this.root.push(new gS),this.root.push(new Sl),this.root.push(new El);break;case Tl.TOTAL_PAGES_IN_SECTION:this.root.push(new _l),this.root.push(new yS),this.root.push(new Sl),this.root.push(new El);break;case Tl.CURRENT_SECTION:this.root.push(new _l),this.root.push(new vS),this.root.push(new Sl),this.root.push(new El);break;default:this.root.push(new jh(r));break}continue}this.root.push(r)}else t.text&&this.root.push(new jh(t.text))}}class wt extends Jl{constructor(t){if(typeof t=="string")return super({}),this.root.push(new jh(t)),this;super(t)}}let DS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",US=(s,t=21)=>(r=t)=>{let a="",l=r;for(;l--;)a+=s[Math.random()*s.length|0];return a},MS=(s=21)=>{let t="",r=s;for(;r--;)t+=DS[Math.random()*64|0];return t};const In=s=>Math.floor(s*72*20),ud=(s=0)=>{let t=s;return()=>++t},LS=()=>ud(),BS=()=>ud(1),IS=()=>ud(),zS=()=>MS().toLowerCase(),Ha=s=>US("1234567890abcdef",s)(),PS=()=>`${Ha(8)}-${Ha(4)}-${Ha(4)}-${Ha(4)}-${Ha(12)}`;class FS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class HS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class qS extends Re{constructor({id:t,initials:r,author:a,date:l=new Date,children:u}){super("w:comment"),this.root.push(new FS({id:t,initials:r,author:a,date:l.toISOString()}));for(const c of u)this.root.push(c)}}class $S extends Re{constructor({children:t}){super("w:comments"),this.root.push(new HS({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new qS(r))}}class GS extends Re{constructor(){super("w:pageBreakBefore")}}const Nh={AUTO:"auto"};class KS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class VS extends Re{constructor(t){super("w:spacing"),this.root.push(new KS(t))}}const vn={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",TITLE:"Title"};let Al=class extends Re{constructor(t){super("w:pStyle"),this.root.push(new Rt({val:t}))}};class WS extends Re{constructor(t){super("w:tabs");for(const r of t)this.root.push(new XS(r))}}const cy={LEFT:"left",RIGHT:"right"};class YS extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class XS extends Re{constructor({type:t,position:r,leader:a}){super("w:tab"),this.root.push(new YS({val:t,pos:r,leader:a}))}}class fy extends Re{constructor(t,r){super("w:numPr"),this.root.push(new ZS(r)),this.root.push(new QS(t))}}class ZS extends Re{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Rt({val:t}))}}class QS extends Re{constructor(t){super("w:numId"),this.root.push(new Rt({val:typeof t=="string"?`{${t}}`:t}))}}class JS extends Re{constructor(){super(...arguments),je(this,"fileChild",Symbol())}}class eE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const tE={EXTERNAL:"External"};class nE extends Re{constructor(t,r,a,l){super("Relationship"),this.root.push(new eE({id:t,type:r,target:a,targetMode:l}))}}class rE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class iE extends Re{constructor(t,r,a){super("w:hyperlink"),je(this,"linkId"),this.linkId=r;const l={history:1,anchor:a||void 0,id:a?void 0:`rId${this.linkId}`},u=new rE(l);this.root.push(u),t.forEach(c=>{this.root.push(c)})}}class ew extends Re{constructor(t){super("w:externalHyperlink"),this.options=t}}class sE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class aE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id"})}}class oE{constructor(t){je(this,"bookmarkUniqueNumericId",IS()),je(this,"start"),je(this,"children"),je(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new lE(t.id,r),this.children=t.children,this.end=new uE(r)}}class lE extends Re{constructor(t,r){super("w:bookmarkStart");const a=new sE({name:t,id:r});this.root.push(a)}}class uE extends Re{constructor(t){super("w:bookmarkEnd");const r=new aE({id:t});this.root.push(r)}}class cE extends Re{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Rt({val:t}))}}class fE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{verticalAlign:"w:val"})}}class hE extends Re{constructor(t){super("w:vAlign"),this.root.push(new fE({verticalAlign:t}))}}const Rs={DEFAULT:"default",FIRST:"first",EVEN:"even"};class dE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const hy={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class lh extends Re{constructor(t,r){super(t),this.root.push(new dE({type:r.type||Rs.DEFAULT,id:`rId${r.id}`}))}}class pE extends Re{constructor({space:t,count:r,separate:a,equalWidth:l,children:u}){super("w:cols"),this.root.push(new eo({space:{key:"w:space",value:t===void 0?void 0:Pn(t)},count:{key:"w:num",value:r===void 0?void 0:ln(r)},separate:{key:"w:sep",value:a},equalWidth:{key:"w:equalWidth",value:l}})),!l&&u&&u.forEach(c=>this.addChildElement(c))}}class mE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class gE extends Re{constructor(t,r,a){super("w:docGrid"),this.root.push(new mE({type:a,linePitch:ln(t),charSpace:r?ln(r):void 0}))}}const yE=({countBy:s,start:t,restart:r,distance:a})=>new Kr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:s===void 0?void 0:ln(s)},start:{key:"w:start",value:t===void 0?void 0:ln(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:a===void 0?void 0:Pn(a)}}});class dy extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class vE extends Wl{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new dy({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new dy({})),t.pageBorderTop&&this.root.push(new At("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new At("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new At("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new At("w:right",t.pageBorderRight))}}class wE extends Re{constructor(t,r,a,l,u,c,f){super("w:pgMar"),this.root.push(new eo({top:{key:"w:top",value:_i(t)},right:{key:"w:right",value:Pn(r)},bottom:{key:"w:bottom",value:_i(a)},left:{key:"w:left",value:Pn(l)},header:{key:"w:header",value:Pn(u)},footer:{key:"w:footer",value:Pn(c)},gutter:{key:"w:gutter",value:Pn(f)}}))}}class bE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class xE extends Re{constructor({start:t,formatType:r,separator:a}){super("w:pgNumType"),this.root.push(new bE({start:t===void 0?void 0:ln(t),formatType:r,separator:a}))}}const tw={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class _E extends Re{constructor(t,r,a){super("w:pgSz");const l=a===tw.LANDSCAPE,u=Pn(t),c=Pn(r);this.root.push(new eo({width:{key:"w:w",value:l?c:u},height:{key:"w:h",value:l?u:c},orientation:{key:"w:orient",value:a}}))}}class SE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class EE extends Re{constructor(t){super("w:textDirection"),this.root.push(new SE({val:t}))}}const TE={NEXT_PAGE:"nextPage"};class AE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class kE extends Re{constructor(t){super("w:type"),this.root.push(new AE({val:t}))}}const mi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},uh={WIDTH:11906,HEIGHT:16838,ORIENTATION:tw.PORTRAIT};class jE extends Re{constructor({page:{size:{width:t=uh.WIDTH,height:r=uh.HEIGHT,orientation:a=uh.ORIENTATION}={},margin:{top:l=mi.TOP,right:u=mi.RIGHT,bottom:c=mi.BOTTOM,left:f=mi.LEFT,header:d=mi.HEADER,footer:p=mi.FOOTER,gutter:m=mi.GUTTER}={},pageNumbers:x={},borders:_,textDirection:S}={},grid:{linePitch:j=360,charSpace:T,type:C}={},headerWrapperGroup:b={},footerWrapperGroup:R={},lineNumbers:D,titlePage:F,verticalAlign:I,column:se,type:X}={}){super("w:sectPr"),this.addHeaderFooterGroup(hy.HEADER,b),this.addHeaderFooterGroup(hy.FOOTER,R),X&&this.root.push(new kE(X)),this.root.push(new _E(t,r,a)),this.root.push(new wE(l,u,c,f,d,p,m)),_&&this.root.push(new vE(_)),D&&this.root.push(yE(D)),this.root.push(new xE(x)),se&&this.root.push(new pE(se)),I&&this.root.push(new hE(I)),F!==void 0&&this.root.push(new Oe("w:titlePg",F)),S&&this.root.push(new EE(S)),this.root.push(new gE(j,T,C))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new lh(t,{type:Rs.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new lh(t,{type:Rs.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new lh(t,{type:Rs.EVEN,id:r.even.View.ReferenceId}))}}class NE extends Re{constructor(){super("w:body"),je(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new jE(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new bt({}),a=new Ms({});return a.push(t),r.addChildElement(a),r}}class no extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class RE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class CE extends Re{constructor(t){super("w:background"),this.root.push(new RE({color:t.color===void 0?void 0:Os(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:ly(t.themeShade),themeTint:t.themeTint===void 0?void 0:ly(t.themeTint)}))}}class OE extends Re{constructor(t){super("w:document"),je(this,"body"),this.root.push(new no({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new NE,t.background&&this.root.push(new CE(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class DE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns"})}}class zs extends Re{constructor(){super("Relationships"),this.root.push(new DE({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,a,l){const u=new nE(`rId${t}`,r,a,l);return this.root.push(u),u}get RelationshipCount(){return this.root.length-1}}class nw{constructor(t){je(this,"document"),je(this,"relationships"),this.document=new OE(t),this.relationships=new zs}get View(){return this.document}get Relationships(){return this.relationships}}class UE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class ME extends Re{constructor(){super("w:wordWrap"),this.root.push(new UE({val:0}))}}const LE=s=>{var t,r;return new Kr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:s.anchorLock},dropCap:{key:"w:dropCap",value:s.dropCap},width:{key:"w:w",value:s.width},height:{key:"w:h",value:s.height},x:{key:"w:x",value:s.position?s.position.x:void 0},y:{key:"w:y",value:s.position?s.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:s.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:s.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=s.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=s.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:s.rule},alignmentX:{key:"w:xAlign",value:s.alignment?s.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:s.alignment?s.alignment.y:void 0},lines:{key:"w:lines",value:s.lines},wrap:{key:"w:wrap",value:s.wrap}}})};class Ms extends Wl{constructor(t){var r,a;if(super("w:pPr"),je(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Al(t.heading)),t.bullet&&this.push(new Al("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Al("ListParagraph"))),t.style&&this.push(new Al(t.style)),t.keepNext!==void 0&&this.push(new Oe("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Oe("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new GS),t.frame&&this.push(LE(t.frame)),t.widowControl!==void 0&&this.push(new Oe("w:widowControl",t.widowControl)),t.bullet&&this.push(new fy(1,t.bullet.level)),t.numbering&&(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new fy(`${t.numbering.reference}-${(a=t.numbering.instance)!=null?a:0}`,t.numbering.level))),t.border&&this.push(new fS(t.border)),t.thematicBreak&&this.push(new hS),t.shading&&this.push(new Zv(t.shading)),t.wordWrap&&this.push(new ME),t.overflowPunctuation&&this.push(new Oe("w:overflowPunct",t.overflowPunctuation));const l=[...t.rightTabStop!==void 0?[{type:cy.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:cy.LEFT,position:t.leftTabStop}]:[]];l.length>0&&this.push(new WS(l)),t.bidirectional!==void 0&&this.push(new Oe("w:bidi",t.bidirectional)),t.spacing&&this.push(new VS(t.spacing)),t.indent&&this.push(new dS(t.indent)),t.contextualSpacing!==void 0&&this.push(new Oe("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new uS(t.alignment)),t.outlineLevel!==void 0&&this.push(new cE(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Oe("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Oe("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Ei(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof nw)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class bt extends JS{constructor(t){if(super("w:p"),je(this,"properties"),typeof t=="string")return this.properties=new Ms({}),this.root.push(this.properties),this.root.push(new wt(t)),this;if(this.properties=new Ms(t),this.root.push(this.properties),t.text&&this.root.push(new wt(t.text)),t.children)for(const r of t.children){if(r instanceof oE){this.root.push(r.start);for(const a of r.children)this.root.push(a);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof ew){const a=this.root.indexOf(r),l=new iE(r.options.children,zS());t.viewWrapper.Relationships.createRelationship(l.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,tE.EXTERNAL),this.root[a]=l}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const fs={style:ad.NONE,size:0,color:"auto"},hs={style:ad.SINGLE,size:4,color:"auto"};class BE extends Re{constructor(t){super("w:tblBorders"),t.top?this.root.push(new At("w:top",t.top)):this.root.push(new At("w:top",hs)),t.left?this.root.push(new At("w:left",t.left)):this.root.push(new At("w:left",hs)),t.bottom?this.root.push(new At("w:bottom",t.bottom)):this.root.push(new At("w:bottom",hs)),t.right?this.root.push(new At("w:right",t.right)):this.root.push(new At("w:right",hs)),t.insideHorizontal?this.root.push(new At("w:insideH",t.insideHorizontal)):this.root.push(new At("w:insideH",hs)),t.insideVertical?this.root.push(new At("w:insideV",t.insideVertical)):this.root.push(new At("w:insideV",hs))}}je(BE,"NONE",{top:fs,bottom:fs,left:fs,right:fs,insideHorizontal:fs,insideVertical:fs});class IE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class zE extends Re{constructor(){super("Properties"),this.root.push(new IE({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class PE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns"})}}class FE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Hr extends Re{constructor(t,r){super("Default"),this.root.push(new FE({contentType:t,extension:r}))}}class HE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Rn extends Re{constructor(t,r){super("Override"),this.root.push(new HE({contentType:t,partName:r}))}}class qE extends Re{constructor(){super("Types"),this.root.push(new PE({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Hr("image/png","png")),this.root.push(new Hr("image/jpeg","jpeg")),this.root.push(new Hr("image/jpeg","jpg")),this.root.push(new Hr("image/bmp","bmp")),this.root.push(new Hr("image/gif","gif")),this.root.push(new Hr("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Hr("application/xml","xml")),this.root.push(new Hr("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Rn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new Rn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class $E extends Re{constructor(t){super("cp:coreProperties"),this.root.push(new no({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),t.title&&this.root.push(new pi("dc:title",t.title)),t.subject&&this.root.push(new pi("dc:subject",t.subject)),t.creator&&this.root.push(new pi("dc:creator",t.creator)),t.keywords&&this.root.push(new pi("cp:keywords",t.keywords)),t.description&&this.root.push(new pi("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new pi("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new pi("cp:revision",String(t.revision))),this.root.push(new py("dcterms:created")),this.root.push(new py("dcterms:modified"))}}class py extends Re{constructor(t){super(t),this.root.push(new no({type:"dcterms:W3CDTF"})),this.root.push(oS(new Date))}}class GE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class KE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class VE extends Re{constructor(t,r){super("property"),this.root.push(new KE({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new WE(r.value))}}class WE extends Re{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class YE extends Re{constructor(t){super("Properties"),je(this,"nextId"),je(this,"properties",[]),this.root.push(new GE({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new VE(this.nextId++,t))}}class XE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let ZE=class extends Vv{constructor(t,r){super("w:ftr",r),je(this,"refId"),this.refId=t,r||this.root.push(new XE({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class QE{constructor(t,r,a){je(this,"footer"),je(this,"relationships"),this.media=t,this.footer=new ZE(r,a),this.relationships=new zs}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class JE extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class eT extends Re{constructor(){super("w:footnoteRef")}}class tT extends Jl{constructor(){super({style:"FootnoteReference"}),this.root.push(new eT)}}const my={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class ch extends Re{constructor(t){super("w:footnote"),this.root.push(new JE({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const a=t.children[r];r===0&&a.addRunToFront(new tT),this.root.push(a)}}}class nT extends Re{constructor(){super("w:continuationSeparator")}}class rT extends Jl{constructor(){super({}),this.root.push(new nT)}}class iT extends Re{constructor(){super("w:separator")}}class sT extends Jl{constructor(){super({}),this.root.push(new iT)}}class aT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class oT extends Re{constructor(){super("w:footnotes"),this.root.push(new aT({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new ch({id:-1,type:my.SEPERATOR,children:[new bt({spacing:{after:0,line:240,lineRule:Nh.AUTO},children:[new sT]})]});this.root.push(t);const r=new ch({id:0,type:my.CONTINUATION_SEPERATOR,children:[new bt({spacing:{after:0,line:240,lineRule:Nh.AUTO},children:[new rT]})]});this.root.push(r)}createFootNote(t,r){const a=new ch({id:t,children:r});this.root.push(a)}}class lT{constructor(){je(this,"footnotess"),je(this,"relationships"),this.footnotess=new oT,this.relationships=new zs}get View(){return this.footnotess}get Relationships(){return this.relationships}}class uT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let cT=class extends Vv{constructor(t,r){super("w:hdr",r),je(this,"refId"),this.refId=t,r||this.root.push(new uT({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class fT{constructor(t,r,a){je(this,"header"),je(this,"relationships"),this.media=t,this.header=new cT(r,a),this.relationships=new zs}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class hT{constructor(){je(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const pr={BULLET:"bullet"};class dT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class pT extends Re{constructor(t){super("w:numFmt"),this.root.push(new Rt({val:t}))}}class mT extends Re{constructor(t){super("w:lvlText"),this.root.push(new Rt({val:t}))}}class gT extends Re{constructor(t){super("w:lvlJc"),this.root.push(new Rt({val:t}))}}class yT extends Re{constructor(t){super("w:suff"),this.root.push(new Rt({val:t}))}}class vT extends Re{constructor(){super("w:isLgl")}}class wT extends Re{constructor({level:t,format:r,text:a,alignment:l=On.START,start:u=1,style:c,suffix:f,isLegalNumberingStyle:d}){if(super("w:lvl"),je(this,"paragraphProperties"),je(this,"runProperties"),this.root.push(new sd("w:start",ln(u))),r&&this.root.push(new pT(r)),f&&this.root.push(new yT(f)),d&&this.root.push(new vT),a&&this.root.push(new mT(a)),this.root.push(new gT(l)),this.paragraphProperties=new Ms(c&&c.paragraph),this.runProperties=new Ei(c&&c.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new dT({ilvl:ln(t),tentative:1}))}}class bT extends wT{}class xT extends Re{constructor(t){super("w:multiLevelType"),this.root.push(new Rt({val:t}))}}class _T extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class gy extends Re{constructor(t,r){super("w:abstractNum"),je(this,"id"),this.root.push(new _T({abstractNumId:ln(t),restartNumberingAfterBreak:0})),this.root.push(new xT("hybridMultilevel")),this.id=t;for(const a of r)this.root.push(new bT(a))}}class ST extends Re{constructor(t){super("w:abstractNumId"),this.root.push(new Rt({val:t}))}}class ET extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{numId:"w:numId"})}}class yy extends Re{constructor(t){if(super("w:num"),je(this,"numId"),je(this,"reference"),je(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new ET({numId:ln(t.numId)})),this.root.push(new ST(ln(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new AT(r.num,r.start))}}class TT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{ilvl:"w:ilvl"})}}class AT extends Re{constructor(t,r){super("w:lvlOverride"),this.root.push(new TT({ilvl:t})),r!==void 0&&this.root.push(new jT(r))}}class kT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class jT extends Re{constructor(t){super("w:startOverride"),this.root.push(new kT({val:t}))}}class NT extends Re{constructor(t){super("w:numbering"),je(this,"abstractNumberingMap",new Map),je(this,"concreteNumberingMap",new Map),je(this,"referenceConfigMap",new Map),je(this,"abstractNumUniqueNumericId",LS()),je(this,"concreteNumUniqueNumericId",BS()),this.root.push(new no({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new gy(this.abstractNumUniqueNumericId(),[{level:0,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:In(.5),hanging:In(.25)}}}},{level:1,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:In(1),hanging:In(.25)}}}},{level:2,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:2160,hanging:In(.25)}}}},{level:3,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:2880,hanging:In(.25)}}}},{level:4,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:3600,hanging:In(.25)}}}},{level:5,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:4320,hanging:In(.25)}}}},{level:6,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:5040,hanging:In(.25)}}}},{level:7,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:5760,hanging:In(.25)}}}},{level:8,format:pr.BULLET,text:"",alignment:On.LEFT,style:{paragraph:{indent:{left:6480,hanging:In(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new yy({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const a of t.config)this.abstractNumberingMap.set(a.reference,new gy(this.abstractNumUniqueNumericId(),a.levels)),this.referenceConfigMap.set(a.reference,a.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const a=this.abstractNumberingMap.get(t);if(!a)return;const l=`${t}-${r}`;if(this.concreteNumberingMap.has(l))return;const u=this.referenceConfigMap.get(t),c=u&&u[0].start,f={numId:this.concreteNumUniqueNumericId(),abstractNumId:a.id,reference:t,instance:r,overrideLevels:[c&&Number.isInteger(c)?{num:0,start:c}:{num:0,start:1}]};this.concreteNumberingMap.set(l,new yy(f))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class RT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class CT extends Re{constructor(t){super("w:compatSetting"),this.root.push(new RT({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class OT extends Re{constructor(t){super("w:compat"),t.version&&this.root.push(new CT(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Oe("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Oe("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Oe("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Oe("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Oe("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Oe("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Oe("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Oe("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Oe("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Oe("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Oe("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Oe("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Oe("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Oe("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Oe("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Oe("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Oe("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Oe("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Oe("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Oe("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Oe("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Oe("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Oe("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Oe("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Oe("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Oe("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Oe("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Oe("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Oe("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Oe("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Oe("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Oe("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Oe("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Oe("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Oe("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Oe("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Oe("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Oe("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Oe("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Oe("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Oe("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Oe("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Oe("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Oe("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Oe("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Oe("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Oe("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Oe("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Oe("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Oe("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Oe("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Oe("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Oe("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Oe("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Oe("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Oe("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Oe("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Oe("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Oe("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Oe("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Oe("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Oe("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Oe("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Oe("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Oe("w:cachedColBalance",t.cachedColumnBalance))}}class DT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class UT extends Re{constructor(t){var r,a,l,u;super("w:settings"),this.root.push(new DT({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Oe("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Oe("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Oe("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Oe("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new sd("w:defaultTabStop",t.defaultTabStop)),this.root.push(new OT(Za(st({},(r=t.compatibility)!=null?r:{}),{version:(u=(l=(a=t.compatibility)==null?void 0:a.version)!=null?l:t.compatibilityModeVersion)!=null?u:15})))}}class rw extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class MT extends Re{constructor(t){super("w:name"),this.root.push(new rw({val:t}))}}class LT extends Re{constructor(t){super("w:uiPriority"),this.root.push(new rw({val:ln(t)}))}}class BT extends qe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class iw extends Re{constructor(t,r){super("w:style"),this.root.push(new BT(t)),r.name&&this.root.push(new MT(r.name)),r.basedOn&&this.root.push(new Ns("w:basedOn",r.basedOn)),r.next&&this.root.push(new Ns("w:next",r.next)),r.link&&this.root.push(new Ns("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new LT(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Oe("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Oe("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Oe("w:qFormat",r.quickFormat))}}class eu extends iw{constructor(t){super({type:"paragraph",styleId:t.id},t),je(this,"paragraphProperties"),je(this,"runProperties"),this.paragraphProperties=new Ms(t.paragraph),this.runProperties=new Ei(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class tu extends iw{constructor(t){super({type:"character",styleId:t.id},st({uiPriority:99,unhideWhenUsed:!0},t)),je(this,"runProperties"),this.runProperties=new Ei(t.run),this.root.push(this.runProperties)}}class Wr extends eu{constructor(t){super(st({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class IT extends Wr{constructor(t){super(st({id:"Title",name:"Title"},t))}}class zT extends Wr{constructor(t){super(st({id:"Heading1",name:"Heading 1"},t))}}class PT extends Wr{constructor(t){super(st({id:"Heading2",name:"Heading 2"},t))}}class FT extends Wr{constructor(t){super(st({id:"Heading3",name:"Heading 3"},t))}}class HT extends Wr{constructor(t){super(st({id:"Heading4",name:"Heading 4"},t))}}class qT extends Wr{constructor(t){super(st({id:"Heading5",name:"Heading 5"},t))}}class $T extends Wr{constructor(t){super(st({id:"Heading6",name:"Heading 6"},t))}}class GT extends Wr{constructor(t){super(st({id:"Strong",name:"Strong"},t))}}class KT extends eu{constructor(t){super(st({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class VT extends eu{constructor(t){super(st({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Nh.AUTO}},run:{size:20}},t))}}class WT extends tu{constructor(t){super(st({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class YT extends tu{constructor(t){super(st({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class XT extends tu{constructor(t){super(st({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Jv.SINGLE}}},t))}}class Rh extends Re{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new eu(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new tu(r))}}class ZT extends Re{constructor(t){super("w:pPrDefault"),this.root.push(new Ms(t))}}class QT extends Re{constructor(t){super("w:rPrDefault"),this.root.push(new Ei(t))}}class JT extends Re{constructor(t){super("w:docDefaults"),je(this,"runPropertiesDefaults"),je(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new QT(t.run),this.paragraphPropertiesDefaults=new ZT(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class eA{newInstance(t){const r=Kv.xml2js(t,{compact:!1});let a;for(const c of r.elements||[])c.name==="w:styles"&&(a=c);if(a===void 0)throw new Error("can not find styles element");const l=a.elements||[];return new Rh({initialStyles:new rS(a.attributes),importedStyles:l.map(c=>id(c))})}}class vy{newInstance(t={}){var r;return{initialStyles:new no({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new JT((r=t.document)!=null?r:{}),new IT(st({run:{size:56}},t.title)),new zT(st({run:{color:"2E74B5",size:32}},t.heading1)),new PT(st({run:{color:"2E74B5",size:26}},t.heading2)),new FT(st({run:{color:"1F4D78",size:24}},t.heading3)),new HT(st({run:{color:"2E74B5",italics:!0}},t.heading4)),new qT(st({run:{color:"2E74B5"}},t.heading5)),new $T(st({run:{color:"1F4D78"}},t.heading6)),new GT(st({run:{bold:!0}},t.strong)),new KT(t.listParagraph||{}),new XT(t.hyperlink||{}),new WT(t.footnoteReference||{}),new VT(t.footnoteText||{}),new YT(t.footnoteTextChar||{})]}}}const kl=({id:s,fontKey:t,subsetted:r},a)=>new Kr({name:a,attributes:st({id:{key:"r:id",value:s}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Oe("w:subsetted",r)]:[]]}),tA=({name:s,altName:t,panose1:r,charset:a,family:l,notTrueType:u,pitch:c,sig:f,embedRegular:d,embedBold:p,embedItalic:m,embedBoldItalic:x})=>new Kr({name:"w:font",attributes:{name:{key:"w:name",value:s}},children:[...t?[Fa("w:altName",t)]:[],...r?[Fa("w:panose1",r)]:[],...a?[Fa("w:charset",a)]:[],Fa("w:family",l),...u?[new Oe("w:notTrueType",u)]:[],Fa("w:pitch",c),...f?[new Kr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:f.usb0},usb1:{key:"w:usb1",value:f.usb1},usb2:{key:"w:usb2",value:f.usb2},usb3:{key:"w:usb3",value:f.usb3},csb0:{key:"w:csb0",value:f.csb0},csb1:{key:"w:csb1",value:f.csb1}}})]:[],...d?[kl(d,"w:embedRegular")]:[],...p?[kl(p,"w:embedBold")]:[],...m?[kl(m,"w:embedItalic")]:[],...x?[kl(x,"w:embedBoldItalic")]:[]]}),nA=({name:s,index:t,fontKey:r,characterSet:a})=>tA({name:s,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:a,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),rA=s=>new Kr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:s.map((t,r)=>nA({name:t.name,index:r+1,fontKey:t.fontKey}))});class iA{constructor(t){je(this,"fontTable"),je(this,"relationships"),je(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>Za(st({},r),{fontKey:PS()})),this.fontTable=rA(this.fontOptionsWithKey),this.relationships=new zs;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class wy{constructor(t){je(this,"currentRelationshipId",1),je(this,"documentWrapper"),je(this,"headers",[]),je(this,"footers",[]),je(this,"coreProperties"),je(this,"numbering"),je(this,"media"),je(this,"fileRelationships"),je(this,"footnotesWrapper"),je(this,"settings"),je(this,"contentTypes"),je(this,"customProperties"),je(this,"appProperties"),je(this,"styles"),je(this,"comments"),je(this,"fontWrapper");var r,a,l,u,c,f,d,p;if(this.coreProperties=new $E(Za(st({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(a=t.revision)!=null?a:1,lastModifiedBy:(l=t.lastModifiedBy)!=null?l:"Un-named"})),this.numbering=new NT(t.numbering?t.numbering:{config:[]}),this.comments=new $S((u=t.comments)!=null?u:{children:[]}),this.fileRelationships=new zs,this.customProperties=new YE((c=t.customProperties)!=null?c:[]),this.appProperties=new zE,this.footnotesWrapper=new lT,this.contentTypes=new qE,this.documentWrapper=new nw({background:t.background}),this.settings=new UT({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(f=t.features)==null?void 0:f.trackRevisions,updateFields:(d=t.features)==null?void 0:d.updateFields,defaultTabStop:t.defaultTabStop}),this.media=new hT,t.externalStyles){const m=new eA;this.styles=m.newInstance(t.externalStyles)}else if(t.styles){const x=new vy().newInstance(t.styles.default);this.styles=new Rh(st(st({},x),t.styles))}else{const m=new vy;this.styles=new Rh(m.newInstance())}this.addDefaultRelationships();for(const m of t.sections)this.addSection(m);if(t.footnotes)for(const m in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(m),t.footnotes[m].children);this.fontWrapper=new iA((p=t.fonts)!=null?p:[])}addSection({headers:t={},footers:r={},children:a,properties:l}){this.documentWrapper.View.Body.addSection(Za(st({},l),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const u of a)this.documentWrapper.View.add(u)}createHeader(t){const r=new fT(this.media,this.currentRelationshipId++);for(const a of t.options.children)r.add(a);return this.addHeaderToDocument(r),r}createFooter(t){const r=new QE(this.media,this.currentRelationshipId++);for(const a of t.options.children)r.add(a);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Rs.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Rs.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function jl(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sw={exports:{}};(function(s,t){(function(r){s.exports=r()})(function(){return(function r(a,l,u){function c(p,m){if(!l[p]){if(!a[p]){var x=typeof jl=="function"&&jl;if(!m&&x)return x(p,!0);if(f)return f(p,!0);var _=new Error("Cannot find module '"+p+"'");throw _.code="MODULE_NOT_FOUND",_}var S=l[p]={exports:{}};a[p][0].call(S.exports,function(j){var T=a[p][1][j];return c(T||j)},S,S.exports,r,a,l,u)}return l[p].exports}for(var f=typeof jl=="function"&&jl,d=0;d<u.length;d++)c(u[d]);return c})({1:[function(r,a,l){var u=r("./utils"),c=r("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(d){for(var p,m,x,_,S,j,T,C=[],b=0,R=d.length,D=R,F=u.getTypeOf(d)!=="string";b<d.length;)D=R-b,x=F?(p=d[b++],m=b<R?d[b++]:0,b<R?d[b++]:0):(p=d.charCodeAt(b++),m=b<R?d.charCodeAt(b++):0,b<R?d.charCodeAt(b++):0),_=p>>2,S=(3&p)<<4|m>>4,j=1<D?(15&m)<<2|x>>6:64,T=2<D?63&x:64,C.push(f.charAt(_)+f.charAt(S)+f.charAt(j)+f.charAt(T));return C.join("")},l.decode=function(d){var p,m,x,_,S,j,T=0,C=0,b="data:";if(d.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var R,D=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===f.charAt(64)&&D--,d.charAt(d.length-2)===f.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=c.uint8array?new Uint8Array(0|D):new Array(0|D);T<d.length;)p=f.indexOf(d.charAt(T++))<<2|(_=f.indexOf(d.charAt(T++)))>>4,m=(15&_)<<4|(S=f.indexOf(d.charAt(T++)))>>2,x=(3&S)<<6|(j=f.indexOf(d.charAt(T++))),R[C++]=p,S!==64&&(R[C++]=m),j!==64&&(R[C++]=x);return R}},{"./support":30,"./utils":32}],2:[function(r,a,l){var u=r("./external"),c=r("./stream/DataWorker"),f=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function p(m,x,_,S,j){this.compressedSize=m,this.uncompressedSize=x,this.crc32=_,this.compression=S,this.compressedContent=j}p.prototype={getContentWorker:function(){var m=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),x=this;return m.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,x,_){return m.pipe(new f).pipe(new d("uncompressedSize")).pipe(x.compressWorker(_)).pipe(new d("compressedSize")).withStreamInfo("compression",x)},a.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,l){var u=r("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},l.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,l){var u=r("./utils"),c=(function(){for(var f,d=[],p=0;p<256;p++){f=p;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;d[p]=f}return d})();a.exports=function(f,d){return f!==void 0&&f.length?u.getTypeOf(f)!=="string"?(function(p,m,x,_){var S=c,j=_+x;p^=-1;for(var T=_;T<j;T++)p=p>>>8^S[255&(p^m[T])];return-1^p})(0|d,f,f.length,0):(function(p,m,x,_){var S=c,j=_+x;p^=-1;for(var T=_;T<j;T++)p=p>>>8^S[255&(p^m.charCodeAt(T))];return-1^p})(0|d,f,f.length,0):0}},{"./utils":32}],5:[function(r,a,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(r,a,l){var u=null;u=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:u}},{lie:37}],7:[function(r,a,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=r("pako"),f=r("./utils"),d=r("./stream/GenericWorker"),p=u?"uint8array":"array";function m(x,_){d.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=_,this.meta={}}l.magic="\b\0",f.inherits(m,d),m.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(p,x.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(_){x.push({data:_,meta:x.meta})}},l.compressWorker=function(x){return new m("Deflate",x)},l.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,l){function u(S,j){var T,C="";for(T=0;T<j;T++)C+=String.fromCharCode(255&S),S>>>=8;return C}function c(S,j,T,C,b,R){var D,F,I=S.file,se=S.compression,X=R!==p.utf8encode,le=f.transformTo("string",R(I.name)),L=f.transformTo("string",p.utf8encode(I.name)),ae=I.comment,ce=f.transformTo("string",R(ae)),z=f.transformTo("string",p.utf8encode(ae)),re=L.length!==I.name.length,N=z.length!==ae.length,J="",V="",Y="",ge=I.dir,ue=I.date,G={crc32:0,compressedSize:0,uncompressedSize:0};j&&!T||(G.crc32=S.crc32,G.compressedSize=S.compressedSize,G.uncompressedSize=S.uncompressedSize);var $=0;j&&($|=8),X||!re&&!N||($|=2048);var B=0,Z=0;ge&&(B|=16),b==="UNIX"?(Z=798,B|=(function(fe,te){var O=fe;return fe||(O=te?16893:33204),(65535&O)<<16})(I.unixPermissions,ge)):(Z=20,B|=(function(fe){return 63&(fe||0)})(I.dosPermissions)),D=ue.getUTCHours(),D<<=6,D|=ue.getUTCMinutes(),D<<=5,D|=ue.getUTCSeconds()/2,F=ue.getUTCFullYear()-1980,F<<=4,F|=ue.getUTCMonth()+1,F<<=5,F|=ue.getUTCDate(),re&&(V=u(1,1)+u(m(le),4)+L,J+="up"+u(V.length,2)+V),N&&(Y=u(1,1)+u(m(ce),4)+z,J+="uc"+u(Y.length,2)+Y);var ne="";return ne+=`
\0`,ne+=u($,2),ne+=se.magic,ne+=u(D,2),ne+=u(F,2),ne+=u(G.crc32,4),ne+=u(G.compressedSize,4),ne+=u(G.uncompressedSize,4),ne+=u(le.length,2),ne+=u(J.length,2),{fileRecord:x.LOCAL_FILE_HEADER+ne+le+J,dirRecord:x.CENTRAL_FILE_HEADER+u(Z,2)+ne+u(ce.length,2)+"\0\0\0\0"+u(B,4)+u(C,4)+le+J+ce}}var f=r("../utils"),d=r("../stream/GenericWorker"),p=r("../utf8"),m=r("../crc32"),x=r("../signature");function _(S,j,T,C){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=T,this.encodeFileName=C,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(_,d),_.prototype.push=function(S){var j=S.meta.percent||0,T=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,d.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:T?(j+100*(T-C-1))/T:100}}))},_.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var j=this.streamFiles&&!S.file.dir;if(j){var T=c(S,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:T.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(S){this.accumulate=!1;var j=this.streamFiles&&!S.file.dir,T=c(S,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(T.dirRecord),j)this.push({data:(function(C){return x.DATA_DESCRIPTOR+u(C.crc32,4)+u(C.compressedSize,4)+u(C.uncompressedSize,4)})(S),meta:{percent:100}});else for(this.push({data:T.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var S=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var T=this.bytesWritten-S,C=(function(b,R,D,F,I){var se=f.transformTo("string",I(F));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(b,2)+u(b,2)+u(R,4)+u(D,4)+u(se.length,2)+se})(this.dirRecords.length,T,S,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(S){this._sources.push(S);var j=this;return S.on("data",function(T){j.processChunk(T)}),S.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),S.on("error",function(T){j.error(T)}),this},_.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(S){var j=this._sources;if(!d.prototype.error.call(this,S))return!1;for(var T=0;T<j.length;T++)try{j[T].error(S)}catch{}return!0},_.prototype.lock=function(){d.prototype.lock.call(this);for(var S=this._sources,j=0;j<S.length;j++)S[j].lock()},a.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,l){var u=r("../compressions"),c=r("./ZipFileWorker");l.generateWorker=function(f,d,p){var m=new c(d.streamFiles,p,d.platform,d.encodeFileName),x=0;try{f.forEach(function(_,S){x++;var j=(function(R,D){var F=R||D,I=u[F];if(!I)throw new Error(F+" is not a valid compression method !");return I})(S.options.compression,d.compression),T=S.options.compressionOptions||d.compressionOptions||{},C=S.dir,b=S.date;S._compressWorker(j,T).withStreamInfo("file",{name:_,dir:C,date:b,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(m)}),m.entriesCount=x}catch(_){m.error(_)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,l){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var f in this)typeof this[f]!="function"&&(c[f]=this[f]);return c}}(u.prototype=r("./object")).loadAsync=r("./load"),u.support=r("./support"),u.defaults=r("./defaults"),u.version="3.10.1",u.loadAsync=function(c,f){return new u().loadAsync(c,f)},u.external=r("./external"),a.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,l){var u=r("./utils"),c=r("./external"),f=r("./utf8"),d=r("./zipEntries"),p=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function x(_){return new c.Promise(function(S,j){var T=_.decompressed.getContentWorker().pipe(new p);T.on("error",function(C){j(C)}).on("end",function(){T.streamInfo.crc32!==_.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}a.exports=function(_,S){var j=this;return S=u.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),m.isNode&&m.isStream(_)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",_,!0,S.optimizedBinaryString,S.base64).then(function(T){var C=new d(S);return C.load(T),C}).then(function(T){var C=[c.Promise.resolve(T)],b=T.files;if(S.checkCRC32)for(var R=0;R<b.length;R++)C.push(x(b[R]));return c.Promise.all(C)}).then(function(T){for(var C=T.shift(),b=C.files,R=0;R<b.length;R++){var D=b[R],F=D.fileNameStr,I=u.resolve(D.fileNameStr);j.file(I,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:S.createFolders}),D.dir||(j.file(I).unsafeOriginalName=F)}return C.zipComment.length&&(j.comment=C.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,l){var u=r("../utils"),c=r("../stream/GenericWorker");function f(d,p){c.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}u.inherits(f,c),f.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},f.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,l){var u=r("readable-stream").Readable;function c(f,d,p){u.call(this,d),this._helper=f;var m=this;f.on("data",function(x,_){m.push(x)||m._helper.pause(),p&&p(_)}).on("error",function(x){m.emit("error",x)}).on("end",function(){m.push(null)})}r("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},a.exports=c},{"../utils":32,"readable-stream":16}],14:[function(r,a,l){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(r,a,l){function u(I,se,X){var le,L=f.getTypeOf(se),ae=f.extend(X||{},m);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(I=b(I)),ae.createFolders&&(le=C(I))&&R.call(this,le,!0);var ce=L==="string"&&ae.binary===!1&&ae.base64===!1;X&&X.binary!==void 0||(ae.binary=!ce),(se instanceof x&&se.uncompressedSize===0||ae.dir||!se||se.length===0)&&(ae.base64=!1,ae.binary=!0,se="",ae.compression="STORE",L="string");var z=null;z=se instanceof x||se instanceof d?se:j.isNode&&j.isStream(se)?new T(I,se):f.prepareContent(I,se,ae.binary,ae.optimizedBinaryString,ae.base64);var re=new _(I,z,ae);this.files[I]=re}var c=r("./utf8"),f=r("./utils"),d=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),m=r("./defaults"),x=r("./compressedObject"),_=r("./zipObject"),S=r("./generate"),j=r("./nodejsUtils"),T=r("./nodejs/NodejsStreamInputAdapter"),C=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var se=I.lastIndexOf("/");return 0<se?I.substring(0,se):""},b=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},R=function(I,se){return se=se!==void 0?se:m.createFolders,I=b(I),this.files[I]||u.call(this,I,null,{dir:!0,createFolders:se}),this.files[I]};function D(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var se,X,le;for(se in this.files)le=this.files[se],(X=se.slice(this.root.length,se.length))&&se.slice(0,this.root.length)===this.root&&I(X,le)},filter:function(I){var se=[];return this.forEach(function(X,le){I(X,le)&&se.push(le)}),se},file:function(I,se,X){if(arguments.length!==1)return I=this.root+I,u.call(this,I,se,X),this;if(D(I)){var le=I;return this.filter(function(ae,ce){return!ce.dir&&le.test(ae)})}var L=this.files[this.root+I];return L&&!L.dir?L:null},folder:function(I){if(!I)return this;if(D(I))return this.filter(function(L,ae){return ae.dir&&I.test(L)});var se=this.root+I,X=R.call(this,se),le=this.clone();return le.root=X.name,le},remove:function(I){I=this.root+I;var se=this.files[I];if(se||(I.slice(-1)!=="/"&&(I+="/"),se=this.files[I]),se&&!se.dir)delete this.files[I];else for(var X=this.filter(function(L,ae){return ae.name.slice(0,I.length)===I}),le=0;le<X.length;le++)delete this.files[X[le].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var se,X={};try{if((X=f.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=X.type.toLowerCase(),X.compression=X.compression.toUpperCase(),X.type==="binarystring"&&(X.type="string"),!X.type)throw new Error("No output type specified.");f.checkSupport(X.type),X.platform!=="darwin"&&X.platform!=="freebsd"&&X.platform!=="linux"&&X.platform!=="sunos"||(X.platform="UNIX"),X.platform==="win32"&&(X.platform="DOS");var le=X.comment||this.comment||"";se=S.generateWorker(this,X,le)}catch(L){(se=new d("error")).error(L)}return new p(se,X.type||"string",X.mimeType)},generateAsync:function(I,se){return this.generateInternalStream(I).accumulate(se)},generateNodeStream:function(I,se){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(se)}};a.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,l){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,l){var u=r("./DataReader");function c(f){u.call(this,f);for(var d=0;d<this.data.length;d++)f[d]=255&f[d]}r("../utils").inherits(c,u),c.prototype.byteAt=function(f){return this.data[this.zero+f]},c.prototype.lastIndexOfSignature=function(f){for(var d=f.charCodeAt(0),p=f.charCodeAt(1),m=f.charCodeAt(2),x=f.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===d&&this.data[_+1]===p&&this.data[_+2]===m&&this.data[_+3]===x)return _-this.zero;return-1},c.prototype.readAndCheckSignature=function(f){var d=f.charCodeAt(0),p=f.charCodeAt(1),m=f.charCodeAt(2),x=f.charCodeAt(3),_=this.readData(4);return d===_[0]&&p===_[1]&&m===_[2]&&x===_[3]},c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./DataReader":18}],18:[function(r,a,l){var u=r("../utils");function c(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var d,p=0;for(this.checkOffset(f),d=this.index+f-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=f,p},readString:function(f){return u.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},a.exports=c},{"../utils":32}],19:[function(r,a,l){var u=r("./Uint8ArrayReader");function c(f){u.call(this,f)}r("../utils").inherits(c,u),c.prototype.readData=function(f){this.checkOffset(f);var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,l){var u=r("./DataReader");function c(f){u.call(this,f)}r("../utils").inherits(c,u),c.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},c.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},c.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},c.prototype.readData=function(f){this.checkOffset(f);var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./DataReader":18}],21:[function(r,a,l){var u=r("./ArrayReader");function c(f){u.call(this,f)}r("../utils").inherits(c,u),c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,l){var u=r("../utils"),c=r("../support"),f=r("./ArrayReader"),d=r("./StringReader"),p=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");a.exports=function(x){var _=u.getTypeOf(x);return u.checkSupport(_),_!=="string"||c.uint8array?_==="nodebuffer"?new p(x):c.uint8array?new m(u.transformTo("uint8array",x)):new f(u.transformTo("array",x)):new d(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,l){var u=r("./GenericWorker"),c=r("../utils");function f(d){u.call(this,"ConvertWorker to "+d),this.destType=d}c.inherits(f,u),f.prototype.processChunk=function(d){this.push({data:c.transformTo(this.destType,d.data),meta:d.meta})},a.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,l){var u=r("./GenericWorker"),c=r("../crc32");function f(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(f,u),f.prototype.processChunk=function(d){this.streamInfo.crc32=c(d.data,this.streamInfo.crc32||0),this.push(d)},a.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,l){var u=r("../utils"),c=r("./GenericWorker");function f(d){c.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}u.inherits(f,c),f.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}c.prototype.processChunk.call(this,d)},a.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,l){var u=r("../utils"),c=r("./GenericWorker");function f(d){c.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=u.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}u.inherits(f,c),f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,l){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,f){return this._listeners[c].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,f){if(this._listeners[c])for(var d=0;d<this._listeners[c].length;d++)this._listeners[c][d].call(this,f)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var f=this;return c.on("data",function(d){f.processChunk(d)}),c.on("end",function(){f.end()}),c.on("error",function(d){f.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,f){return this.extraStreamInfo[c]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},a.exports=u},{}],29:[function(r,a,l){var u=r("../utils"),c=r("./ConvertWorker"),f=r("./GenericWorker"),d=r("../base64"),p=r("../support"),m=r("../external"),x=null;if(p.nodestream)try{x=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(j,T){return new m.Promise(function(C,b){var R=[],D=j._internalType,F=j._outputType,I=j._mimeType;j.on("data",function(se,X){R.push(se),T&&T(X)}).on("error",function(se){R=[],b(se)}).on("end",function(){try{var se=(function(X,le,L){switch(X){case"blob":return u.newBlob(u.transformTo("arraybuffer",le),L);case"base64":return d.encode(le);default:return u.transformTo(X,le)}})(F,(function(X,le){var L,ae=0,ce=null,z=0;for(L=0;L<le.length;L++)z+=le[L].length;switch(X){case"string":return le.join("");case"array":return Array.prototype.concat.apply([],le);case"uint8array":for(ce=new Uint8Array(z),L=0;L<le.length;L++)ce.set(le[L],ae),ae+=le[L].length;return ce;case"nodebuffer":return Buffer.concat(le);default:throw new Error("concat : unsupported type '"+X+"'")}})(D,R),I);C(se)}catch(X){b(X)}R=[]}).resume()})}function S(j,T,C){var b=T;switch(T){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=T,this._mimeType=C,u.checkSupport(b),this._worker=j.pipe(new c(b)),j.lock()}catch(R){this._worker=new f("error"),this._worker.error(R)}}S.prototype={accumulate:function(j){return _(this,j)},on:function(j,T){var C=this;return j==="data"?this._worker.on(j,function(b){T.call(C,b.data,b.meta)}):this._worker.on(j,function(){u.delay(T,arguments,C)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},j)}},a.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var u=new ArrayBuffer(0);try{l.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),l.blob=c.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!r("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,l){for(var u=r("./utils"),c=r("./support"),f=r("./nodejsUtils"),d=r("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function x(){d.call(this,"utf-8 decode"),this.leftOver=null}function _(){d.call(this,"utf-8 encode")}l.utf8encode=function(S){return c.nodebuffer?f.newBufferFrom(S,"utf-8"):(function(j){var T,C,b,R,D,F=j.length,I=0;for(R=0;R<F;R++)(64512&(C=j.charCodeAt(R)))==55296&&R+1<F&&(64512&(b=j.charCodeAt(R+1)))==56320&&(C=65536+(C-55296<<10)+(b-56320),R++),I+=C<128?1:C<2048?2:C<65536?3:4;for(T=c.uint8array?new Uint8Array(I):new Array(I),R=D=0;D<I;R++)(64512&(C=j.charCodeAt(R)))==55296&&R+1<F&&(64512&(b=j.charCodeAt(R+1)))==56320&&(C=65536+(C-55296<<10)+(b-56320),R++),C<128?T[D++]=C:(C<2048?T[D++]=192|C>>>6:(C<65536?T[D++]=224|C>>>12:(T[D++]=240|C>>>18,T[D++]=128|C>>>12&63),T[D++]=128|C>>>6&63),T[D++]=128|63&C);return T})(S)},l.utf8decode=function(S){return c.nodebuffer?u.transformTo("nodebuffer",S).toString("utf-8"):(function(j){var T,C,b,R,D=j.length,F=new Array(2*D);for(T=C=0;T<D;)if((b=j[T++])<128)F[C++]=b;else if(4<(R=p[b]))F[C++]=65533,T+=R-1;else{for(b&=R===2?31:R===3?15:7;1<R&&T<D;)b=b<<6|63&j[T++],R--;1<R?F[C++]=65533:b<65536?F[C++]=b:(b-=65536,F[C++]=55296|b>>10&1023,F[C++]=56320|1023&b)}return F.length!==C&&(F.subarray?F=F.subarray(0,C):F.length=C),u.applyFromCharCode(F)})(S=u.transformTo(c.uint8array?"uint8array":"array",S))},u.inherits(x,d),x.prototype.processChunk=function(S){var j=u.transformTo(c.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var T=j;(j=new Uint8Array(T.length+this.leftOver.length)).set(this.leftOver,0),j.set(T,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var C=(function(R,D){var F;for((D=D||R.length)>R.length&&(D=R.length),F=D-1;0<=F&&(192&R[F])==128;)F--;return F<0||F===0?D:F+p[R[F]]>D?F:D})(j),b=j;C!==j.length&&(c.uint8array?(b=j.subarray(0,C),this.leftOver=j.subarray(C,j.length)):(b=j.slice(0,C),this.leftOver=j.slice(C,j.length))),this.push({data:l.utf8decode(b),meta:S.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=x,u.inherits(_,d),_.prototype.processChunk=function(S){this.push({data:l.utf8encode(S.data),meta:S.meta})},l.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,l){var u=r("./support"),c=r("./base64"),f=r("./nodejsUtils"),d=r("./external");function p(T){return T}function m(T,C){for(var b=0;b<T.length;++b)C[b]=255&T.charCodeAt(b);return C}r("setimmediate"),l.newBlob=function(T,C){l.checkSupport("blob");try{return new Blob([T],{type:C})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(T),b.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(T,C,b){var R=[],D=0,F=T.length;if(F<=b)return String.fromCharCode.apply(null,T);for(;D<F;)C==="array"||C==="nodebuffer"?R.push(String.fromCharCode.apply(null,T.slice(D,Math.min(D+b,F)))):R.push(String.fromCharCode.apply(null,T.subarray(D,Math.min(D+b,F)))),D+=b;return R.join("")},stringifyByChar:function(T){for(var C="",b=0;b<T.length;b++)C+=String.fromCharCode(T[b]);return C},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function _(T){var C=65536,b=l.getTypeOf(T),R=!0;if(b==="uint8array"?R=x.applyCanBeUsed.uint8array:b==="nodebuffer"&&(R=x.applyCanBeUsed.nodebuffer),R)for(;1<C;)try{return x.stringifyByChunk(T,b,C)}catch{C=Math.floor(C/2)}return x.stringifyByChar(T)}function S(T,C){for(var b=0;b<T.length;b++)C[b]=T[b];return C}l.applyFromCharCode=_;var j={};j.string={string:p,array:function(T){return m(T,new Array(T.length))},arraybuffer:function(T){return j.string.uint8array(T).buffer},uint8array:function(T){return m(T,new Uint8Array(T.length))},nodebuffer:function(T){return m(T,f.allocBuffer(T.length))}},j.array={string:_,array:p,arraybuffer:function(T){return new Uint8Array(T).buffer},uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return f.newBufferFrom(T)}},j.arraybuffer={string:function(T){return _(new Uint8Array(T))},array:function(T){return S(new Uint8Array(T),new Array(T.byteLength))},arraybuffer:p,uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return f.newBufferFrom(new Uint8Array(T))}},j.uint8array={string:_,array:function(T){return S(T,new Array(T.length))},arraybuffer:function(T){return T.buffer},uint8array:p,nodebuffer:function(T){return f.newBufferFrom(T)}},j.nodebuffer={string:_,array:function(T){return S(T,new Array(T.length))},arraybuffer:function(T){return j.nodebuffer.uint8array(T).buffer},uint8array:function(T){return S(T,new Uint8Array(T.length))},nodebuffer:p},l.transformTo=function(T,C){if(C=C||"",!T)return C;l.checkSupport(T);var b=l.getTypeOf(C);return j[b][T](C)},l.resolve=function(T){for(var C=T.split("/"),b=[],R=0;R<C.length;R++){var D=C[R];D==="."||D===""&&R!==0&&R!==C.length-1||(D===".."?b.pop():b.push(D))}return b.join("/")},l.getTypeOf=function(T){return typeof T=="string"?"string":Object.prototype.toString.call(T)==="[object Array]"?"array":u.nodebuffer&&f.isBuffer(T)?"nodebuffer":u.uint8array&&T instanceof Uint8Array?"uint8array":u.arraybuffer&&T instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(T){if(!u[T.toLowerCase()])throw new Error(T+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(T){var C,b,R="";for(b=0;b<(T||"").length;b++)R+="\\x"+((C=T.charCodeAt(b))<16?"0":"")+C.toString(16).toUpperCase();return R},l.delay=function(T,C,b){setImmediate(function(){T.apply(b||null,C||[])})},l.inherits=function(T,C){function b(){}b.prototype=C.prototype,T.prototype=new b},l.extend=function(){var T,C,b={};for(T=0;T<arguments.length;T++)for(C in arguments[T])Object.prototype.hasOwnProperty.call(arguments[T],C)&&b[C]===void 0&&(b[C]=arguments[T][C]);return b},l.prepareContent=function(T,C,b,R,D){return d.Promise.resolve(C).then(function(F){return u.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new d.Promise(function(I,se){var X=new FileReader;X.onload=function(le){I(le.target.result)},X.onerror=function(le){se(le.target.error)},X.readAsArrayBuffer(F)}):F}).then(function(F){var I=l.getTypeOf(F);return I?(I==="arraybuffer"?F=l.transformTo("uint8array",F):I==="string"&&(D?F=c.decode(F):b&&R!==!0&&(F=(function(se){return m(se,u.uint8array?new Uint8Array(se.length):new Array(se.length))})(F))),F):d.Promise.reject(new Error("Can't read the data of '"+T+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,l){var u=r("./reader/readerFor"),c=r("./utils"),f=r("./signature"),d=r("./zipEntry"),p=r("./support");function m(x){this.files=[],this.loadOptions=x}m.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(_)+", expected "+c.pretty(x)+")")}},isSignature:function(x,_){var S=this.reader.index;this.reader.setIndex(x);var j=this.reader.readString(4)===_;return this.reader.setIndex(S),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),_=p.uint8array?"uint8array":"array",S=c.transformTo(_,x);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,_,S,j=this.zip64EndOfCentralSize-44;0<j;)x=this.reader.readInt(2),_=this.reader.readInt(4),S=this.reader.readData(_),this.zip64ExtensibleData[x]={id:x,length:_,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,_;for(x=0;x<this.files.length;x++)_=this.files[x],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(x=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var _=x;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var j=_-S;if(0<j)this.isSignature(_,f.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(x){this.reader=u(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,l){var u=r("./reader/readerFor"),c=r("./utils"),f=r("./compressedObject"),d=r("./crc32"),p=r("./utf8"),m=r("./compressions"),x=r("./support");function _(S,j){this.options=S,this.loadOptions=j}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var j,T;if(S.skip(22),this.fileNameLength=S.readInt(2),T=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(T),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(C){for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)&&m[b].magic===C)return m[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,j,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var j=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(j),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S==0&&(this.dosPermissions=63&this.externalFileAttributes),S==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var j,T,C,b=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<b;)j=S.readInt(2),T=S.readInt(2),C=S.readData(T),this.extraFields[j]={id:j,length:T,value:C};S.setIndex(b)},handleUTF8:function(){var S=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var T=c.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(T)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var b=c.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var j=u(S.value);return j.readInt(1)!==1||d(this.fileName)!==j.readInt(4)?null:p.utf8decode(j.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var j=u(S.value);return j.readInt(1)!==1||d(this.fileComment)!==j.readInt(4)?null:p.utf8decode(j.readData(S.length-5))}return null}},a.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,l){function u(j,T,C){this.name=j,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=T,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var c=r("./stream/StreamHelper"),f=r("./stream/DataWorker"),d=r("./utf8"),p=r("./compressedObject"),m=r("./stream/GenericWorker");u.prototype={internalStream:function(j){var T=null,C="string";try{if(!j)throw new Error("No output type specified.");var b=(C=j.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),T=this._decompressWorker();var R=!this._dataBinary;R&&!b&&(T=T.pipe(new d.Utf8EncodeWorker)),!R&&b&&(T=T.pipe(new d.Utf8DecodeWorker))}catch(D){(T=new m("error")).error(D)}return new c(T,C,"")},async:function(j,T){return this.internalStream(j).accumulate(T)},nodeStream:function(j,T){return this.internalStream(j||"nodebuffer").toNodejsStream(T)},_compressWorker:function(j,T){if(this._data instanceof p&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(C,j,T)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new f(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<x.length;S++)u.prototype[x[S]]=_;a.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,l){(function(u){var c,f,d=u.MutationObserver||u.WebKitMutationObserver;if(d){var p=0,m=new d(j),x=u.document.createTextNode("");m.observe(x,{characterData:!0}),c=function(){x.data=p=++p%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var T=u.document.createElement("script");T.onreadystatechange=function(){j(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},u.document.documentElement.appendChild(T)}:function(){setTimeout(j,0)};else{var _=new u.MessageChannel;_.port1.onmessage=j,c=function(){_.port2.postMessage(0)}}var S=[];function j(){var T,C;f=!0;for(var b=S.length;b;){for(C=S,S=[],T=-1;++T<b;)C[T]();b=S.length}f=!1}a.exports=function(T){S.push(T)!==1||f||c()}}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,l){var u=r("immediate");function c(){}var f={},d=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function x(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,b!==c&&T(this,b)}function _(b,R,D){this.promise=b,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function S(b,R,D){u(function(){var F;try{F=R(D)}catch(I){return f.reject(b,I)}F===b?f.reject(b,new TypeError("Cannot resolve promise with itself")):f.resolve(b,F)})}function j(b){var R=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof R=="function")return function(){R.apply(b,arguments)}}function T(b,R){var D=!1;function F(X){D||(D=!0,f.reject(b,X))}function I(X){D||(D=!0,f.resolve(b,X))}var se=C(function(){R(I,F)});se.status==="error"&&F(se.value)}function C(b,R){var D={};try{D.value=b(R),D.status="success"}catch(F){D.status="error",D.value=F}return D}(a.exports=x).prototype.finally=function(b){if(typeof b!="function")return this;var R=this.constructor;return this.then(function(D){return R.resolve(b()).then(function(){return D})},function(D){return R.resolve(b()).then(function(){throw D})})},x.prototype.catch=function(b){return this.then(null,b)},x.prototype.then=function(b,R){if(typeof b!="function"&&this.state===p||typeof R!="function"&&this.state===d)return this;var D=new this.constructor(c);return this.state!==m?S(D,this.state===p?b:R,this.outcome):this.queue.push(new _(D,b,R)),D},_.prototype.callFulfilled=function(b){f.resolve(this.promise,b)},_.prototype.otherCallFulfilled=function(b){S(this.promise,this.onFulfilled,b)},_.prototype.callRejected=function(b){f.reject(this.promise,b)},_.prototype.otherCallRejected=function(b){S(this.promise,this.onRejected,b)},f.resolve=function(b,R){var D=C(j,R);if(D.status==="error")return f.reject(b,D.value);var F=D.value;if(F)T(b,F);else{b.state=p,b.outcome=R;for(var I=-1,se=b.queue.length;++I<se;)b.queue[I].callFulfilled(R)}return b},f.reject=function(b,R){b.state=d,b.outcome=R;for(var D=-1,F=b.queue.length;++D<F;)b.queue[D].callRejected(R);return b},x.resolve=function(b){return b instanceof this?b:f.resolve(new this(c),b)},x.reject=function(b){var R=new this(c);return f.reject(R,b)},x.all=function(b){var R=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=b.length,F=!1;if(!D)return this.resolve([]);for(var I=new Array(D),se=0,X=-1,le=new this(c);++X<D;)L(b[X],X);return le;function L(ae,ce){R.resolve(ae).then(function(z){I[ce]=z,++se!==D||F||(F=!0,f.resolve(le,I))},function(z){F||(F=!0,f.reject(le,z))})}},x.race=function(b){var R=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=b.length,F=!1;if(!D)return this.resolve([]);for(var I=-1,se=new this(c);++I<D;)X=b[I],R.resolve(X).then(function(le){F||(F=!0,f.resolve(se,le))},function(le){F||(F=!0,f.reject(se,le))});var X;return se}},{immediate:36}],38:[function(r,a,l){var u={};(0,r("./lib/utils/common").assign)(u,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,l){var u=r("./zlib/deflate"),c=r("./utils/common"),f=r("./utils/strings"),d=r("./zlib/messages"),p=r("./zlib/zstream"),m=Object.prototype.toString,x=0,_=-1,S=0,j=8;function T(b){if(!(this instanceof T))return new T(b);this.options=c.assign({level:_,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},b||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var D=u.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(D!==x)throw new Error(d[D]);if(R.header&&u.deflateSetHeader(this.strm,R.header),R.dictionary){var F;if(F=typeof R.dictionary=="string"?f.string2buf(R.dictionary):m.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(D=u.deflateSetDictionary(this.strm,F))!==x)throw new Error(d[D]);this._dict_set=!0}}function C(b,R){var D=new T(R);if(D.push(b,!0),D.err)throw D.msg||d[D.err];return D.result}T.prototype.push=function(b,R){var D,F,I=this.strm,se=this.options.chunkSize;if(this.ended)return!1;F=R===~~R?R:R===!0?4:0,typeof b=="string"?I.input=f.string2buf(b):m.call(b)==="[object ArrayBuffer]"?I.input=new Uint8Array(b):I.input=b,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new c.Buf8(se),I.next_out=0,I.avail_out=se),(D=u.deflate(I,F))!==1&&D!==x)return this.onEnd(D),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(c.shrinkBuf(I.output,I.next_out))):this.onData(c.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&D!==1);return F===4?(D=u.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===x):F!==2||(this.onEnd(x),!(I.avail_out=0))},T.prototype.onData=function(b){this.chunks.push(b)},T.prototype.onEnd=function(b){b===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},l.Deflate=T,l.deflate=C,l.deflateRaw=function(b,R){return(R=R||{}).raw=!0,C(b,R)},l.gzip=function(b,R){return(R=R||{}).gzip=!0,C(b,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,l){var u=r("./zlib/inflate"),c=r("./utils/common"),f=r("./utils/strings"),d=r("./zlib/constants"),p=r("./zlib/messages"),m=r("./zlib/zstream"),x=r("./zlib/gzheader"),_=Object.prototype.toString;function S(T){if(!(this instanceof S))return new S(T);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},T||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||T&&T.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var b=u.inflateInit2(this.strm,C.windowBits);if(b!==d.Z_OK)throw new Error(p[b]);this.header=new x,u.inflateGetHeader(this.strm,this.header)}function j(T,C){var b=new S(C);if(b.push(T,!0),b.err)throw b.msg||p[b.err];return b.result}S.prototype.push=function(T,C){var b,R,D,F,I,se,X=this.strm,le=this.options.chunkSize,L=this.options.dictionary,ae=!1;if(this.ended)return!1;R=C===~~C?C:C===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof T=="string"?X.input=f.binstring2buf(T):_.call(T)==="[object ArrayBuffer]"?X.input=new Uint8Array(T):X.input=T,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new c.Buf8(le),X.next_out=0,X.avail_out=le),(b=u.inflate(X,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&L&&(se=typeof L=="string"?f.string2buf(L):_.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,b=u.inflateSetDictionary(this.strm,se)),b===d.Z_BUF_ERROR&&ae===!0&&(b=d.Z_OK,ae=!1),b!==d.Z_STREAM_END&&b!==d.Z_OK)return this.onEnd(b),!(this.ended=!0);X.next_out&&(X.avail_out!==0&&b!==d.Z_STREAM_END&&(X.avail_in!==0||R!==d.Z_FINISH&&R!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=f.utf8border(X.output,X.next_out),F=X.next_out-D,I=f.buf2string(X.output,D),X.next_out=F,X.avail_out=le-F,F&&c.arraySet(X.output,X.output,D,F,0),this.onData(I)):this.onData(c.shrinkBuf(X.output,X.next_out)))),X.avail_in===0&&X.avail_out===0&&(ae=!0)}while((0<X.avail_in||X.avail_out===0)&&b!==d.Z_STREAM_END);return b===d.Z_STREAM_END&&(R=d.Z_FINISH),R===d.Z_FINISH?(b=u.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===d.Z_OK):R!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(X.avail_out=0))},S.prototype.onData=function(T){this.chunks.push(T)},S.prototype.onEnd=function(T){T===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},l.Inflate=S,l.inflate=j,l.inflateRaw=function(T,C){return(C=C||{}).raw=!0,j(T,C)},l.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var x in m)m.hasOwnProperty(x)&&(d[x]=m[x])}}return d},l.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var c={arraySet:function(d,p,m,x,_){if(p.subarray&&d.subarray)d.set(p.subarray(m,m+x),_);else for(var S=0;S<x;S++)d[_+S]=p[m+S]},flattenChunks:function(d){var p,m,x,_,S,j;for(p=x=0,m=d.length;p<m;p++)x+=d[p].length;for(j=new Uint8Array(x),p=_=0,m=d.length;p<m;p++)S=d[p],j.set(S,_),_+=S.length;return j}},f={arraySet:function(d,p,m,x,_){for(var S=0;S<x;S++)d[_+S]=p[m+S]},flattenChunks:function(d){return[].concat.apply([],d)}};l.setTyped=function(d){d?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,c)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,f))},l.setTyped(u)},{}],42:[function(r,a,l){var u=r("./common"),c=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var d=new u.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(x,_){if(_<65537&&(x.subarray&&f||!x.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(x,_));for(var S="",j=0;j<_;j++)S+=String.fromCharCode(x[j]);return S}d[254]=d[254]=1,l.string2buf=function(x){var _,S,j,T,C,b=x.length,R=0;for(T=0;T<b;T++)(64512&(S=x.charCodeAt(T)))==55296&&T+1<b&&(64512&(j=x.charCodeAt(T+1)))==56320&&(S=65536+(S-55296<<10)+(j-56320),T++),R+=S<128?1:S<2048?2:S<65536?3:4;for(_=new u.Buf8(R),T=C=0;C<R;T++)(64512&(S=x.charCodeAt(T)))==55296&&T+1<b&&(64512&(j=x.charCodeAt(T+1)))==56320&&(S=65536+(S-55296<<10)+(j-56320),T++),S<128?_[C++]=S:(S<2048?_[C++]=192|S>>>6:(S<65536?_[C++]=224|S>>>12:(_[C++]=240|S>>>18,_[C++]=128|S>>>12&63),_[C++]=128|S>>>6&63),_[C++]=128|63&S);return _},l.buf2binstring=function(x){return m(x,x.length)},l.binstring2buf=function(x){for(var _=new u.Buf8(x.length),S=0,j=_.length;S<j;S++)_[S]=x.charCodeAt(S);return _},l.buf2string=function(x,_){var S,j,T,C,b=_||x.length,R=new Array(2*b);for(S=j=0;S<b;)if((T=x[S++])<128)R[j++]=T;else if(4<(C=d[T]))R[j++]=65533,S+=C-1;else{for(T&=C===2?31:C===3?15:7;1<C&&S<b;)T=T<<6|63&x[S++],C--;1<C?R[j++]=65533:T<65536?R[j++]=T:(T-=65536,R[j++]=55296|T>>10&1023,R[j++]=56320|1023&T)}return m(R,j)},l.utf8border=function(x,_){var S;for((_=_||x.length)>x.length&&(_=x.length),S=_-1;0<=S&&(192&x[S])==128;)S--;return S<0||S===0?_:S+d[x[S]]>_?S:_}},{"./common":41}],43:[function(r,a,l){a.exports=function(u,c,f,d){for(var p=65535&u|0,m=u>>>16&65535|0,x=0;f!==0;){for(f-=x=2e3<f?2e3:f;m=m+(p=p+c[d++]|0)|0,--x;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(r,a,l){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,l){var u=(function(){for(var c,f=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;f[d]=c}return f})();a.exports=function(c,f,d,p){var m=u,x=p+d;c^=-1;for(var _=p;_<x;_++)c=c>>>8^m[255&(c^f[_])];return-1^c}},{}],46:[function(r,a,l){var u,c=r("../utils/common"),f=r("./trees"),d=r("./adler32"),p=r("./crc32"),m=r("./messages"),x=0,_=4,S=0,j=-2,T=-1,C=4,b=2,R=8,D=9,F=286,I=30,se=19,X=2*F+1,le=15,L=3,ae=258,ce=ae+L+1,z=42,re=113,N=1,J=2,V=3,Y=4;function ge(A,ye){return A.msg=m[ye],ye}function ue(A){return(A<<1)-(4<A?9:0)}function G(A){for(var ye=A.length;0<=--ye;)A[ye]=0}function $(A){var ye=A.state,U=ye.pending;U>A.avail_out&&(U=A.avail_out),U!==0&&(c.arraySet(A.output,ye.pending_buf,ye.pending_out,U,A.next_out),A.next_out+=U,ye.pending_out+=U,A.total_out+=U,A.avail_out-=U,ye.pending-=U,ye.pending===0&&(ye.pending_out=0))}function B(A,ye){f._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ye),A.block_start=A.strstart,$(A.strm)}function Z(A,ye){A.pending_buf[A.pending++]=ye}function ne(A,ye){A.pending_buf[A.pending++]=ye>>>8&255,A.pending_buf[A.pending++]=255&ye}function fe(A,ye){var U,y,v=A.max_chain_length,E=A.strstart,P=A.prev_length,ee=A.nice_match,K=A.strstart>A.w_size-ce?A.strstart-(A.w_size-ce):0,de=A.window,Te=A.w_mask,Se=A.prev,Ce=A.strstart+ae,De=de[E+P-1],Ue=de[E+P];A.prev_length>=A.good_match&&(v>>=2),ee>A.lookahead&&(ee=A.lookahead);do if(de[(U=ye)+P]===Ue&&de[U+P-1]===De&&de[U]===de[E]&&de[++U]===de[E+1]){E+=2,U++;do;while(de[++E]===de[++U]&&de[++E]===de[++U]&&de[++E]===de[++U]&&de[++E]===de[++U]&&de[++E]===de[++U]&&de[++E]===de[++U]&&de[++E]===de[++U]&&de[++E]===de[++U]&&E<Ce);if(y=ae-(Ce-E),E=Ce-ae,P<y){if(A.match_start=ye,ee<=(P=y))break;De=de[E+P-1],Ue=de[E+P]}}while((ye=Se[ye&Te])>K&&--v!=0);return P<=A.lookahead?P:A.lookahead}function te(A){var ye,U,y,v,E,P,ee,K,de,Te,Se=A.w_size;do{if(v=A.window_size-A.lookahead-A.strstart,A.strstart>=Se+(Se-ce)){for(c.arraySet(A.window,A.window,Se,Se,0),A.match_start-=Se,A.strstart-=Se,A.block_start-=Se,ye=U=A.hash_size;y=A.head[--ye],A.head[ye]=Se<=y?y-Se:0,--U;);for(ye=U=Se;y=A.prev[--ye],A.prev[ye]=Se<=y?y-Se:0,--U;);v+=Se}if(A.strm.avail_in===0)break;if(P=A.strm,ee=A.window,K=A.strstart+A.lookahead,de=v,Te=void 0,Te=P.avail_in,de<Te&&(Te=de),U=Te===0?0:(P.avail_in-=Te,c.arraySet(ee,P.input,P.next_in,Te,K),P.state.wrap===1?P.adler=d(P.adler,ee,Te,K):P.state.wrap===2&&(P.adler=p(P.adler,ee,Te,K)),P.next_in+=Te,P.total_in+=Te,Te),A.lookahead+=U,A.lookahead+A.insert>=L)for(E=A.strstart-A.insert,A.ins_h=A.window[E],A.ins_h=(A.ins_h<<A.hash_shift^A.window[E+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[E+L-1])&A.hash_mask,A.prev[E&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=E,E++,A.insert--,!(A.lookahead+A.insert<L)););}while(A.lookahead<ce&&A.strm.avail_in!==0)}function O(A,ye){for(var U,y;;){if(A.lookahead<ce){if(te(A),A.lookahead<ce&&ye===x)return N;if(A.lookahead===0)break}if(U=0,A.lookahead>=L&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,U=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),U!==0&&A.strstart-U<=A.w_size-ce&&(A.match_length=fe(A,U)),A.match_length>=L)if(y=f._tr_tally(A,A.strstart-A.match_start,A.match_length-L),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=L){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,U=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else y=f._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(y&&(B(A,!1),A.strm.avail_out===0))return N}return A.insert=A.strstart<L-1?A.strstart:L-1,ye===_?(B(A,!0),A.strm.avail_out===0?V:Y):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?N:J}function k(A,ye){for(var U,y,v;;){if(A.lookahead<ce){if(te(A),A.lookahead<ce&&ye===x)return N;if(A.lookahead===0)break}if(U=0,A.lookahead>=L&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,U=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=L-1,U!==0&&A.prev_length<A.max_lazy_match&&A.strstart-U<=A.w_size-ce&&(A.match_length=fe(A,U),A.match_length<=5&&(A.strategy===1||A.match_length===L&&4096<A.strstart-A.match_start)&&(A.match_length=L-1)),A.prev_length>=L&&A.match_length<=A.prev_length){for(v=A.strstart+A.lookahead-L,y=f._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-L),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=v&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,U=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=L-1,A.strstart++,y&&(B(A,!1),A.strm.avail_out===0))return N}else if(A.match_available){if((y=f._tr_tally(A,0,A.window[A.strstart-1]))&&B(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return N}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(y=f._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<L-1?A.strstart:L-1,ye===_?(B(A,!0),A.strm.avail_out===0?V:Y):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?N:J}function ie(A,ye,U,y,v){this.good_length=A,this.max_lazy=ye,this.nice_length=U,this.max_chain=y,this.func=v}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*X),this.dyn_dtree=new c.Buf16(2*(2*I+1)),this.bl_tree=new c.Buf16(2*(2*se+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(le+1),this.heap=new c.Buf16(2*F+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*F+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(A){var ye;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=b,(ye=A.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?z:re,A.adler=ye.wrap===2?0:1,ye.last_flush=x,f._tr_init(ye),S):ge(A,j)}function W(A){var ye=q(A);return ye===S&&(function(U){U.window_size=2*U.w_size,G(U.head),U.max_lazy_match=u[U.level].max_lazy,U.good_match=u[U.level].good_length,U.nice_match=u[U.level].nice_length,U.max_chain_length=u[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=L-1,U.match_available=0,U.ins_h=0})(A.state),ye}function be(A,ye,U,y,v,E){if(!A)return j;var P=1;if(ye===T&&(ye=6),y<0?(P=0,y=-y):15<y&&(P=2,y-=16),v<1||D<v||U!==R||y<8||15<y||ye<0||9<ye||E<0||C<E)return ge(A,j);y===8&&(y=9);var ee=new Q;return(A.state=ee).strm=A,ee.wrap=P,ee.gzhead=null,ee.w_bits=y,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=v+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+L-1)/L),ee.window=new c.Buf8(2*ee.w_size),ee.head=new c.Buf16(ee.hash_size),ee.prev=new c.Buf16(ee.w_size),ee.lit_bufsize=1<<v+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new c.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=ye,ee.strategy=E,ee.method=U,W(A)}u=[new ie(0,0,0,0,function(A,ye){var U=65535;for(U>A.pending_buf_size-5&&(U=A.pending_buf_size-5);;){if(A.lookahead<=1){if(te(A),A.lookahead===0&&ye===x)return N;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var y=A.block_start+U;if((A.strstart===0||A.strstart>=y)&&(A.lookahead=A.strstart-y,A.strstart=y,B(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-ce&&(B(A,!1),A.strm.avail_out===0))return N}return A.insert=0,ye===_?(B(A,!0),A.strm.avail_out===0?V:Y):(A.strstart>A.block_start&&(B(A,!1),A.strm.avail_out),N)}),new ie(4,4,8,4,O),new ie(4,5,16,8,O),new ie(4,6,32,32,O),new ie(4,4,16,16,k),new ie(8,16,32,32,k),new ie(8,16,128,128,k),new ie(8,32,128,256,k),new ie(32,128,258,1024,k),new ie(32,258,258,4096,k)],l.deflateInit=function(A,ye){return be(A,ye,R,15,8,0)},l.deflateInit2=be,l.deflateReset=W,l.deflateResetKeep=q,l.deflateSetHeader=function(A,ye){return A&&A.state?A.state.wrap!==2?j:(A.state.gzhead=ye,S):j},l.deflate=function(A,ye){var U,y,v,E;if(!A||!A.state||5<ye||ye<0)return A?ge(A,j):j;if(y=A.state,!A.output||!A.input&&A.avail_in!==0||y.status===666&&ye!==_)return ge(A,A.avail_out===0?-5:j);if(y.strm=A,U=y.last_flush,y.last_flush=ye,y.status===z)if(y.wrap===2)A.adler=0,Z(y,31),Z(y,139),Z(y,8),y.gzhead?(Z(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),Z(y,255&y.gzhead.time),Z(y,y.gzhead.time>>8&255),Z(y,y.gzhead.time>>16&255),Z(y,y.gzhead.time>>24&255),Z(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),Z(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(Z(y,255&y.gzhead.extra.length),Z(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(A.adler=p(A.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(Z(y,0),Z(y,0),Z(y,0),Z(y,0),Z(y,0),Z(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),Z(y,3),y.status=re);else{var P=R+(y.w_bits-8<<4)<<8;P|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(P|=32),P+=31-P%31,y.status=re,ne(y,P),y.strstart!==0&&(ne(y,A.adler>>>16),ne(y,65535&A.adler)),A.adler=1}if(y.status===69)if(y.gzhead.extra){for(v=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>v&&(A.adler=p(A.adler,y.pending_buf,y.pending-v,v)),$(A),v=y.pending,y.pending!==y.pending_buf_size));)Z(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>v&&(A.adler=p(A.adler,y.pending_buf,y.pending-v,v)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){v=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>v&&(A.adler=p(A.adler,y.pending_buf,y.pending-v,v)),$(A),v=y.pending,y.pending===y.pending_buf_size)){E=1;break}E=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,Z(y,E)}while(E!==0);y.gzhead.hcrc&&y.pending>v&&(A.adler=p(A.adler,y.pending_buf,y.pending-v,v)),E===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){v=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>v&&(A.adler=p(A.adler,y.pending_buf,y.pending-v,v)),$(A),v=y.pending,y.pending===y.pending_buf_size)){E=1;break}E=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,Z(y,E)}while(E!==0);y.gzhead.hcrc&&y.pending>v&&(A.adler=p(A.adler,y.pending_buf,y.pending-v,v)),E===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&$(A),y.pending+2<=y.pending_buf_size&&(Z(y,255&A.adler),Z(y,A.adler>>8&255),A.adler=0,y.status=re)):y.status=re),y.pending!==0){if($(A),A.avail_out===0)return y.last_flush=-1,S}else if(A.avail_in===0&&ue(ye)<=ue(U)&&ye!==_)return ge(A,-5);if(y.status===666&&A.avail_in!==0)return ge(A,-5);if(A.avail_in!==0||y.lookahead!==0||ye!==x&&y.status!==666){var ee=y.strategy===2?(function(K,de){for(var Te;;){if(K.lookahead===0&&(te(K),K.lookahead===0)){if(de===x)return N;break}if(K.match_length=0,Te=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,Te&&(B(K,!1),K.strm.avail_out===0))return N}return K.insert=0,de===_?(B(K,!0),K.strm.avail_out===0?V:Y):K.last_lit&&(B(K,!1),K.strm.avail_out===0)?N:J})(y,ye):y.strategy===3?(function(K,de){for(var Te,Se,Ce,De,Ue=K.window;;){if(K.lookahead<=ae){if(te(K),K.lookahead<=ae&&de===x)return N;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=L&&0<K.strstart&&(Se=Ue[Ce=K.strstart-1])===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]){De=K.strstart+ae;do;while(Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Ce<De);K.match_length=ae-(De-Ce),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=L?(Te=f._tr_tally(K,1,K.match_length-L),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(Te=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),Te&&(B(K,!1),K.strm.avail_out===0))return N}return K.insert=0,de===_?(B(K,!0),K.strm.avail_out===0?V:Y):K.last_lit&&(B(K,!1),K.strm.avail_out===0)?N:J})(y,ye):u[y.level].func(y,ye);if(ee!==V&&ee!==Y||(y.status=666),ee===N||ee===V)return A.avail_out===0&&(y.last_flush=-1),S;if(ee===J&&(ye===1?f._tr_align(y):ye!==5&&(f._tr_stored_block(y,0,0,!1),ye===3&&(G(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),$(A),A.avail_out===0))return y.last_flush=-1,S}return ye!==_?S:y.wrap<=0?1:(y.wrap===2?(Z(y,255&A.adler),Z(y,A.adler>>8&255),Z(y,A.adler>>16&255),Z(y,A.adler>>24&255),Z(y,255&A.total_in),Z(y,A.total_in>>8&255),Z(y,A.total_in>>16&255),Z(y,A.total_in>>24&255)):(ne(y,A.adler>>>16),ne(y,65535&A.adler)),$(A),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?S:1)},l.deflateEnd=function(A){var ye;return A&&A.state?(ye=A.state.status)!==z&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==re&&ye!==666?ge(A,j):(A.state=null,ye===re?ge(A,-3):S):j},l.deflateSetDictionary=function(A,ye){var U,y,v,E,P,ee,K,de,Te=ye.length;if(!A||!A.state||(E=(U=A.state).wrap)===2||E===1&&U.status!==z||U.lookahead)return j;for(E===1&&(A.adler=d(A.adler,ye,Te,0)),U.wrap=0,Te>=U.w_size&&(E===0&&(G(U.head),U.strstart=0,U.block_start=0,U.insert=0),de=new c.Buf8(U.w_size),c.arraySet(de,ye,Te-U.w_size,U.w_size,0),ye=de,Te=U.w_size),P=A.avail_in,ee=A.next_in,K=A.input,A.avail_in=Te,A.next_in=0,A.input=ye,te(U);U.lookahead>=L;){for(y=U.strstart,v=U.lookahead-(L-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[y+L-1])&U.hash_mask,U.prev[y&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=y,y++,--v;);U.strstart=y,U.lookahead=L-1,te(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=L-1,U.match_available=0,A.next_in=ee,A.input=K,A.avail_in=P,U.wrap=E,S},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,l){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,l){a.exports=function(u,c){var f,d,p,m,x,_,S,j,T,C,b,R,D,F,I,se,X,le,L,ae,ce,z,re,N,J;f=u.state,d=u.next_in,N=u.input,p=d+(u.avail_in-5),m=u.next_out,J=u.output,x=m-(c-u.avail_out),_=m+(u.avail_out-257),S=f.dmax,j=f.wsize,T=f.whave,C=f.wnext,b=f.window,R=f.hold,D=f.bits,F=f.lencode,I=f.distcode,se=(1<<f.lenbits)-1,X=(1<<f.distbits)-1;e:do{D<15&&(R+=N[d++]<<D,D+=8,R+=N[d++]<<D,D+=8),le=F[R&se];t:for(;;){if(R>>>=L=le>>>24,D-=L,(L=le>>>16&255)===0)J[m++]=65535&le;else{if(!(16&L)){if((64&L)==0){le=F[(65535&le)+(R&(1<<L)-1)];continue t}if(32&L){f.mode=12;break e}u.msg="invalid literal/length code",f.mode=30;break e}ae=65535&le,(L&=15)&&(D<L&&(R+=N[d++]<<D,D+=8),ae+=R&(1<<L)-1,R>>>=L,D-=L),D<15&&(R+=N[d++]<<D,D+=8,R+=N[d++]<<D,D+=8),le=I[R&X];n:for(;;){if(R>>>=L=le>>>24,D-=L,!(16&(L=le>>>16&255))){if((64&L)==0){le=I[(65535&le)+(R&(1<<L)-1)];continue n}u.msg="invalid distance code",f.mode=30;break e}if(ce=65535&le,D<(L&=15)&&(R+=N[d++]<<D,(D+=8)<L&&(R+=N[d++]<<D,D+=8)),S<(ce+=R&(1<<L)-1)){u.msg="invalid distance too far back",f.mode=30;break e}if(R>>>=L,D-=L,(L=m-x)<ce){if(T<(L=ce-L)&&f.sane){u.msg="invalid distance too far back",f.mode=30;break e}if(re=b,(z=0)===C){if(z+=j-L,L<ae){for(ae-=L;J[m++]=b[z++],--L;);z=m-ce,re=J}}else if(C<L){if(z+=j+C-L,(L-=C)<ae){for(ae-=L;J[m++]=b[z++],--L;);if(z=0,C<ae){for(ae-=L=C;J[m++]=b[z++],--L;);z=m-ce,re=J}}}else if(z+=C-L,L<ae){for(ae-=L;J[m++]=b[z++],--L;);z=m-ce,re=J}for(;2<ae;)J[m++]=re[z++],J[m++]=re[z++],J[m++]=re[z++],ae-=3;ae&&(J[m++]=re[z++],1<ae&&(J[m++]=re[z++]))}else{for(z=m-ce;J[m++]=J[z++],J[m++]=J[z++],J[m++]=J[z++],2<(ae-=3););ae&&(J[m++]=J[z++],1<ae&&(J[m++]=J[z++]))}break}}break}}while(d<p&&m<_);d-=ae=D>>3,R&=(1<<(D-=ae<<3))-1,u.next_in=d,u.next_out=m,u.avail_in=d<p?p-d+5:5-(d-p),u.avail_out=m<_?_-m+257:257-(m-_),f.hold=R,f.bits=D}},{}],49:[function(r,a,l){var u=r("../utils/common"),c=r("./adler32"),f=r("./crc32"),d=r("./inffast"),p=r("./inftrees"),m=1,x=2,_=0,S=-2,j=1,T=852,C=592;function b(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(z){var re;return z&&z.state?(re=z.state,z.total_in=z.total_out=re.total=0,z.msg="",re.wrap&&(z.adler=1&re.wrap),re.mode=j,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new u.Buf32(T),re.distcode=re.distdyn=new u.Buf32(C),re.sane=1,re.back=-1,_):S}function F(z){var re;return z&&z.state?((re=z.state).wsize=0,re.whave=0,re.wnext=0,D(z)):S}function I(z,re){var N,J;return z&&z.state?(J=z.state,re<0?(N=0,re=-re):(N=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?S:(J.window!==null&&J.wbits!==re&&(J.window=null),J.wrap=N,J.wbits=re,F(z))):S}function se(z,re){var N,J;return z?(J=new R,(z.state=J).window=null,(N=I(z,re))!==_&&(z.state=null),N):S}var X,le,L=!0;function ae(z){if(L){var re;for(X=new u.Buf32(512),le=new u.Buf32(32),re=0;re<144;)z.lens[re++]=8;for(;re<256;)z.lens[re++]=9;for(;re<280;)z.lens[re++]=7;for(;re<288;)z.lens[re++]=8;for(p(m,z.lens,0,288,X,0,z.work,{bits:9}),re=0;re<32;)z.lens[re++]=5;p(x,z.lens,0,32,le,0,z.work,{bits:5}),L=!1}z.lencode=X,z.lenbits=9,z.distcode=le,z.distbits=5}function ce(z,re,N,J){var V,Y=z.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new u.Buf8(Y.wsize)),J>=Y.wsize?(u.arraySet(Y.window,re,N-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(J<(V=Y.wsize-Y.wnext)&&(V=J),u.arraySet(Y.window,re,N-J,V,Y.wnext),(J-=V)?(u.arraySet(Y.window,re,N-J,J,0),Y.wnext=J,Y.whave=Y.wsize):(Y.wnext+=V,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=V))),0}l.inflateReset=F,l.inflateReset2=I,l.inflateResetKeep=D,l.inflateInit=function(z){return se(z,15)},l.inflateInit2=se,l.inflate=function(z,re){var N,J,V,Y,ge,ue,G,$,B,Z,ne,fe,te,O,k,ie,Q,q,W,be,A,ye,U,y,v=0,E=new u.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return S;(N=z.state).mode===12&&(N.mode=13),ge=z.next_out,V=z.output,G=z.avail_out,Y=z.next_in,J=z.input,ue=z.avail_in,$=N.hold,B=N.bits,Z=ue,ne=G,ye=_;e:for(;;)switch(N.mode){case j:if(N.wrap===0){N.mode=13;break}for(;B<16;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if(2&N.wrap&&$===35615){E[N.check=0]=255&$,E[1]=$>>>8&255,N.check=f(N.check,E,2,0),B=$=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&$)<<8)+($>>8))%31){z.msg="incorrect header check",N.mode=30;break}if((15&$)!=8){z.msg="unknown compression method",N.mode=30;break}if(B-=4,A=8+(15&($>>>=4)),N.wbits===0)N.wbits=A;else if(A>N.wbits){z.msg="invalid window size",N.mode=30;break}N.dmax=1<<A,z.adler=N.check=1,N.mode=512&$?10:12,B=$=0;break;case 2:for(;B<16;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if(N.flags=$,(255&N.flags)!=8){z.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){z.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=$>>8&1),512&N.flags&&(E[0]=255&$,E[1]=$>>>8&255,N.check=f(N.check,E,2,0)),B=$=0,N.mode=3;case 3:for(;B<32;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}N.head&&(N.head.time=$),512&N.flags&&(E[0]=255&$,E[1]=$>>>8&255,E[2]=$>>>16&255,E[3]=$>>>24&255,N.check=f(N.check,E,4,0)),B=$=0,N.mode=4;case 4:for(;B<16;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}N.head&&(N.head.xflags=255&$,N.head.os=$>>8),512&N.flags&&(E[0]=255&$,E[1]=$>>>8&255,N.check=f(N.check,E,2,0)),B=$=0,N.mode=5;case 5:if(1024&N.flags){for(;B<16;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}N.length=$,N.head&&(N.head.extra_len=$),512&N.flags&&(E[0]=255&$,E[1]=$>>>8&255,N.check=f(N.check,E,2,0)),B=$=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(ue<(fe=N.length)&&(fe=ue),fe&&(N.head&&(A=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),u.arraySet(N.head.extra,J,Y,fe,A)),512&N.flags&&(N.check=f(N.check,J,fe,Y)),ue-=fe,Y+=fe,N.length-=fe),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(ue===0)break e;for(fe=0;A=J[Y+fe++],N.head&&A&&N.length<65536&&(N.head.name+=String.fromCharCode(A)),A&&fe<ue;);if(512&N.flags&&(N.check=f(N.check,J,fe,Y)),ue-=fe,Y+=fe,A)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(ue===0)break e;for(fe=0;A=J[Y+fe++],N.head&&A&&N.length<65536&&(N.head.comment+=String.fromCharCode(A)),A&&fe<ue;);if(512&N.flags&&(N.check=f(N.check,J,fe,Y)),ue-=fe,Y+=fe,A)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;B<16;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if($!==(65535&N.check)){z.msg="header crc mismatch",N.mode=30;break}B=$=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),z.adler=N.check=0,N.mode=12;break;case 10:for(;B<32;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}z.adler=N.check=b($),B=$=0,N.mode=11;case 11:if(N.havedict===0)return z.next_out=ge,z.avail_out=G,z.next_in=Y,z.avail_in=ue,N.hold=$,N.bits=B,2;z.adler=N.check=1,N.mode=12;case 12:if(re===5||re===6)break e;case 13:if(N.last){$>>>=7&B,B-=7&B,N.mode=27;break}for(;B<3;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}switch(N.last=1&$,B-=1,3&($>>>=1)){case 0:N.mode=14;break;case 1:if(ae(N),N.mode=20,re!==6)break;$>>>=2,B-=2;break e;case 2:N.mode=17;break;case 3:z.msg="invalid block type",N.mode=30}$>>>=2,B-=2;break;case 14:for($>>>=7&B,B-=7&B;B<32;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if((65535&$)!=($>>>16^65535)){z.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&$,B=$=0,N.mode=15,re===6)break e;case 15:N.mode=16;case 16:if(fe=N.length){if(ue<fe&&(fe=ue),G<fe&&(fe=G),fe===0)break e;u.arraySet(V,J,Y,fe,ge),ue-=fe,Y+=fe,G-=fe,ge+=fe,N.length-=fe;break}N.mode=12;break;case 17:for(;B<14;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if(N.nlen=257+(31&$),$>>>=5,B-=5,N.ndist=1+(31&$),$>>>=5,B-=5,N.ncode=4+(15&$),$>>>=4,B-=4,286<N.nlen||30<N.ndist){z.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;B<3;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}N.lens[P[N.have++]]=7&$,$>>>=3,B-=3}for(;N.have<19;)N.lens[P[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,U={bits:N.lenbits},ye=p(0,N.lens,0,19,N.lencode,0,N.work,U),N.lenbits=U.bits,ye){z.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ie=(v=N.lencode[$&(1<<N.lenbits)-1])>>>16&255,Q=65535&v,!((k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if(Q<16)$>>>=k,B-=k,N.lens[N.have++]=Q;else{if(Q===16){for(y=k+2;B<y;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if($>>>=k,B-=k,N.have===0){z.msg="invalid bit length repeat",N.mode=30;break}A=N.lens[N.have-1],fe=3+(3&$),$>>>=2,B-=2}else if(Q===17){for(y=k+3;B<y;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}B-=k,A=0,fe=3+(7&($>>>=k)),$>>>=3,B-=3}else{for(y=k+7;B<y;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}B-=k,A=0,fe=11+(127&($>>>=k)),$>>>=7,B-=7}if(N.have+fe>N.nlen+N.ndist){z.msg="invalid bit length repeat",N.mode=30;break}for(;fe--;)N.lens[N.have++]=A}}if(N.mode===30)break;if(N.lens[256]===0){z.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,U={bits:N.lenbits},ye=p(m,N.lens,0,N.nlen,N.lencode,0,N.work,U),N.lenbits=U.bits,ye){z.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,U={bits:N.distbits},ye=p(x,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,U),N.distbits=U.bits,ye){z.msg="invalid distances set",N.mode=30;break}if(N.mode=20,re===6)break e;case 20:N.mode=21;case 21:if(6<=ue&&258<=G){z.next_out=ge,z.avail_out=G,z.next_in=Y,z.avail_in=ue,N.hold=$,N.bits=B,d(z,ne),ge=z.next_out,V=z.output,G=z.avail_out,Y=z.next_in,J=z.input,ue=z.avail_in,$=N.hold,B=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ie=(v=N.lencode[$&(1<<N.lenbits)-1])>>>16&255,Q=65535&v,!((k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if(ie&&(240&ie)==0){for(q=k,W=ie,be=Q;ie=(v=N.lencode[be+(($&(1<<q+W)-1)>>q)])>>>16&255,Q=65535&v,!(q+(k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}$>>>=q,B-=q,N.back+=q}if($>>>=k,B-=k,N.back+=k,N.length=Q,ie===0){N.mode=26;break}if(32&ie){N.back=-1,N.mode=12;break}if(64&ie){z.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ie,N.mode=22;case 22:if(N.extra){for(y=N.extra;B<y;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}N.length+=$&(1<<N.extra)-1,$>>>=N.extra,B-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ie=(v=N.distcode[$&(1<<N.distbits)-1])>>>16&255,Q=65535&v,!((k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if((240&ie)==0){for(q=k,W=ie,be=Q;ie=(v=N.distcode[be+(($&(1<<q+W)-1)>>q)])>>>16&255,Q=65535&v,!(q+(k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}$>>>=q,B-=q,N.back+=q}if($>>>=k,B-=k,N.back+=k,64&ie){z.msg="invalid distance code",N.mode=30;break}N.offset=Q,N.extra=15&ie,N.mode=24;case 24:if(N.extra){for(y=N.extra;B<y;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}N.offset+=$&(1<<N.extra)-1,$>>>=N.extra,B-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){z.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(G===0)break e;if(fe=ne-G,N.offset>fe){if((fe=N.offset-fe)>N.whave&&N.sane){z.msg="invalid distance too far back",N.mode=30;break}te=fe>N.wnext?(fe-=N.wnext,N.wsize-fe):N.wnext-fe,fe>N.length&&(fe=N.length),O=N.window}else O=V,te=ge-N.offset,fe=N.length;for(G<fe&&(fe=G),G-=fe,N.length-=fe;V[ge++]=O[te++],--fe;);N.length===0&&(N.mode=21);break;case 26:if(G===0)break e;V[ge++]=N.length,G--,N.mode=21;break;case 27:if(N.wrap){for(;B<32;){if(ue===0)break e;ue--,$|=J[Y++]<<B,B+=8}if(ne-=G,z.total_out+=ne,N.total+=ne,ne&&(z.adler=N.check=N.flags?f(N.check,V,ne,ge-ne):c(N.check,V,ne,ge-ne)),ne=G,(N.flags?$:b($))!==N.check){z.msg="incorrect data check",N.mode=30;break}B=$=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;B<32;){if(ue===0)break e;ue--,$+=J[Y++]<<B,B+=8}if($!==(4294967295&N.total)){z.msg="incorrect length check",N.mode=30;break}B=$=0}N.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return S}return z.next_out=ge,z.avail_out=G,z.next_in=Y,z.avail_in=ue,N.hold=$,N.bits=B,(N.wsize||ne!==z.avail_out&&N.mode<30&&(N.mode<27||re!==4))&&ce(z,z.output,z.next_out,ne-z.avail_out)?(N.mode=31,-4):(Z-=z.avail_in,ne-=z.avail_out,z.total_in+=Z,z.total_out+=ne,N.total+=ne,N.wrap&&ne&&(z.adler=N.check=N.flags?f(N.check,V,ne,z.next_out-ne):c(N.check,V,ne,z.next_out-ne)),z.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(Z==0&&ne===0||re===4)&&ye===_&&(ye=-5),ye)},l.inflateEnd=function(z){if(!z||!z.state)return S;var re=z.state;return re.window&&(re.window=null),z.state=null,_},l.inflateGetHeader=function(z,re){var N;return z&&z.state?(2&(N=z.state).wrap)==0?S:((N.head=re).done=!1,_):S},l.inflateSetDictionary=function(z,re){var N,J=re.length;return z&&z.state?(N=z.state).wrap!==0&&N.mode!==11?S:N.mode===11&&c(1,re,J,0)!==N.check?-3:ce(z,re,J,J)?(N.mode=31,-4):(N.havedict=1,_):S},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,l){var u=r("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(m,x,_,S,j,T,C,b){var R,D,F,I,se,X,le,L,ae,ce=b.bits,z=0,re=0,N=0,J=0,V=0,Y=0,ge=0,ue=0,G=0,$=0,B=null,Z=0,ne=new u.Buf16(16),fe=new u.Buf16(16),te=null,O=0;for(z=0;z<=15;z++)ne[z]=0;for(re=0;re<S;re++)ne[x[_+re]]++;for(V=ce,J=15;1<=J&&ne[J]===0;J--);if(J<V&&(V=J),J===0)return j[T++]=20971520,j[T++]=20971520,b.bits=1,0;for(N=1;N<J&&ne[N]===0;N++);for(V<N&&(V=N),z=ue=1;z<=15;z++)if(ue<<=1,(ue-=ne[z])<0)return-1;if(0<ue&&(m===0||J!==1))return-1;for(fe[1]=0,z=1;z<15;z++)fe[z+1]=fe[z]+ne[z];for(re=0;re<S;re++)x[_+re]!==0&&(C[fe[x[_+re]]++]=re);if(X=m===0?(B=te=C,19):m===1?(B=c,Z-=257,te=f,O-=257,256):(B=d,te=p,-1),z=N,se=T,ge=re=$=0,F=-1,I=(G=1<<(Y=V))-1,m===1&&852<G||m===2&&592<G)return 1;for(;;){for(le=z-ge,ae=C[re]<X?(L=0,C[re]):C[re]>X?(L=te[O+C[re]],B[Z+C[re]]):(L=96,0),R=1<<z-ge,N=D=1<<Y;j[se+($>>ge)+(D-=R)]=le<<24|L<<16|ae|0,D!==0;);for(R=1<<z-1;$&R;)R>>=1;if(R!==0?($&=R-1,$+=R):$=0,re++,--ne[z]==0){if(z===J)break;z=x[_+C[re]]}if(V<z&&($&I)!==F){for(ge===0&&(ge=V),se+=N,ue=1<<(Y=z-ge);Y+ge<J&&!((ue-=ne[Y+ge])<=0);)Y++,ue<<=1;if(G+=1<<Y,m===1&&852<G||m===2&&592<G)return 1;j[F=$&I]=V<<24|Y<<16|se-T|0}}return $!==0&&(j[se+$]=z-ge<<24|64<<16|0),b.bits=V,0}},{"../utils/common":41}],51:[function(r,a,l){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,l){var u=r("../utils/common"),c=0,f=1;function d(v){for(var E=v.length;0<=--E;)v[E]=0}var p=0,m=29,x=256,_=x+1+m,S=30,j=19,T=2*_+1,C=15,b=16,R=7,D=256,F=16,I=17,se=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],le=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(_+2));d(ce);var z=new Array(2*S);d(z);var re=new Array(512);d(re);var N=new Array(256);d(N);var J=new Array(m);d(J);var V,Y,ge,ue=new Array(S);function G(v,E,P,ee,K){this.static_tree=v,this.extra_bits=E,this.extra_base=P,this.elems=ee,this.max_length=K,this.has_stree=v&&v.length}function $(v,E){this.dyn_tree=v,this.max_code=0,this.stat_desc=E}function B(v){return v<256?re[v]:re[256+(v>>>7)]}function Z(v,E){v.pending_buf[v.pending++]=255&E,v.pending_buf[v.pending++]=E>>>8&255}function ne(v,E,P){v.bi_valid>b-P?(v.bi_buf|=E<<v.bi_valid&65535,Z(v,v.bi_buf),v.bi_buf=E>>b-v.bi_valid,v.bi_valid+=P-b):(v.bi_buf|=E<<v.bi_valid&65535,v.bi_valid+=P)}function fe(v,E,P){ne(v,P[2*E],P[2*E+1])}function te(v,E){for(var P=0;P|=1&v,v>>>=1,P<<=1,0<--E;);return P>>>1}function O(v,E,P){var ee,K,de=new Array(C+1),Te=0;for(ee=1;ee<=C;ee++)de[ee]=Te=Te+P[ee-1]<<1;for(K=0;K<=E;K++){var Se=v[2*K+1];Se!==0&&(v[2*K]=te(de[Se]++,Se))}}function k(v){var E;for(E=0;E<_;E++)v.dyn_ltree[2*E]=0;for(E=0;E<S;E++)v.dyn_dtree[2*E]=0;for(E=0;E<j;E++)v.bl_tree[2*E]=0;v.dyn_ltree[2*D]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ie(v){8<v.bi_valid?Z(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function Q(v,E,P,ee){var K=2*E,de=2*P;return v[K]<v[de]||v[K]===v[de]&&ee[E]<=ee[P]}function q(v,E,P){for(var ee=v.heap[P],K=P<<1;K<=v.heap_len&&(K<v.heap_len&&Q(E,v.heap[K+1],v.heap[K],v.depth)&&K++,!Q(E,ee,v.heap[K],v.depth));)v.heap[P]=v.heap[K],P=K,K<<=1;v.heap[P]=ee}function W(v,E,P){var ee,K,de,Te,Se=0;if(v.last_lit!==0)for(;ee=v.pending_buf[v.d_buf+2*Se]<<8|v.pending_buf[v.d_buf+2*Se+1],K=v.pending_buf[v.l_buf+Se],Se++,ee===0?fe(v,K,E):(fe(v,(de=N[K])+x+1,E),(Te=X[de])!==0&&ne(v,K-=J[de],Te),fe(v,de=B(--ee),P),(Te=le[de])!==0&&ne(v,ee-=ue[de],Te)),Se<v.last_lit;);fe(v,D,E)}function be(v,E){var P,ee,K,de=E.dyn_tree,Te=E.stat_desc.static_tree,Se=E.stat_desc.has_stree,Ce=E.stat_desc.elems,De=-1;for(v.heap_len=0,v.heap_max=T,P=0;P<Ce;P++)de[2*P]!==0?(v.heap[++v.heap_len]=De=P,v.depth[P]=0):de[2*P+1]=0;for(;v.heap_len<2;)de[2*(K=v.heap[++v.heap_len]=De<2?++De:0)]=1,v.depth[K]=0,v.opt_len--,Se&&(v.static_len-=Te[2*K+1]);for(E.max_code=De,P=v.heap_len>>1;1<=P;P--)q(v,de,P);for(K=Ce;P=v.heap[1],v.heap[1]=v.heap[v.heap_len--],q(v,de,1),ee=v.heap[1],v.heap[--v.heap_max]=P,v.heap[--v.heap_max]=ee,de[2*K]=de[2*P]+de[2*ee],v.depth[K]=(v.depth[P]>=v.depth[ee]?v.depth[P]:v.depth[ee])+1,de[2*P+1]=de[2*ee+1]=K,v.heap[1]=K++,q(v,de,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],(function(Ue,Pe){var et,Le,nt,He,at,xt,vt=Pe.dyn_tree,It=Pe.max_code,wn=Pe.stat_desc.static_tree,un=Pe.stat_desc.has_stree,cn=Pe.stat_desc.extra_bits,Fn=Pe.stat_desc.extra_base,en=Pe.stat_desc.max_length,Vt=0;for(He=0;He<=C;He++)Ue.bl_count[He]=0;for(vt[2*Ue.heap[Ue.heap_max]+1]=0,et=Ue.heap_max+1;et<T;et++)en<(He=vt[2*vt[2*(Le=Ue.heap[et])+1]+1]+1)&&(He=en,Vt++),vt[2*Le+1]=He,It<Le||(Ue.bl_count[He]++,at=0,Fn<=Le&&(at=cn[Le-Fn]),xt=vt[2*Le],Ue.opt_len+=xt*(He+at),un&&(Ue.static_len+=xt*(wn[2*Le+1]+at)));if(Vt!==0){do{for(He=en-1;Ue.bl_count[He]===0;)He--;Ue.bl_count[He]--,Ue.bl_count[He+1]+=2,Ue.bl_count[en]--,Vt-=2}while(0<Vt);for(He=en;He!==0;He--)for(Le=Ue.bl_count[He];Le!==0;)It<(nt=Ue.heap[--et])||(vt[2*nt+1]!==He&&(Ue.opt_len+=(He-vt[2*nt+1])*vt[2*nt],vt[2*nt+1]=He),Le--)}})(v,E),O(de,De,v.bl_count)}function A(v,E,P){var ee,K,de=-1,Te=E[1],Se=0,Ce=7,De=4;for(Te===0&&(Ce=138,De=3),E[2*(P+1)+1]=65535,ee=0;ee<=P;ee++)K=Te,Te=E[2*(ee+1)+1],++Se<Ce&&K===Te||(Se<De?v.bl_tree[2*K]+=Se:K!==0?(K!==de&&v.bl_tree[2*K]++,v.bl_tree[2*F]++):Se<=10?v.bl_tree[2*I]++:v.bl_tree[2*se]++,de=K,De=(Se=0)===Te?(Ce=138,3):K===Te?(Ce=6,3):(Ce=7,4))}function ye(v,E,P){var ee,K,de=-1,Te=E[1],Se=0,Ce=7,De=4;for(Te===0&&(Ce=138,De=3),ee=0;ee<=P;ee++)if(K=Te,Te=E[2*(ee+1)+1],!(++Se<Ce&&K===Te)){if(Se<De)for(;fe(v,K,v.bl_tree),--Se!=0;);else K!==0?(K!==de&&(fe(v,K,v.bl_tree),Se--),fe(v,F,v.bl_tree),ne(v,Se-3,2)):Se<=10?(fe(v,I,v.bl_tree),ne(v,Se-3,3)):(fe(v,se,v.bl_tree),ne(v,Se-11,7));de=K,De=(Se=0)===Te?(Ce=138,3):K===Te?(Ce=6,3):(Ce=7,4)}}d(ue);var U=!1;function y(v,E,P,ee){ne(v,(p<<1)+(ee?1:0),3),(function(K,de,Te,Se){ie(K),Z(K,Te),Z(K,~Te),u.arraySet(K.pending_buf,K.window,de,Te,K.pending),K.pending+=Te})(v,E,P)}l._tr_init=function(v){U||((function(){var E,P,ee,K,de,Te=new Array(C+1);for(K=ee=0;K<m-1;K++)for(J[K]=ee,E=0;E<1<<X[K];E++)N[ee++]=K;for(N[ee-1]=K,K=de=0;K<16;K++)for(ue[K]=de,E=0;E<1<<le[K];E++)re[de++]=K;for(de>>=7;K<S;K++)for(ue[K]=de<<7,E=0;E<1<<le[K]-7;E++)re[256+de++]=K;for(P=0;P<=C;P++)Te[P]=0;for(E=0;E<=143;)ce[2*E+1]=8,E++,Te[8]++;for(;E<=255;)ce[2*E+1]=9,E++,Te[9]++;for(;E<=279;)ce[2*E+1]=7,E++,Te[7]++;for(;E<=287;)ce[2*E+1]=8,E++,Te[8]++;for(O(ce,_+1,Te),E=0;E<S;E++)z[2*E+1]=5,z[2*E]=te(E,5);V=new G(ce,X,x+1,_,C),Y=new G(z,le,0,S,C),ge=new G(new Array(0),L,0,j,R)})(),U=!0),v.l_desc=new $(v.dyn_ltree,V),v.d_desc=new $(v.dyn_dtree,Y),v.bl_desc=new $(v.bl_tree,ge),v.bi_buf=0,v.bi_valid=0,k(v)},l._tr_stored_block=y,l._tr_flush_block=function(v,E,P,ee){var K,de,Te=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=(function(Se){var Ce,De=4093624447;for(Ce=0;Ce<=31;Ce++,De>>>=1)if(1&De&&Se.dyn_ltree[2*Ce]!==0)return c;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return f;for(Ce=32;Ce<x;Ce++)if(Se.dyn_ltree[2*Ce]!==0)return f;return c})(v)),be(v,v.l_desc),be(v,v.d_desc),Te=(function(Se){var Ce;for(A(Se,Se.dyn_ltree,Se.l_desc.max_code),A(Se,Se.dyn_dtree,Se.d_desc.max_code),be(Se,Se.bl_desc),Ce=j-1;3<=Ce&&Se.bl_tree[2*ae[Ce]+1]===0;Ce--);return Se.opt_len+=3*(Ce+1)+5+5+4,Ce})(v),K=v.opt_len+3+7>>>3,(de=v.static_len+3+7>>>3)<=K&&(K=de)):K=de=P+5,P+4<=K&&E!==-1?y(v,E,P,ee):v.strategy===4||de===K?(ne(v,2+(ee?1:0),3),W(v,ce,z)):(ne(v,4+(ee?1:0),3),(function(Se,Ce,De,Ue){var Pe;for(ne(Se,Ce-257,5),ne(Se,De-1,5),ne(Se,Ue-4,4),Pe=0;Pe<Ue;Pe++)ne(Se,Se.bl_tree[2*ae[Pe]+1],3);ye(Se,Se.dyn_ltree,Ce-1),ye(Se,Se.dyn_dtree,De-1)})(v,v.l_desc.max_code+1,v.d_desc.max_code+1,Te+1),W(v,v.dyn_ltree,v.dyn_dtree)),k(v),ee&&ie(v)},l._tr_tally=function(v,E,P){return v.pending_buf[v.d_buf+2*v.last_lit]=E>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&E,v.pending_buf[v.l_buf+v.last_lit]=255&P,v.last_lit++,E===0?v.dyn_ltree[2*P]++:(v.matches++,E--,v.dyn_ltree[2*(N[P]+x+1)]++,v.dyn_dtree[2*B(E)]++),v.last_lit===v.lit_bufsize-1},l._tr_align=function(v){ne(v,2,3),fe(v,D,ce),(function(E){E.bi_valid===16?(Z(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)})(v)}},{"../utils/common":41}],53:[function(r,a,l){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,l){(function(u){(function(c,f){if(!c.setImmediate){var d,p,m,x,_=1,S={},j=!1,T=c.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(c);C=C&&C.setTimeout?C:c,d={}.toString.call(c.process)==="[object process]"?function(F){Ye.nextTick(function(){R(F)})}:(function(){if(c.postMessage&&!c.importScripts){var F=!0,I=c.onmessage;return c.onmessage=function(){F=!1},c.postMessage("","*"),c.onmessage=I,F}})()?(x="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",D,!1):c.attachEvent("onmessage",D),function(F){c.postMessage(x+F,"*")}):c.MessageChannel?((m=new MessageChannel).port1.onmessage=function(F){R(F.data)},function(F){m.port2.postMessage(F)}):T&&"onreadystatechange"in T.createElement("script")?(p=T.documentElement,function(F){var I=T.createElement("script");I.onreadystatechange=function(){R(F),I.onreadystatechange=null,p.removeChild(I),I=null},p.appendChild(I)}):function(F){setTimeout(R,0,F)},C.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var I=new Array(arguments.length-1),se=0;se<I.length;se++)I[se]=arguments[se+1];var X={callback:F,args:I};return S[_]=X,d(_),_++},C.clearImmediate=b}function b(F){delete S[F]}function R(F){if(j)setTimeout(R,0,F);else{var I=S[F];if(I){j=!0;try{(function(se){var X=se.callback,le=se.args;switch(le.length){case 0:X();break;case 1:X(le[0]);break;case 2:X(le[0],le[1]);break;case 3:X(le[0],le[1],le[2]);break;default:X.apply(f,le)}})(I)}finally{b(F),j=!1}}}}function D(F){F.source===c&&typeof F.data=="string"&&F.data.indexOf(x)===0&&R(+F.data.slice(x.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(sw);var sA=sw.exports;const aA=lv(sA);var Bl={exports:{}},oA={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function lA(s){return s&&s.replace?s.replace(/([&"<>'])/g,function(t,r){return oA[r]}):s}var uA=lA,Ch=uA,by=Jh.Stream,cA="    ";function fA(s,t){typeof t!="object"&&(t={indent:t});var r=t.stream?new by:null,a="",l=!1,u=t.indent?t.indent===!0?cA:t.indent:"",c=!0;function f(_){c?Ye.nextTick(_):_()}function d(_,S){if(S!==void 0&&(a+=S),_&&!l&&(r=r||new by,l=!0),_&&l){var j=a;f(function(){r.emit("data",j)}),a=""}}function p(_,S){cd(d,Il(_,u,u?1:0),S)}function m(){if(r){var _=a;f(function(){r.emit("data",_),r.emit("end"),r.readable=!1,r.emit("close")})}}function x(_){var S=_.encoding||"UTF-8",j={version:"1.0",encoding:S};_.standalone&&(j.standalone=_.standalone),p({"?xml":{_attr:j}}),a=a.replace("/>","?>")}return f(function(){c=!1}),t.declaration&&x(t.declaration),s&&s.forEach?s.forEach(function(_,S){var j;S+1===s.length&&(j=m),p(_,j)}):p(s,m),r?(r.readable=!0,r):a}function hA(){var s=Array.prototype.slice.call(arguments),t={_elem:Il(s)};return t.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var a=this,l=this._elem.indent;cd(this.append,Il(r,l,this._elem.icount+(l?1:0)),function(){a.append(!0)})},t.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},t}function dA(s,t){return new Array(t||0).join(s||"")}function Il(s,t,r){r=r||0;var a=dA(t,r),l,u=s,c=!1;if(typeof s=="object"){var f=Object.keys(s);if(l=f[0],u=s[l],u&&u._elem)return u._elem.name=l,u._elem.icount=r,u._elem.indent=t,u._elem.indents=a,u._elem.interrupt=u,u._elem}var d=[],p=[],m;function x(_){var S=Object.keys(_);S.forEach(function(j){d.push(pA(j,_[j]))})}switch(typeof u){case"object":if(u===null)break;u._attr&&x(u._attr),u._cdata&&p.push(("<![CDATA["+u._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),u.forEach&&(m=!1,p.push(""),u.forEach(function(_){if(typeof _=="object"){var S=Object.keys(_)[0];S=="_attr"?x(_._attr):p.push(Il(_,t,r+1))}else p.pop(),m=!0,p.push(Ch(_))}),m||p.push(""));break;default:p.push(Ch(u))}return{name:l,interrupt:c,attributes:d,content:p,icount:r,indents:a,indent:t}}function cd(s,t,r){if(typeof t!="object")return s(!1,t);var a=t.interrupt?1:t.content.length;function l(){for(;t.content.length;){var c=t.content.shift();if(c!==void 0){if(u(c))return;cd(s,c)}}s(!1,(a>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?`
`:"")),r&&r()}function u(c){return c.interrupt?(c.interrupt.append=s,c.interrupt.end=l,c.interrupt=!1,s(!0),!0):!1}if(s(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(a?t.name?">":"":t.name?"/>":"")+(t.indent&&a>1?`
`:"")),!a)return s(!1,t.indent?`
`:"");u(t)||l()}function pA(s,t){return s+'="'+Ch(t)+'"'}Bl.exports=fA;Bl.exports.element=Bl.exports.Element=hA;var mA=Bl.exports;const Nt=lv(mA),xy=0,_y=32,gA=32,yA=(s,t)=>{const r=t.replace(/-/g,"");if(r.length!==gA)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const l=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));l.reverse();const c=s.slice(xy,_y).map((d,p)=>d^l[p%l.length]);return Buffer.concat([s.slice(0,xy),c,s.slice(_y)])};class vA{format(t,r={stack:[]}){const a=t.prepForXml(r);if(a)return a;throw Error("XMLComponent did not format correctly")}}class wA{replace(t,r,a){let l=t;return r.forEach((u,c)=>{l=l.replace(new RegExp(`{${u.fileName}}`,"g"),(a+c).toString())}),l}getMediaData(t,r){return r.Array.filter(a=>t.search(`{${a.fileName}}`)>0)}}class bA{replace(t,r){let a=t;for(const l of r)a=a.replace(new RegExp(`{${l.reference}-${l.instance}}`,"g"),l.numId.toString());return a}}class xA{constructor(){je(this,"formatter"),je(this,"imageReplacer"),je(this,"numberingReplacer"),this.formatter=new vA,this.imageReplacer=new wA,this.numberingReplacer=new bA}compile(t,r){const a=new aA,l=this.xmlifyFile(t,r),u=new Map(Object.entries(l));for(const[,c]of u)if(Array.isArray(c))for(const f of c)a.file(f.path,f.data);else a.file(c.path,c.data);for(const{stream:c,fileName:f}of t.Media.Array)a.file(`word/media/${f}`,c);for(const{data:c,name:f,fontKey:d}of t.FontTable.fontOptionsWithKey){const[p]=f.split(".");a.file(`word/fonts/${p}.odttf`,yA(c,d))}return a}xmlifyFile(t,r){const a=t.Document.Relationships.RelationshipCount+1,l=Nt(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(l,t.Media);return{Relationships:{data:(u.forEach((c,f)=>{t.Document.Relationships.createRelationship(a+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),Nt(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(l,u,a);return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=Nt(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Nt(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Nt(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Nt(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(d,t.Media).forEach((m,x)=>{c.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Nt(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:t.Footers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(d,t.Media).forEach((m,x)=>{c.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Nt(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:t.Headers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(d,t.Media),m=this.imageReplacer.replace(d,p,0);return{data:this.numberingReplacer.replace(m,t.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:t.Footers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(d,t.Media),m=this.imageReplacer.replace(d,p,0);return{data:this.numberingReplacer.replace(m,t.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:Nt(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Nt(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Nt(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Nt(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Nt(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Nt(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Nt(this.formatter.format(t.Comments,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Nt(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Nt(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const _A={WITH_2_BLANKS:"  "},qa=s=>s===!0?_A.WITH_2_BLANKS:s===!1?void 0:s;class Oh{static toString(t,r){return wl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(t,r){return wl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(t,r){return wl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(t,r){return wl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(t,r){const a=new Jh.Stream;return this.compiler.compile(t,qa(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(u=>{a.emit("data",u),a.emit("end")}),a}}je(Oh,"compiler",new xA);var Ml={exports:{}},SA=Ml.exports,Sy;function EA(){return Sy||(Sy=1,(function(s,t){(function(r,a){a()})(SA,function(){function r(p,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function a(p,m,x){var _=new XMLHttpRequest;_.open("GET",p),_.responseType="blob",_.onload=function(){d(_.response,m,x)},_.onerror=function(){console.error("could not download file")},_.send()}function l(p){var m=new XMLHttpRequest;m.open("HEAD",p,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function u(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(m)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof yl=="object"&&yl.global===yl?yl:void 0,f=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(p,m,x){var _=c.URL||c.webkitURL,S=document.createElement("a");m=m||p.name||"download",S.download=m,S.rel="noopener",typeof p=="string"?(S.href=p,S.origin===location.origin?u(S):l(S.href)?a(p,m,x):u(S,S.target="_blank")):(S.href=_.createObjectURL(p),setTimeout(function(){_.revokeObjectURL(S.href)},4e4),setTimeout(function(){u(S)},0))}:"msSaveOrOpenBlob"in navigator?function(p,m,x){if(m=m||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(r(p,x),m);else if(l(p))a(p,m,x);else{var _=document.createElement("a");_.href=p,_.target="_blank",setTimeout(function(){u(_)})}}:function(p,m,x,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof p=="string")return a(p,m,x);var S=p.type==="application/octet-stream",j=/constructor/i.test(c.HTMLElement)||c.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||S&&j||f)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var D=C.result;D=T?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=D:location=D,_=null},C.readAsDataURL(p)}else{var b=c.URL||c.webkitURL,R=b.createObjectURL(p);_?_.location=R:location.href=R,_=null,setTimeout(function(){b.revokeObjectURL(R)},4e4)}});c.saveAs=d.saveAs=d,s.exports=d})})(Ml)),Ml.exports}var TA=EA();const fh=Fl(TA),AA=()=>new Date().toISOString().split("T")[0],kA=({isOpen:s,onClose:t,onGenerate:r})=>{const[a,l]=pe.useState(AA);if(!s)return null;const u=()=>{r(a)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Generate Daily Report"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"text-slate-300 mb-6",children:[w.jsx("label",{htmlFor:"report-date",className:"block text-sm font-medium text-slate-300 mb-2",children:"Select the date for the update report."}),w.jsx("input",{id:"report-date",type:"date",value:a,onChange:c=>l(c.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(bx,{className:"w-4 h-4"}),w.jsx("span",{children:"Generate"})]})]})]})})},jA=({viewScope:s,currentProject:t,isArchiveView:r})=>{const{markdown:a,archiveMarkdown:l,projects:u,users:c,settings:f,importProject:d}=Vr(),[p,m]=pe.useState(!1),[x,_]=pe.useState(!1),S=pe.useRef(null),j=pe.useRef(null),T=pe.useMemo(()=>new Map(c.map(L=>[L.alias,L])),[c]);pe.useEffect(()=>{const L=ae=>{S.current&&!S.current.contains(ae.target)&&m(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const C=pe.useCallback(()=>{const L={users:c,markdown:a,archiveMarkdown:l,settings:f},ae=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),ce=u.length>1?"Multi-Project.mdtasker":`${t.title.replace(/\s/g,"_")}.mdtasker`;fh(ae,ce),m(!1)},[c,a,l,f,u,t.title]),b=(L,ae={})=>L.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).filter(Boolean).map(z=>{if(z.startsWith("**")&&z.endsWith("**"))return new wt({text:z.slice(2,-2),bold:!0,...ae});if(z.startsWith("*")&&z.endsWith("*"))return new wt({text:z.slice(1,-1),italics:!0,...ae});const re=z.match(/\[(.*?)\]\((.*?)\)/);return re?new ew({children:[new wt({text:re[1],style:"Hyperlink",...ae})],link:re[2]}):new wt({text:z,...ae})}),R=L=>{if(!L)return"";try{return new Date(`${L}T00:00:00`).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return L}},D=(L,ae)=>{L.forEach(ce=>{const z=b(ce.text,ce.completed?{strike:!0}:{}),re=[new wt(ce.completed?" ":" "),...z];ce.cost!==void 0&&re.push(new wt({text:` ($${ce.cost.toFixed(2)})`,color:"2E8B57",size:18,italics:!0})),ce.creationDate&&re.push(new wt({text:` (Created: ${R(ce.creationDate)})`,color:"808080",size:18,italics:!0})),ce.dueDate&&!ce.completed&&re.push(new wt({text:` (Due: ${R(ce.dueDate)})`,color:"A52A2A",size:18,italics:!0})),ce.completed&&ce.completionDate&&re.push(new wt({text:` (Completed: ${R(ce.completionDate)})`,color:"808080",size:18,italics:!0})),ae.push(new bt({children:re,bullet:{level:0}})),ce.updates.forEach(N=>{const J=N.assigneeAlias?T.get(N.assigneeAlias):null,V=b(N.text),Y=[new wt({text:`${R(N.date)}: `,italics:!0,color:"808080"}),...V];J&&Y.push(new wt({text:` - ${J.name}`,italics:!0,color:"808080"})),ae.push(new bt({children:Y,bullet:{level:1}}))})})},F=(L,ae)=>{L.forEach(ce=>{const z=b(ce.text,ce.completed?{strike:!0}:{}),re=[new wt(ce.completed?" ":" "),...z];ae.push(new bt({children:re,bullet:{level:0}})),ce.updates.forEach(N=>{const J=N.assigneeAlias?T.get(N.assigneeAlias):null,V=b(N.text),Y=[new wt({text:`${R(N.date)}: `,italics:!0,color:"808080"}),...V];J&&Y.push(new wt({text:` - ${J.name}`,italics:!0,color:"808080"})),ae.push(new bt({children:Y,bullet:{level:1}}))})})},I=pe.useCallback(async L=>{const ae=`Daily_Report_${L}`,ce=[];ce.push(new bt({text:`Daily Update Report for ${R(L)}`,heading:vn.TITLE,alignment:On.CENTER}));const z=s==="all"?u:[t];let re=!1;z.forEach((V,Y)=>{const ue=[...V.unassignedTasks,...Object.values(V.groupedTasks).flatMap(B=>B.tasks)].map(B=>{const Z=B.updates.filter(ne=>ne.date===L);return{...B,updates:Z}}).filter(B=>B.updates.length>0);if(ue.length===0)return;re=!0,z.length>1&&ce.push(new bt({text:V.title,heading:vn.HEADING_1,spacing:{before:Y>0?400:200,after:200}}));const G={};ue.forEach(B=>{const Z=B.assigneeAlias||"unassigned";G[Z]||(G[Z]=[]),G[Z].push(B)}),[...c.map(B=>B.alias),"unassigned"].forEach(B=>{var Z;if(G[B]){const ne=B==="unassigned"?"Unassigned":((Z=T.get(B))==null?void 0:Z.name)||B;ce.push(new bt({text:ne,heading:vn.HEADING_2,spacing:{before:300,after:150}})),F(G[B],ce)}})}),re||ce.push(new bt({children:[new wt({text:"No updates found for the selected date.",italics:!0})],alignment:On.CENTER,spacing:{before:200}}));const N=new wy({sections:[{children:ce}]}),J=await Oh.toBlob(N);fh(J,`${ae}.docx`),_(!1),m(!1)},[u,t,s,c,T]),se=pe.useCallback(async()=>{const L=s==="all"?"All_Projects_Summary":t.title.replace(/\s/g,"_"),ae=s==="single"&&t?a.split(`
`).slice(t.startLine,t.endLine+1).join(`
`):a,ce=[],z=ae.split(`
`),re=/^- \[( |x)\] (.*)/,N=/\s\(@([a-zA-Z0-9_]+)\)/,J=/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/,V=/\s\(\$(\d+(\.\d{1,2})?)\)/,Y=/\s\+([0-9]{4}-[0-9]{2}-[0-9]{2})/,ge=/\s!([0-9]{4}-[0-9]{2}-[0-9]{2})/,ue=/^  - (\d{4}-\d{2}-\d{2}): (.*)/;let G=0;for(;G<z.length;){const ne=z[G],fe=ne.match(re);if(fe){let Q=fe[2];const q=fe[1]==="x";let W=null;const be=Q.match(J);be&&(W=be[1],Q=Q.replace(be[0],"").trim());let A;const ye=Q.match(V);ye&&(A=parseFloat(ye[1]),Q=Q.replace(ye[0],"").trim());let U=null;const y=Q.match(Y);y&&(U=y[1],Q=Q.replace(y[0],"").trim());let v=null;const E=Q.match(ge);E&&(v=E[1],Q=Q.replace(E[0],"").trim());let P=null;const ee=Q.match(N);ee&&(P=T.get(ee[1])||null,Q=Q.replace(ee[0],"").trim());const K=b(Q,q?{strike:!0}:{}),de=[new wt(q?" ":" "),...K];A!==void 0&&de.push(new wt({text:` ($${A.toFixed(2)})`,color:"2E8B57",size:18,italics:!0})),P&&de.push(new wt({text:` (${P.name})`,color:"808080",size:18,italics:!0})),U&&de.push(new wt({text:` (Created: ${R(U)})`,color:"808080",size:18,italics:!0})),v&&!q&&de.push(new wt({text:` (Due: ${R(v)})`,color:"A52A2A",size:18,italics:!0})),q&&W&&de.push(new wt({text:` (Completed: ${R(W)})`,color:"808080",size:18,italics:!0})),ce.push(new bt({children:de,bullet:{level:0}}));let Te=G+1;for(;Te<z.length;){const Se=z[Te];if(Se.trim()===""){Te++;continue}const Ce=Se.match(ue);if(Ce){let De=Ce[2].trim(),Ue=null;const Pe=De.match(N);Pe&&(Ue=T.get(Pe[1])||null,De=De.replace(N,"").trim());const et=b(De),Le=[new wt({text:`${R(Ce[1])}: `,italics:!0,color:"808080"}),...et];Ue&&Le.push(new wt({text:` - ${Ue.name}`,italics:!0,color:"808080"})),ce.push(new bt({children:Le,bullet:{level:1}})),Te++}else break}G=Te;continue}const te=ne.match(/^# (.*)/);if(te){ce.push(new bt({children:b(te[1]),heading:vn.HEADING_1})),G++;continue}const O=ne.match(/^## (.*)/);if(O){ce.push(new bt({children:b(O[1]),heading:vn.HEADING_2})),G++;continue}const k=ne.match(/^### (.*)/);if(k){ce.push(new bt({children:b(k[1]),heading:vn.HEADING_3})),G++;continue}const ie=ne.match(/^- (.*)/);if(ie){ce.push(new bt({children:b(ie[1]),bullet:{level:0}})),G++;continue}ce.push(new bt({children:b(ne)})),G++}const $=[];$.push(new bt({text:"Task Summary",heading:vn.HEADING_1,spacing:{after:200}})),s==="all"?u.forEach(ne=>{$.push(new bt({text:ne.title,heading:vn.HEADING_2,spacing:{before:400,after:200}})),Object.values(ne.groupedTasks).filter(te=>te.tasks.length>0).forEach(({user:te,tasks:O})=>{$.push(new bt({text:te.name,heading:vn.HEADING_3,spacing:{before:300,after:150}})),D(O,$)}),ne.unassignedTasks.length>0&&($.push(new bt({text:"Unassigned Tasks",heading:vn.HEADING_3,spacing:{before:300,after:150}})),D(ne.unassignedTasks,$))}):($.push(new bt({text:t.title,heading:vn.HEADING_2,spacing:{before:400,after:200}})),Object.values(t.groupedTasks).filter(fe=>fe.tasks.length>0).forEach(({user:fe,tasks:te})=>{$.push(new bt({text:fe.name,heading:vn.HEADING_3,spacing:{before:300,after:150}})),D(te,$)}),t.unassignedTasks.length>0&&($.push(new bt({text:"Unassigned Tasks",heading:vn.HEADING_3,spacing:{before:300,after:150}})),D(t.unassignedTasks,$)));const B=new wy({sections:[{children:ce},{properties:{type:TE.NEXT_PAGE},children:$}]}),Z=await Oh.toBlob(B);fh(Z,`${L}.docx`),m(!1)},[a,u,t,s,T]),X=()=>{var L;(L=j.current)==null||L.click(),m(!1)},le=L=>{var ce;const ae=(ce=L.target.files)==null?void 0:ce[0];ae&&d(ae),L.target&&(L.target.value="")};return w.jsxs("div",{className:"relative",ref:S,children:[w.jsx("input",{type:"file",ref:j,onChange:le,className:"hidden",accept:".mdtasker,application/json"}),w.jsxs("button",{onClick:()=>m(L=>!L),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600","aria-haspopup":"true","aria-expanded":p,children:[w.jsx(cx,{className:"w-4 h-4"}),w.jsx("span",{children:"Project Actions"})]}),p&&w.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",children:w.jsxs("div",{className:"p-2",role:"menu","aria-orientation":"vertical",children:[w.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-slate-400",children:"Project File"}),w.jsxs("button",{onClick:X,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(Ux,{className:"w-4 h-4"}),w.jsx("span",{children:"Import Project (.mdtasker)"})]}),w.jsxs("button",{onClick:C,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(sv,{className:"w-4 h-4"}),w.jsx("span",{children:"Export Project (.mdtasker)"})]}),w.jsx("div",{className:"border-t border-slate-700 my-2"}),w.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-slate-400",children:"Document Export"}),w.jsxs("button",{onClick:se,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(xx,{className:"w-4 h-4"})," ",w.jsx("span",{children:"Export as DOCX"})]}),w.jsx("div",{className:"border-t border-slate-700 my-2"}),w.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-slate-400",children:"Reports"}),w.jsxs("button",{onClick:()=>{_(!0),m(!1)},className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(Hl,{className:"w-4 h-4"})," ",w.jsx("span",{children:"Export Daily Report..."})]})]})}),w.jsx(kA,{isOpen:x,onClose:()=>_(!1),onGenerate:I})]})},NA=`-- 1. Create the table to store project backups
-- Go to "SQL Editor" -> "New Query" and run this script:
CREATE TABLE public.project_backups (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  created_at TIMESTAMPTZ DEFAULT timezone('utc'::text, now()) NOT NULL,
  backup_data JSONB NOT NULL,
  client_name TEXT DEFAULT 'Interactive Markdown Tasker'
);

-- 2. Enable Row Level Security (RLS) on the new table
-- This ensures users can only access their own data.
ALTER TABLE public.project_backups ENABLE ROW LEVEL SECURITY;

-- 3. Create a policy that allows users to insert their own backups
CREATE POLICY "Allow users to insert their own backups"
ON public.project_backups
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- 4. Create a policy that allows users to view their own backups
CREATE POLICY "Allow users to select their own backups"
ON public.project_backups
FOR SELECT
USING (auth.uid() = user_id);
`,RA=({isOpen:s,onClose:t})=>s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:"Supabase Setup Instructions"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"text-slate-300 overflow-y-auto",children:[w.jsx("p",{className:"mb-4",children:"Follow these steps in your Supabase project dashboard to enable cloud backup:"}),w.jsxs("ol",{className:"list-decimal list-inside space-y-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Create a Supabase Project:"})," If you haven't already, go to ",w.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:"supabase.com"})," and create a new project."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Find Your Credentials:"}),w.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-slate-400",children:[w.jsxs("li",{children:["Navigate to ",w.jsx("strong",{children:"Project Settings"})," (the gear icon)."]}),w.jsxs("li",{children:["In the ",w.jsx("strong",{children:"API"})," section, you will find your ",w.jsx("strong",{children:"Project URL"})," and ",w.jsx("strong",{children:"Project API Keys"}),"."]}),w.jsxs("li",{children:["Copy the ",w.jsx("code",{className:"bg-slate-800 px-1 rounded text-xs",children:"URL"})," and the ",w.jsx("code",{className:"bg-slate-800 px-1 rounded text-xs",children:"anon"})," ",w.jsx("code",{className:"bg-slate-800 px-1 rounded text-xs",children:"public"})," key into the settings modal."]})]})]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Enable User Authentication:"}),w.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-slate-400",children:[w.jsxs("li",{children:["Navigate to ",w.jsx("strong",{children:"Authentication"})," (the user icon)."]}),w.jsxs("li",{children:["In the ",w.jsx("strong",{children:"Providers"})," section, make sure ",w.jsx("strong",{children:"Email"})," is enabled."]}),w.jsxs("li",{children:["Go to the ",w.jsx("strong",{children:"Users"})," tab and create a new user with the email and password you want to use for backups."]})]})]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Create the Database Table & Policies:"}),w.jsxs("p",{className:"mt-1 mb-2 text-slate-400",children:["Go to the ",w.jsx("strong",{children:"SQL Editor"})," (the database icon), click ",w.jsx("strong",{children:"New Query"}),", and paste the following SQL script. Click ",w.jsx("strong",{children:"Run"})," to execute it."]}),w.jsx("pre",{className:"bg-slate-800 p-4 rounded-md text-sm text-slate-200 overflow-x-auto",children:w.jsx("code",{children:NA})})]})]}),w.jsx("p",{className:"mt-6 text-sm text-green-400",children:"Once these steps are complete, you can fill in your credentials in the settings and start using the cloud backup feature."})]})]})}):null,CA=({isOpen:s,onClose:t})=>{const{settings:r,saveSettings:a,users:l}=Vr(),[u,c]=pe.useState(r),[f,d]=pe.useState(!1);pe.useEffect(()=>{c(r)},[r,s]);const p=x=>{const{name:_,value:S,type:j}=x.target;c(_==="senderAlias"||_==="ccAlias"?T=>({...T,[_]:S||null}):j==="number"?T=>({...T,[_]:parseFloat(S)||0}):T=>({...T,[_]:S}))},m=()=>{a(u),alert("Settings saved!"),t()};return s?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-2xl mx-4 border border-slate-700 max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:"Settings"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:"Email Reminder Settings"}),w.jsxs("div",{className:"space-y-6 pt-2",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"senderAlias",className:"block text-sm font-medium text-slate-300 mb-1",children:"Reminder Assignee"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Select a user to assign the reminder update note to."}),w.jsxs("select",{id:"senderAlias",name:"senderAlias",value:u.senderAlias??"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:[w.jsx("option",{value:"",children:"None (Just a note)"}),l.map(x=>w.jsxs("option",{value:x.alias,children:[x.name," (",x.email,")"]},x.alias))]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"reminderMessage",className:"block text-sm font-medium text-slate-300 mb-1",children:"Reminder Update Note"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"The text to add to a task's history when a reminder is sent."}),w.jsx("input",{type:"text",id:"reminderMessage",name:"reminderMessage",value:u.reminderMessage,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailCreationDateLabel",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Creation Date Label"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:'The label used for the task creation date in emails (e.g., "Created:", "Creato il:").'}),w.jsx("input",{type:"text",id:"emailCreationDateLabel",name:"emailCreationDateLabel",value:u.emailCreationDateLabel,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailSubject",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Subject"}),w.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Use ",w.jsx("code",{className:"bg-slate-900 px-1 rounded",children:"{projectTitle}"})," as a placeholder."]}),w.jsx("input",{type:"text",id:"emailSubject",name:"emailSubject",value:u.emailSubject,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"ccAlias",className:"block text-sm font-medium text-slate-300 mb-1",children:"Default CC Assignee"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Optional. Select a user to CC on all reminder emails."}),w.jsxs("select",{id:"ccAlias",name:"ccAlias",value:u.ccAlias??"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:[w.jsx("option",{value:"",children:"None"}),l.map(x=>w.jsxs("option",{value:x.alias,children:[x.name," (",x.email,")"]},x.alias))]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailPreamble",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Preamble"}),w.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Use ",w.jsx("code",{className:"bg-slate-900 px-1 rounded",children:"{userName}"})," as a placeholder."]}),w.jsx("textarea",{id:"emailPreamble",name:"emailPreamble",rows:4,value:u.emailPreamble,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailPostamble",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Postamble"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Text to appear after the task list."}),w.jsx("textarea",{id:"emailPostamble",name:"emailPostamble",rows:3,value:u.emailPostamble,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailSignature",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Signature"}),w.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Use ",w.jsx("code",{className:"bg-slate-900 px-1 rounded",children:"{senderName}"})," as a placeholder."]}),w.jsx("input",{type:"text",id:"emailSignature",name:"emailSignature",value:u.emailSignature,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2 flex items-center",children:["Cloud Backup Configuration (Supabase)",w.jsx("button",{onClick:()=>d(!0),className:"ml-2 text-slate-400 hover:text-indigo-400",title:"Setup Instructions",children:w.jsx(dx,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-4 pt-2",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"supabaseUrl",className:"block text-sm font-medium text-slate-300 mb-1",children:"Supabase URL"}),w.jsx("input",{type:"url",id:"supabaseUrl",name:"supabaseUrl",value:u.supabaseUrl??"",onChange:p,placeholder:"https://<project-ref>.supabase.co",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"supabaseAnonKey",className:"block text-sm font-medium text-slate-300 mb-1",children:"Supabase Anon Key"}),w.jsx("input",{type:"text",id:"supabaseAnonKey",name:"supabaseAnonKey",value:u.supabaseAnonKey??"",onChange:p,placeholder:"eyJhbGciOi...",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"supabaseEmail",className:"block text-sm font-medium text-slate-300 mb-1",children:"Supabase User Email"}),w.jsx("input",{type:"email",id:"supabaseEmail",name:"supabaseEmail",value:u.supabaseEmail??"",onChange:p,placeholder:"you@example.com",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]})]}),w.jsx("div",{className:"flex justify-end mt-8 border-t border-slate-700 pt-6",children:w.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-5 py-2.5 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(Ja,{className:"w-5 h-5"}),w.jsx("span",{children:"Save All Settings"})]})})]})}),w.jsx(RA,{isOpen:f,onClose:()=>d(!1)})]}):null},OA=s=>s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),DA=s=>pe.useMemo(()=>{const t=s.split(`
`),r=[];if(t.length===0&&s==="")return[];const a=[];return t.forEach((l,u)=>{const c=l.match(/^(#{1,3}) (.*)/);c&&a.push({line:u,level:c[1].length,text:c[2].trim()})}),a.length===0?(r.push({startLine:0,endLine:t.length-1,content:s,heading:null}),r):(a[0].line>0&&r.push({startLine:0,endLine:a[0].line-1,content:t.slice(0,a[0].line).join(`
`),heading:null}),a.forEach((l,u)=>{const c=l.line,f=u<a.length-1?a[u+1].line-1:t.length-1;r.push({startLine:c,endLine:f,content:t.slice(c,f+1).join(`
`),heading:{text:l.text,slug:OA(l.text),level:l.level,line:l.line}})}),r)},[s]),UA=({allSections:s,currentSectionIndex:t,onMoveSection:r,viewScope:a})=>{const[l,u]=pe.useState(!1),c=pe.useRef(null);pe.useEffect(()=>{const m=x=>{c.current&&!c.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{r(m),u(!1)};if(!s[t])return null;const p=a==="single"?"Top of project":"Top of file";return w.jsxs("div",{className:"relative",ref:c,children:[w.jsx("button",{onClick:()=>u(m=>!m),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-haspopup":"true","aria-expanded":l,"aria-label":"Move section",title:"Move section",children:w.jsx(nv,{className:"w-4 h-4"})}),l&&w.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsxs("div",{className:"p-1",children:[w.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-slate-400",children:"Move section after..."}),t>0&&w.jsxs("button",{onClick:()=>f(0),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",children:[w.jsx(ev,{className:"w-4 h-4 mr-2 flex-shrink-0"}),p]}),s.map((m,x)=>{var S;if(x===t||x===t-1)return null;const _=((S=m.heading)==null?void 0:S.text)||"Preamble";return w.jsxs("button",{onClick:()=>f(m.endLine+1),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",title:`After: "${_}"`,children:[w.jsx(iv,{className:"w-4 h-4 mr-2 flex-shrink-0"}),w.jsxs("span",{className:"truncate",children:['"',_,'"']})]},m.startLine)})]})})]})},MA=({allSections:s,currentSectionIndex:t,onDuplicateSection:r,viewScope:a})=>{const[l,u]=pe.useState(!1),c=pe.useRef(null);pe.useEffect(()=>{const m=x=>{c.current&&!c.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{r(m),u(!1)};if(!s[t])return null;const p=a==="single"?"Top of project":"Top of file";return w.jsxs("div",{className:"relative",ref:c,children:[w.jsx("button",{onClick:()=>u(m=>!m),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-haspopup":"true","aria-expanded":l,"aria-label":"Duplicate section",title:"Duplicate section",children:w.jsx(vx,{className:"w-4 h-4"})}),l&&w.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsxs("div",{className:"p-1",children:[w.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-slate-400",children:"Duplicate section after..."}),w.jsxs("button",{onClick:()=>f(0),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",children:[w.jsx(ev,{className:"w-4 h-4 mr-2 flex-shrink-0"}),w.jsx("span",{children:p})]}),s.map(m=>{var _;const x=((_=m.heading)==null?void 0:_.text)||"Preamble";return w.jsxs("button",{onClick:()=>f(m.endLine+1),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",title:`After: "${x}"`,children:[w.jsx(iv,{className:"w-4 h-4 mr-2 flex-shrink-0"}),w.jsxs("span",{className:"truncate",children:['"',x,'"']})]},m.startLine)})]})})]})},LA=({headings:s})=>{const[t,r]=pe.useState(!1),a=s.filter(u=>u.level>1),l=(u,c)=>{var f;u.preventDefault(),(f=document.getElementById(c))==null||f.scrollIntoView({behavior:"smooth",block:"start"}),r(!1)};return a.length===0?null:w.jsxs("div",{className:"absolute top-4 -left-4 z-20",children:[w.jsx("button",{onClick:()=>r(u=>!u),className:"p-2 rounded-full bg-slate-700 text-slate-300 hover:bg-indigo-600 hover:text-white transition-all duration-300 shadow-lg",title:"Table of Contents","aria-label":"Toggle Table of Contents","aria-expanded":t,children:w.jsx(ux,{className:`w-5 h-5 transition-transform duration-300 ${t?"rotate-12":""}`})}),w.jsx("div",{className:`absolute top-0 left-12 w-64 transition-all duration-300 ease-in-out ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 pointer-events-none"}`,children:w.jsxs("nav",{className:"bg-slate-900/80 backdrop-blur-md border border-slate-700 rounded-lg shadow-2xl p-4",children:[w.jsx("h4",{className:"font-bold text-slate-200 mb-2",children:"Contents"}),w.jsx("ul",{className:"space-y-1.5 max-h-80 overflow-y-auto",children:a.map(u=>w.jsx("li",{children:w.jsxs("a",{href:`#${u.slug}`,onClick:c=>l(c,u.slug),className:"flex items-start text-sm text-slate-400 hover:text-indigo-400 transition-colors",style:{paddingLeft:`${(u.level-2)*16}px`},children:[w.jsx(Gh,{className:"w-4 h-3 mr-1 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"flex-grow",children:u.text})]})},u.slug))})]})})]})},BA=({users:s,position:t,onSelect:r,activeIndex:a})=>{const l=pe.useRef(null);return pe.useEffect(()=>{var u,c;(c=(u=l.current)==null?void 0:u.querySelector(`[data-index="${a}"]`))==null||c.scrollIntoView({block:"nearest",inline:"nearest"})},[a]),w.jsx("div",{ref:l,className:"absolute bg-slate-900 border border-slate-700 rounded-md shadow-lg z-10 p-1 w-64 max-h-60 overflow-y-auto",style:{top:t.top,left:t.left},"aria-live":"polite",children:s.map((u,c)=>w.jsxs("button",{"data-index":c,onClick:()=>r(u),className:`w-full text-left flex items-center space-x-2 px-2 py-1.5 rounded-md ${a===c?"bg-indigo-600 text-white":"hover:bg-slate-700 text-slate-200"}`,role:"option","aria-selected":a===c,children:[w.jsx("img",{src:u.avatarUrl,alt:u.name,className:"h-6 w-6 rounded-full"}),w.jsxs("div",{children:[w.jsx("span",{className:"text-sm font-medium",children:u.name}),w.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["@",u.alias]})]})]},u.alias))})},IA=s=>s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).map((r,a)=>{if(!r)return null;if(r.startsWith("**")&&r.endsWith("**"))return w.jsx("strong",{children:r.slice(2,-2)},a);if(r.startsWith("*")&&r.endsWith("*"))return w.jsx("em",{children:r.slice(1,-1)},a);const l=r.match(/\[(.*?)\]\((.*?)\)/);return l?w.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},a):r}),Ts=({text:s})=>w.jsx(w.Fragment,{children:IA(s)}),zA=({task:s,taskBlockContent:t,blockLineCount:r,absoluteStartLine:a,onToggle:l,onUpdateTaskBlock:u,users:c,isArchiveView:f})=>{const[d,p]=pe.useState(!1),[m,x]=pe.useState(t),[_,S]=pe.useState(!1),j=pe.useMemo(()=>new Map(c.map(N=>[N.alias,N])),[c]),T=s.assigneeAlias?j.get(s.assigneeAlias):null,C=pe.useRef(null),[b,R]=pe.useState(!1),[D,F]=pe.useState(null),[I,se]=pe.useState(!1);pe.useEffect(()=>{d||x(t)},[t,d]),pe.useEffect(()=>{if(d&&C.current){const N=C.current.value.length;C.current.focus(),C.current.setSelectionRange(N,N)}},[d]),pe.useEffect(()=>{d&&C.current&&(C.current.style.height="auto",C.current.style.height=`${C.current.scrollHeight}px`)},[d,m]);const X=()=>{u(a,r,m),p(!1)},le=()=>{x(t),p(!1)},L=pe.useCallback((N,J)=>{const V=C.current;if(!V)return;const{selectionStart:Y}=V;if(J==="assignee"){const ne=m.substring(0,Y).lastIndexOf(`
`)+1;let fe=m.indexOf(`
`,Y);fe===-1&&(fe=m.length);let te=m.substring(ne,fe);const O=/\s\(@([a-zA-Z0-9_]+)\)/g;te=te.replace(O,"");const k=te.trimEnd()+" "+N,ie=m.substring(0,ne)+k+m.substring(fe);x(ie),setTimeout(()=>{V.focus();const Q=ne+k.length;V.setSelectionRange(Q,Q)},0);return}const{selectionEnd:ge}=V,ue=Y>0?m[Y-1]:`
`,$=`${/\s$/.test(ue)?"":" "}${N}`,B=m.substring(0,Y)+$+m.substring(ge);x(B),setTimeout(()=>{V.focus();const Z=Y+$.length;V.setSelectionRange(Z,Z)},0)},[m]),ae=pe.useCallback(N=>{const J=C.current;if(!J)return;const{selectionStart:V,selectionEnd:Y}=J,ge=V>0?m[V-1]:`
`,G=`${/\s$/.test(ge)?"":" "}!${N}`,$=m.substring(0,V)+G+m.substring(Y);x($),setTimeout(()=>{J.focus();const B=V+G.length;J.setSelectionRange(B,B)},0)},[m]),ce=pe.useCallback(N=>{const J=C.current;if(!J)return;const{selectionStart:V,selectionEnd:Y}=J,ge=m.substring(V,Y);if(N==="link"){F({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:ne=>{const fe=V>0?m[V-1]:`
`,te=Y<m.length?m[Y]:`
`,O=/^\s$/.test(fe)?"":" ",k=/^\s$/.test(te)?"":" ",ie=ge||"",Q=ne.replace(/\(/g,"%28").replace(/\)/g,"%29"),q=O+`[${ie}](${Q})`+k,W=m.substring(0,V)+q+m.substring(Y);x(W),setTimeout(()=>{if(C.current){C.current.focus();const be=V+O.length+1,A=be+ie.length;C.current.setSelectionRange(be,A)}},0)}}),R(!0);return}if(N==="gmail"){F({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:ne=>{const fe=V>0?m[V-1]:`
`,te=Y<m.length?m[Y]:`
`,O=/^\s$/.test(fe)?"":" ",k=/^\s$/.test(te)?"":" ",q=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${ne}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),W=O+`[ ${ne}](${q})`+k,be=m.substring(0,V)+W+m.substring(Y);x(be),setTimeout(()=>{if(C.current){C.current.focus();const A=V+W.length;C.current.setSelectionRange(A,A)}},0)}}),R(!0);return}if(N==="dueDate"){se(!0);return}let ue="",G="",$="",B=-1,Z;switch(N){case"h1":ue="# ";break;case"h2":ue="## ";break;case"h3":ue="### ";break;case"bold":ue="**",G="**";break;case"italic":ue="*",G="*";break;case"ul":ue="- ";break;case"task":{const ne=new Date().toISOString().split("T")[0];if(V!==Y){const fe=ge.split(`
`).map(te=>te.trim()===""||te.trim().match(/^[-*] \[( |x)\]/)?te:`- [ ] ${te.trim()} +${ne}`).join(`
`);Z=m.substring(0,V)+fe+m.substring(Y),x(Z),setTimeout(()=>{C.current&&(C.current.focus(),C.current.setSelectionRange(V+fe.length,V+fe.length))},0);return}else m.substring(0,V),ue=(V>0&&m[V-1]!==`
`?`
`:"")+"- [ ] ",G=` +${ne}`;break}case"update":{const ne=new Date().toISOString().split("T")[0],fe=m.substring(0,V);$=`${V===0||fe.endsWith(`
`)?"":`
`}  - ${ne}: `,B=V+$.length;break}}$?Z=m.substring(0,V)+$+m.substring(Y):Z=m.substring(0,V)+ue+ge+G+m.substring(Y),x(Z),setTimeout(()=>{if(C.current)if(C.current.focus(),B!==-1)C.current.setSelectionRange(B,B);else if(ge.length===0){const ne=V+ue.length;C.current.setSelectionRange(ne,ne)}else C.current.setSelectionRange(V+ue.length,Y+ue.length)},0)},[m]),re=((N,J)=>{if(!N||J)return null;const V=new Date;V.setHours(0,0,0,0);const ge=new Date(`${N}T00:00:00`).getTime()-V.getTime(),ue=Math.ceil(ge/(1e3*60*60*24));return ue<0?{pillColor:"bg-red-500/20 text-red-400",label:"Overdue"}:ue===0?{pillColor:"bg-yellow-500/20 text-yellow-400",label:"Due today"}:{pillColor:"bg-slate-700/50 text-slate-300",label:`Due in ${ue} day(s)`}})(s.dueDate,s.completed);return d?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"py-2 border-b border-indigo-500/30 bg-slate-800/30 rounded-lg p-3 my-2",children:[w.jsx("div",{className:"mb-2",children:w.jsx(Gl,{onFormat:ce,onInsert:L,users:c})}),w.jsx("textarea",{ref:C,value:m,onChange:N=>x(N.target.value),className:"w-full p-2 bg-slate-900 border border-slate-700 rounded-md resize-y focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm leading-relaxed",autoFocus:!0}),w.jsxs("div",{className:"flex justify-end items-center mt-2 space-x-2",children:[w.jsxs("button",{onClick:le,className:"px-3 py-1 rounded-md bg-slate-600 hover:bg-slate-500 font-semibold text-sm flex items-center space-x-2",children:[w.jsx(Un,{className:"w-4 h-4"}),w.jsx("span",{children:"Cancel"})]}),w.jsxs("button",{onClick:X,className:"px-3 py-1 rounded-md bg-indigo-600 hover:bg-indigo-700 font-semibold text-sm flex items-center space-x-2",children:[w.jsx(Ja,{className:"w-4 h-4"}),w.jsx("span",{children:"Save"})]})]})]}),b&&D&&w.jsx(Kl,{isOpen:b,onClose:()=>R(!1),onSubmit:D.onSubmit,title:D.title,label:D.label,confirmText:D.confirmText}),w.jsx(Vl,{isOpen:I,onClose:()=>se(!1),onSelectDate:ae,title:"Select Due Date",confirmText:"Insert Date"})]}):w.jsxs("div",{className:"py-2 border-b border-slate-800",children:[w.jsxs("div",{className:"flex items-start space-x-3 group",children:[w.jsx("input",{type:"checkbox",checked:s.completed,onChange:N=>l(a,N.target.checked),className:"h-5 w-5 rounded-md bg-slate-700 border-slate-600 text-indigo-500 focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-indigo-500 cursor-pointer flex-shrink-0 mt-1",disabled:f}),w.jsx("div",{className:"flex-grow min-w-0",children:w.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2 gap-y-1",children:[w.jsx("span",{className:`leading-snug ${s.completed?"line-through text-slate-500":"text-slate-200"}`,children:w.jsx(Ts,{text:s.text})}),T&&w.jsxs("div",{className:"inline-flex items-center space-x-1.5 bg-slate-700/60 text-slate-300 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap",title:`Assigned to ${T.name}`,children:[w.jsx("img",{src:T.avatarUrl,alt:T.name,className:"h-4 w-4 rounded-full"}),w.jsx("span",{children:T.name})]}),re&&w.jsxs("div",{className:`inline-flex items-center space-x-1 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap ${re.pillColor}`,title:re.label,children:[w.jsx(Hl,{className:"w-3 h-3"}),w.jsx("span",{children:s.dueDate})]}),s.cost!==void 0&&w.jsxs("span",{className:"inline-flex items-center font-semibold bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap",children:["$",s.cost.toFixed(2)]}),s.completionDate&&s.completed&&w.jsxs("div",{className:"inline-flex items-center space-x-1 bg-slate-700/60 text-slate-400 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap",title:`Completed on ${s.completionDate}`,children:[w.jsx(ql,{className:"w-3 h-3 text-green-500"}),w.jsx("span",{children:s.completionDate})]})]})}),w.jsx("button",{onClick:()=>p(!0),className:"p-2 rounded-full hover:bg-slate-700 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Edit task and updates",children:w.jsx($l,{className:"w-4 h-4"})})]}),s.updates.length>0&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"pl-8 mt-2",children:w.jsxs("button",{onClick:()=>S(N=>!N),className:"flex items-center text-xs text-slate-400 hover:text-indigo-300 transition-colors py-1 rounded","aria-expanded":_,"aria-controls":`updates-${s.lineIndex}`,children:[w.jsx(Gh,{className:`w-4 h-4 mr-1 transition-transform ${_?"rotate-90":""}`}),w.jsxs("span",{className:"font-medium",children:[s.updates.length," update",s.updates.length>1?"s":""]})]})}),_&&w.jsx("div",{id:`updates-${s.lineIndex}`,className:"pl-8 mt-2 space-y-2 border-l-2 border-slate-800 ml-2.5",children:s.updates.map(N=>{const J=N.assigneeAlias?j.get(N.assigneeAlias):null;return w.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-400 w-full group",children:[J?w.jsx("img",{src:J.avatarUrl,title:J.name,className:"w-5 h-5 rounded-full flex-shrink-0",alt:J.name}):w.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),w.jsxs("span",{className:"font-mono text-slate-500 whitespace-nowrap",children:[N.date,":"]}),w.jsx("p",{className:"flex-grow min-w-0",children:w.jsx(Ts,{text:N.text})})]},N.lineIndex)})})]})]})},PA=s=>{var E;const{section:t,sectionIndex:r,allSections:a,onSectionUpdate:l,onMoveSection:u,onDuplicateSection:c,onArchiveSection:f,onRestoreSection:d,tocHeadings:p,viewScope:m,project:x,isArchiveView:_}=s,[S,j]=pe.useState(()=>!t.content.trim()),[T,C]=pe.useState(!1),[b,R]=pe.useState(t.content),D=pe.useRef(null),F=pe.useRef(null),I=pe.useMemo(()=>new Map(s.users.map(P=>[P.alias,P])),[s.users]),[se,X]=pe.useState(!1),[le,L]=pe.useState(null),[ae,ce]=pe.useState(!1),[z,re]=pe.useState(!1),[N,J]=pe.useState(null),[V,Y]=pe.useState(null),[ge,ue]=pe.useState([]),[G,$]=pe.useState(0),B=pe.useMemo(()=>{if(_)return!1;const P=/^- \[([ x])\] .*/,K=t.content.split(`
`).map(de=>de.match(P)).filter(de=>!!de);return K.length===0?!1:K.every(de=>de[1]==="x")},[t.content,_]);pe.useEffect(()=>{R(t.content)},[t.content]),pe.useEffect(()=>{if(S&&D.current){const P=D.current.value.length;D.current.focus(),D.current.setSelectionRange(P,P)}},[S]),pe.useEffect(()=>{S&&D.current&&(D.current.style.height="auto",D.current.style.height=`${D.current.scrollHeight}px`)},[S,b]),pe.useEffect(()=>{N===null&&ue([])},[N]);const Z=pe.useCallback(()=>{t.heading&&C(P=>!P)},[t.heading]),ne=()=>{l(t.startLine,t.endLine,b),j(!1)},fe=()=>{R(t.content),j(!1)},te=P=>{u({startLine:t.startLine,endLine:t.endLine},P)},O=P=>{c({startLine:t.startLine,endLine:t.endLine},P)},k=()=>{x&&d(t.startLine,t.endLine,x.title),re(!1)},ie=pe.useCallback(P=>{const ee=D.current;if(!ee)return;const K=ee.selectionStart,de=b.substring(0,K),Te=de.replace(/@(\w*)$/,`(@${P.alias}) `)+b.substring(K);R(Te),J(null),setTimeout(()=>{const Se=de.lastIndexOf("@")+P.alias.length+4;ee.focus(),ee.setSelectionRange(Se,Se)},0)},[b]),Q=P=>{if(!(N===null||ge.length===0)&&["ArrowUp","ArrowDown","Enter","Tab","Escape"].includes(P.key))if(P.preventDefault(),P.stopPropagation(),P.key==="ArrowUp")$(ee=>ee>0?ee-1:ge.length-1);else if(P.key==="ArrowDown")$(ee=>ee<ge.length-1?ee+1:0);else if(P.key==="Enter"||P.key==="Tab"){const ee=ge[G];ee&&ie(ee)}else P.key==="Escape"&&J(null)},q=P=>{const ee=P.target,K=ee.value;R(K);const de=ee.selectionStart,Se=K.substring(0,de).match(/@(\w*)$/);if(Se&&F.current&&D.current){const Ce=Se[1].toLowerCase(),De=K.substring(0,de);F.current.textContent=De;const Ue=document.createElement("span");F.current.appendChild(Ue);const{offsetLeft:Pe,offsetTop:et,offsetHeight:Le}=Ue;Y({top:et+Le-ee.scrollTop,left:Pe-ee.scrollLeft}),J(Ce);const nt=s.users.filter(He=>He.alias.toLowerCase().includes(Ce)||He.name.toLowerCase().includes(Ce));ue(nt),$(0)}else J(null)},W=pe.useCallback((P,ee)=>{const K=D.current;if(!K)return;const{selectionStart:de}=K;if(ee==="assignee"){const et=b.substring(0,de).lastIndexOf(`
`)+1;let Le=b.indexOf(`
`,de);Le===-1&&(Le=b.length);let nt=b.substring(et,Le);const He=/\s\(@([a-zA-Z0-9_]+)\)/g;nt=nt.replace(He,"");const at=nt.trimEnd()+" "+P,xt=b.substring(0,et)+at+b.substring(Le);R(xt),setTimeout(()=>{K.focus();const vt=et+at.length;K.setSelectionRange(vt,vt)},0);return}const{selectionEnd:Te}=K,Se=de>0?b[de-1]:`
`,De=`${/\s$/.test(Se)?"":" "}${P}`,Ue=b.substring(0,de)+De+b.substring(Te);R(Ue),setTimeout(()=>{K.focus();const Pe=de+De.length;K.setSelectionRange(Pe,Pe)},0)},[b]),be=pe.useCallback(P=>{const ee=D.current;if(!ee)return;const{selectionStart:K,selectionEnd:de}=ee,Te=K>0?b[K-1]:`
`,Ce=`${/\s$/.test(Te)?"":" "}!${P}`,De=b.substring(0,K)+Ce+b.substring(de);R(De),setTimeout(()=>{ee.focus();const Ue=K+Ce.length;ee.setSelectionRange(Ue,Ue)},0)},[b]),A=pe.useCallback(P=>{const ee=D.current;if(!ee)return;const{selectionStart:K,selectionEnd:de}=ee,Te=b.substring(K,de);if(P==="link"){L({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:et=>{const Le=K>0?b[K-1]:`
`,nt=de<b.length?b[de]:`
`,He=/^\s$/.test(Le)?"":" ",at=/^\s$/.test(nt)?"":" ",xt=Te||"",vt=et.replace(/\(/g,"%28").replace(/\)/g,"%29"),It=He+`[${xt}](${vt})`+at,wn=b.substring(0,K)+It+b.substring(de);R(wn),setTimeout(()=>{if(D.current){D.current.focus();const un=K+He.length+1,cn=un+xt.length;D.current.setSelectionRange(un,cn)}},0)}}),X(!0);return}if(P==="gmail"){L({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:et=>{const Le=K>0?b[K-1]:`
`,nt=de<b.length?b[de]:`
`,He=/^\s$/.test(Le)?"":" ",at=/^\s$/.test(nt)?"":" ",It=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${et}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),wn=He+`[ ${et}](${It})`+at,un=b.substring(0,K)+wn+b.substring(de);R(un),setTimeout(()=>{if(D.current){D.current.focus();const cn=K+wn.length;D.current.setSelectionRange(cn,cn)}},0)}}),X(!0);return}if(P==="dueDate"){ce(!0);return}let Se="",Ce="",De="",Ue=-1,Pe;switch(P){case"h1":Se="# ";break;case"h2":Se="## ";break;case"h3":Se="### ";break;case"bold":Se="**",Ce="**";break;case"italic":Se="*",Ce="*";break;case"ul":Se="- ";break;case"task":{const et=new Date().toISOString().split("T")[0];if(K!==de){const Le=Te.split(`
`).map(nt=>nt.trim()===""||nt.trim().match(/^[-*] \[( |x)\]/)?nt:`- [ ] ${nt.trim()} +${et}`).join(`
`);Pe=b.substring(0,K)+Le+b.substring(de),R(Pe),setTimeout(()=>{D.current&&(D.current.focus(),D.current.setSelectionRange(K+Le.length,K+Le.length))},0);return}else b.substring(0,K),Se=(K>0&&b[K-1]!==`
`?`
`:"")+"- [ ] ",Ce=` +${et}`;break}case"update":{const et=new Date().toISOString().split("T")[0],Le=b.substring(0,K);De=`${K===0||Le.endsWith(`
`)?"":`
`}  - ${et}: `,Ue=K+De.length;break}}De?Pe=b.substring(0,K)+De+b.substring(de):Pe=b.substring(0,K)+Se+Te+Ce+b.substring(de),R(Pe),setTimeout(()=>{if(D.current)if(D.current.focus(),Ue!==-1)D.current.setSelectionRange(Ue,Ue);else if(Te.length===0){const et=K+Se.length;D.current.setSelectionRange(et,et)}else D.current.setSelectionRange(K+Se.length,de+Se.length)},0)},[b]),ye=pe.useCallback(P=>{const ee=t.content.split(`
`),K=[];let de=0;for(;de<ee.length;){const Te=ee[de],Se=t.startLine+de,Ce=((x==null?void 0:x.startLine)??0)+Se,De=Te.match(/^_Archived on: (.*)_/);if(_&&De){K.push(w.jsxs("blockquote",{className:"border-l-4 border-slate-600 pl-4 py-2 my-4 text-slate-400 italic",children:["Archived on: ",De[1]]},`archive-date-${de}`)),de++;continue}const Ue=Te.match(/^(#+) (.*)/);if(Ue&&de===0&&t.heading){const Le=Ue[1].length,nt=Ue[2].trim(),He=P==null?void 0:P.find(It=>It.line===(m==="single"&&!_?Se+x.startLine:Se));let at,xt="font-bold flex items-center w-full text-left transition-colors hover:text-slate-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded p-1 -ml-1";switch(Le){case 1:at="text-3xl mt-6 mb-3 pb-2 border-b border-slate-700 scroll-mt-20";break;case 2:at="text-2xl mt-5 mb-2 scroll-mt-20";break;case 3:default:at="text-xl mt-4 mb-1 scroll-mt-20";break}const vt=`h${Le}`;K.push(xh.createElement(vt,{key:de,id:He==null?void 0:He.slug,className:at},w.jsxs("button",{className:xt,onClick:Z,"aria-expanded":!T,"aria-controls":`section-content-${t.startLine}`,children:[T?w.jsx(Gh,{className:"w-5 h-5 mr-2 flex-shrink-0 text-slate-400"}):w.jsx(hx,{className:"w-5 h-5 mr-2 flex-shrink-0 text-slate-400"}),w.jsx("span",{className:"flex-grow",children:w.jsx(Ts,{text:nt})})]}))),de++;continue}else if(Ue){const Le=Ue[1].length,nt=Ue[2].trim(),He=P==null?void 0:P.find(xt=>xt.line===Ce);let at="font-bold scroll-mt-20 ";Le===1?at+="text-3xl mt-6 mb-3 pb-2 border-b border-slate-700":Le===2?at+="text-2xl mt-5 mb-2":Le===3&&(at+="text-xl mt-4 mb-1"),K.push(xh.createElement(`h${Le}`,{key:de,className:at,id:He==null?void 0:He.slug},w.jsx(Ts,{text:nt}))),de++;continue}const Pe=Te.match(/^- \[( |x)\] (.*)/);if(Pe){let Le=Pe[2],nt=null,He=null,at=null,xt,vt=null;const It=Le.match(/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/);It&&(He=It[1],Le=Le.replace(It[0],"").trim());const wn=Le.match(/\s\(\$(\d+(\.\d{1,2})?)\)/);wn&&(xt=parseFloat(wn[1]),Le=Le.replace(wn[0],"").trim());const un=Le.match(/\s\(@([a-zA-Z0-9_]+)\)/);un&&(nt=I.get(un[1])||null,Le=Le.replace(un[0],"").trim());const cn=Le.match(/\s\+([0-9]{4}-[0-9]{2}-[0-9]{2})/);cn&&(at=cn[1],Le=Le.replace(cn[0],"").trim());const Fn=Le.match(/\s!([0-9]{4}-[0-9]{2}-[0-9]{2})/);Fn&&(vt=Fn[1],Le=Le.replace(Fn[0],"").trim());const en=[];let Vt=de+1;for(;Vt<ee.length;){const Fs=ee[Vt],Xr=Fs.match(/^  - (\d{4}-\d{2}-\d{2}): (.*)/);if(Xr){let vr=Xr[2].trim(),Hs=null;const qs=vr.match(/\s\(@([a-zA-Z0-9_]+)\)/);qs&&(Hs=qs[1],vr=vr.replace(qs[0],"").trim()),en.push({lineIndex:t.startLine+Vt,date:Xr[1],text:vr,assigneeAlias:Hs}),Vt++}else{if(Fs.trim()!=="")break;Vt++}}const so={lineIndex:Se,text:Le,completed:Pe[1]==="x",assigneeAlias:(nt==null?void 0:nt.alias)??null,creationDate:at,completionDate:He,dueDate:vt,updates:en,projectTitle:"",cost:xt,blockEndLine:t.startLine+Vt-1};K.push(w.jsx(zA,{task:so,taskBlockContent:ee.slice(de,Vt).join(`
`),blockLineCount:Vt-de,absoluteStartLine:Se,onToggle:s.onToggle,onUpdateTaskBlock:s.onUpdateTaskBlock,users:s.users,isArchiveView:_},de)),de=Vt;continue}const et=Te.match(/^[-*] (.*)/);et?K.push(w.jsx("li",{className:"ml-6 list-disc text-slate-300",children:w.jsx(Ts,{text:et[1]})},de)):Te.trim()===""?K.push(w.jsx("div",{className:"h-4"},de)):K.push(w.jsx("p",{className:"text-slate-300 my-2 leading-relaxed",children:w.jsx(Ts,{text:Te})},de)),de++}return K},[t.content,t.startLine,t.heading,s.users,s.onToggle,s.onUpdateTaskBlock,I,Z,T,x,m,_]),U=pe.useMemo(()=>S?null:ye(p),[S,ye,p]);if(S)return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-indigo-500/50",children:[w.jsx(Gl,{onFormat:A,onInsert:W,users:s.users}),w.jsxs("div",{className:"relative mt-4",children:[w.jsx("div",{ref:F,className:"w-full min-h-[120px] p-4 font-mono text-slate-300 text-sm leading-relaxed invisible absolute top-0 left-0 whitespace-pre-wrap break-words pointer-events-none","aria-hidden":"true"}),w.jsx("textarea",{ref:D,value:b,onChange:q,onKeyDown:Q,className:"w-full min-h-[120px] p-4 bg-slate-800 border border-slate-700 rounded-lg resize-none overflow-hidden focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none font-mono text-slate-300 text-sm leading-relaxed",autoFocus:!0}),N!==null&&ge.length>0&&V&&w.jsx(BA,{users:ge,position:V,onSelect:ie,activeIndex:G})]}),w.jsxs("div",{className:"flex justify-end items-center mt-4 space-x-3",children:[w.jsxs("button",{onClick:fe,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 font-semibold flex items-center space-x-2",children:[w.jsx(Un,{className:"w-4 h-4"}),w.jsx("span",{children:"Cancel"})]}),w.jsxs("button",{onClick:ne,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 font-semibold flex items-center space-x-2",children:[w.jsx(Ja,{className:"w-4 h-4"}),w.jsx("span",{children:"Save"})]})]})]}),se&&le&&w.jsx(Kl,{isOpen:se,onClose:()=>X(!1),onSubmit:le.onSubmit,title:le.title,label:le.label,confirmText:le.confirmText}),w.jsx(Vl,{isOpen:ae,onClose:()=>ce(!1),onSelectDate:be,title:"Select Due Date",confirmText:"Insert Date"})]});if(!U)return null;const y=t.heading?U[0]:null,v=t.heading?U.slice(1):U;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative group bg-slate-800/30 hover:bg-slate-800/50 rounded-lg transition-colors duration-200",children:[p&&((E=t.heading)==null?void 0:E.level)===1&&!_&&w.jsx(LA,{headings:p}),w.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[B&&w.jsx("button",{onClick:()=>f(t.startLine,t.endLine,x.title),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-label":"Archive section",title:"Archive section",children:w.jsx(ax,{className:"w-4 h-4"})}),_&&w.jsx("button",{onClick:()=>re(!0),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-label":"Restore section",title:"Restore section",children:w.jsx(sx,{className:"w-4 h-4"})}),!_&&w.jsxs(w.Fragment,{children:[w.jsx(MA,{allSections:a,currentSectionIndex:r,onDuplicateSection:O,viewScope:m}),w.jsx(UA,{allSections:a,currentSectionIndex:r,onMoveSection:te,viewScope:m})]}),w.jsx("button",{onClick:()=>j(!0),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-label":"Edit section",children:w.jsx($l,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"p-4 prose-invert pb-8",children:[y,w.jsx("div",{id:`section-content-${t.startLine}`,role:"region",children:(!T||!t.heading)&&v})]})]}),w.jsxs(Kh,{isOpen:z,onClose:()=>re(!1),onConfirm:k,title:"Restore Section",confirmText:"Yes, Restore",children:[w.jsxs("p",{children:["Are you sure you want to restore this section to the project ",w.jsxs("strong",{className:"text-slate-200",children:['"',x==null?void 0:x.title,'"']}),"?"]}),w.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"The section will be removed from the archive and become active again."})]})]})},FA=s=>{const{markdown:t,projects:r,viewScope:a,currentProjectIndex:l,isArchiveView:u}=s,{users:c,updateSection:f,moveSection:d,duplicateSection:p,toggleTask:m,updateTaskBlock:x,archiveSection:_,restoreSection:S}=Vr(),j=DA(t),T=pe.useMemo(()=>a==="single"&&r[l]&&!u?r[l].startLine:0,[a,r,l,u]),C=pe.useCallback((X,le)=>{const L={startLine:X.startLine+T,endLine:X.endLine+T},ae=le>0?le+T:0;d(L,ae)},[T,d]),b=pe.useCallback((X,le)=>{const L={startLine:X.startLine+T,endLine:X.endLine+T},ae=le>0?le+T:0;p(L,ae)},[T,p]),R=pe.useCallback((X,le,L)=>{const ae=a==="single"&&r[l]&&!u?r[l].startLine+X:X,ce=a==="single"&&r[l]&&!u?r[l].startLine+le:le;f(ae,ce,L,!!u)},[a,l,r,f,u]),D=pe.useCallback((X,le)=>{const L=a==="single"&&r[l]&&!u?r[l].startLine+X:X;m(L,le)},[a,l,r,m,u]),F=pe.useCallback((X,le,L)=>{const ae=a==="single"&&r[l]&&!u?r[l].startLine+X:X;x(ae,le,L,!!u)},[a,l,r,x,u]),I=pe.useCallback((X,le,L)=>{const ae=a==="single"&&r[l]?r[l].startLine+X:X,ce=a==="single"&&r[l]?r[l].startLine+le:le;_({startLine:ae,endLine:ce},L)},[a,l,r,_]),se=pe.useCallback((X,le,L)=>{S({startLine:X,endLine:le},L)},[S]);return w.jsx("div",{className:"h-full overflow-y-auto",children:w.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[j.length===0&&w.jsxs("div",{className:"text-center text-slate-500 py-16",children:[w.jsx("h2",{className:"text-2xl font-semibold",children:u?"L'archivio  vuoto":"Nessun contenuto"}),w.jsx("p",{children:u?"Le sezioni completate e archiviate appariranno qui.":"Inizia aggiungendo del contenuto."})]}),w.jsx("div",{className:"space-y-4",children:j.map((X,le)=>{var ce;const L=r.find(z=>X.startLine>=z.startLine&&X.startLine<=z.endLine),ae=L==null?void 0:L.headings;return w.jsx(PA,{section:X,sectionIndex:le,allSections:j,onSectionUpdate:R,onMoveSection:C,onDuplicateSection:b,onToggle:D,onUpdateTaskBlock:F,onArchiveSection:I,onRestoreSection:se,tocHeadings:ae,users:c,viewScope:a,project:L,isArchiveView:u},(ce=X.heading)!=null&&ce.text?`${X.heading.text}-${X.startLine}`:X.startLine)})})]})})},HA=({content:s,onChange:t,onSave:r,onCancel:a,users:l})=>{const u=pe.useRef(null),[c,f]=pe.useState(!1),[d,p]=pe.useState(null),[m,x]=pe.useState(!1);pe.useEffect(()=>{if(u.current){const T=u.current.value.length;u.current.focus(),u.current.setSelectionRange(T,T)}},[]);const _=pe.useCallback((T,C)=>{const b=u.current;if(!b)return;const{selectionStart:R}=b;if(C==="assignee"){const L=s.substring(0,R).lastIndexOf(`
`)+1;let ae=s.indexOf(`
`,R);ae===-1&&(ae=s.length);let ce=s.substring(L,ae);const z=/\s\(@([a-zA-Z0-9_]+)\)/g;ce=ce.replace(z,"");const re=ce.trimEnd()+" "+T,N=s.substring(0,L)+re+s.substring(ae);t(N),setTimeout(()=>{b.focus();const J=L+re.length;b.setSelectionRange(J,J)},0);return}const{selectionEnd:D}=b,F=R>0?s[R-1]:`
`,se=`${/\s$/.test(F)?"":" "}${T}`,X=s.substring(0,R)+se+s.substring(D);t(X),setTimeout(()=>{b.focus();const le=R+se.length;b.setSelectionRange(le,le)},0)},[s,t]),S=pe.useCallback(T=>{const C=u.current;if(!C)return;const{selectionStart:b,selectionEnd:R}=C,D=b>0?s[b-1]:`
`,I=`${/\s$/.test(D)?"":" "}!${T}`,se=s.substring(0,b)+I+s.substring(R);t(se),setTimeout(()=>{C.focus();const X=b+I.length;C.setSelectionRange(X,X)},0)},[s,t]),j=pe.useCallback(T=>{const C=u.current;if(!C)return;const{selectionStart:b,selectionEnd:R}=C,D=s.substring(b,R);if(T==="link"){p({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:L=>{const ae=b>0?s[b-1]:`
`,ce=R<s.length?s[R]:`
`,z=/^\s$/.test(ae)?"":" ",re=/^\s$/.test(ce)?"":" ",N=D||"",J=L.replace(/\(/g,"%28").replace(/\)/g,"%29"),V=z+`[${N}](${J})`+re,Y=s.substring(0,b)+V+s.substring(R);t(Y),setTimeout(()=>{if(u.current){u.current.focus();const ge=b+z.length+1,ue=ge+N.length;u.current.setSelectionRange(ge,ue)}},0)}}),f(!0);return}if(T==="gmail"){p({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:L=>{const ae=b>0?s[b-1]:`
`,ce=R<s.length?s[R]:`
`,z=/^\s$/.test(ae)?"":" ",re=/^\s$/.test(ce)?"":" ",V=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${L}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),Y=z+`[ ${L}](${V})`+re,ge=s.substring(0,b)+Y+s.substring(R);t(ge),setTimeout(()=>{if(u.current){u.current.focus();const ue=b+Y.length;u.current.setSelectionRange(ue,ue)}},0)}}),f(!0);return}if(T==="dueDate"){x(!0);return}let F="",I="",se="",X=-1,le;switch(T){case"h1":F="# ";break;case"h2":F="## ";break;case"h3":F="### ";break;case"bold":F="**",I="**";break;case"italic":F="*",I="*";break;case"ul":F="- ";break;case"task":{const L=new Date().toISOString().split("T")[0];if(b!==R){const ae=D.split(`
`).map(ce=>ce.trim()===""||ce.trim().match(/^[-*] \[( |x)\]/)?ce:`- [ ] ${ce.trim()} +${L}`).join(`
`);le=s.substring(0,b)+ae+s.substring(R),t(le),setTimeout(()=>{u.current&&(u.current.focus(),u.current.setSelectionRange(b+ae.length,b+ae.length))},0);return}else s.substring(0,b),F=(b>0&&s[b-1]!==`
`?`
`:"")+"- [ ] ",I=` +${L}`;break}case"update":{const L=new Date().toISOString().split("T")[0],ae=s.substring(0,b);se=`${b===0||ae.endsWith(`
`)?"":`
`}  - ${L}: `,X=b+se.length;break}}se?le=s.substring(0,b)+se+s.substring(R):le=s.substring(0,b)+F+D+I+s.substring(R),t(le),setTimeout(()=>{if(u.current)if(u.current.focus(),X!==-1)u.current.setSelectionRange(X,X);else if(D.length===0){const L=b+F.length;u.current.setSelectionRange(L,L)}else u.current.setSelectionRange(b+F.length,R+F.length)},0)},[s,t]);return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8",children:[w.jsx("div",{className:"mb-4 flex-shrink-0",children:w.jsx(Gl,{onFormat:j,onInsert:_,users:l})}),w.jsx("textarea",{ref:u,value:s,onChange:T=>t(T.target.value),className:"w-full flex-grow p-4 bg-slate-800 border border-slate-700 rounded-lg resize-y focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none font-mono text-slate-300 text-sm leading-relaxed",autoFocus:!0}),w.jsxs("div",{className:"flex justify-end items-center mt-4 space-x-3 flex-shrink-0",children:[w.jsxs("button",{onClick:a,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 font-semibold flex items-center space-x-2",children:[w.jsx(Un,{className:"w-4 h-4"}),w.jsx("span",{children:"Cancel"})]}),w.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 font-semibold flex items-center space-x-2",children:[w.jsx(Ja,{className:"w-4 h-4"}),w.jsx("span",{children:"Save Changes"})]})]})]}),c&&d&&w.jsx(Kl,{isOpen:c,onClose:()=>f(!1),onSubmit:d.onSubmit,title:d.title,label:d.label,confirmText:d.confirmText}),w.jsx(Vl,{isOpen:m,onClose:()=>x(!1),onSelectDate:S,title:"Select Due Date",confirmText:"Insert Date"})]})},qA=s=>s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).map((r,a)=>{if(!r)return null;if(r.startsWith("**")&&r.endsWith("**"))return w.jsx("strong",{children:r.slice(2,-2)},a);if(r.startsWith("*")&&r.endsWith("*"))return w.jsx("em",{children:r.slice(1,-1)},a);const l=r.match(/\[(.*?)\]\((.*?)\)/);return l?w.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},a):r}),$A=({text:s})=>w.jsx(w.Fragment,{children:qA(s)}),GA=({task:s,user:t,viewScope:r})=>w.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-slate-800/50 rounded-md",children:[s.completed?w.jsx(ql,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}):w.jsx(rv,{className:"h-5 w-5 text-slate-500 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"flex-grow min-w-0",children:[w.jsx("p",{className:`text-sm ${s.completed?"line-through text-slate-500":"text-slate-300"}`,children:w.jsx($A,{text:s.text})}),w.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-1 text-xs text-slate-400",children:[t&&w.jsxs("div",{className:"flex items-center space-x-1",children:[w.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-4 w-4 rounded-full"}),w.jsx("span",{children:t.name})]}),r==="all"&&w.jsx("span",{className:"font-medium text-indigo-400",children:s.projectTitle})]})]}),w.jsx("span",{className:"text-xs font-mono whitespace-nowrap text-slate-400",children:s.dueDate})]}),$a=({title:s,icon:t,tasks:r,viewScope:a})=>{const{users:l}=Vr(),u=pe.useMemo(()=>new Map(l.map(c=>[c.alias,c])),[l]);return r.length===0?null:w.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[w.jsxs("h3",{className:"font-bold text-lg text-slate-100 flex items-center mb-4",children:[t,w.jsx("span",{className:"ml-2",children:s}),w.jsx("span",{className:"ml-auto text-sm font-normal bg-slate-700 text-slate-300 rounded-full px-2.5 py-0.5",children:r.length})]}),w.jsx("div",{className:"space-y-2",children:r.map(c=>w.jsx(GA,{task:c,user:c.assigneeAlias?u.get(c.assigneeAlias)??null:null,viewScope:a},c.lineIndex))})]})},KA=({tasks:s,viewScope:t})=>{const r=pe.useMemo(()=>{const a=new Date;a.setHours(0,0,0,0),new Date(a).setDate(a.getDate()+1);const u=new Date(a);u.setDate(a.getDate()+(7-a.getDay()));const c=new Date(a.getFullYear(),a.getMonth()+1,0),f=[],d=[],p=[],m=[],x=[];return s.forEach(_=>{if(!_.dueDate)return;const S=new Date(`${_.dueDate}T00:00:00`);_.completed||(S<a?f.push(_):S.getTime()===a.getTime()?d.push(_):S>a&&S<=u?p.push(_):S>u&&S<=c?m.push(_):x.push(_))}),{overdue:f,dueToday:d,thisWeek:p,thisMonth:m,later:x}},[s]);return s.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[w.jsx(h0,{className:"w-16 h-16 mb-4"}),w.jsx("h2",{className:"text-2xl font-semibold",children:"No Tasks with Due Dates"}),w.jsx("p",{children:"This timeline shows tasks with a 'due date'."}),w.jsx("p",{children:"Try adding a due date like `!YYYY-MM-DD` to a task in the editor."})]}):w.jsx("div",{className:"p-8 overflow-y-auto h-full pb-24",children:w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[w.jsx($a,{title:"Overdue",icon:w.jsx(Dx,{className:"w-5 h-5 text-red-400"}),tasks:r.overdue,viewScope:t}),w.jsx($a,{title:"Due Today",icon:w.jsx(tv,{className:"w-5 h-5 text-yellow-400"}),tasks:r.dueToday,viewScope:t}),w.jsx($a,{title:"This Week",icon:w.jsx(ox,{className:"w-5 h-5 text-blue-400"}),tasks:r.thisWeek,viewScope:t}),w.jsx($a,{title:"This Month",icon:w.jsx(px,{className:"w-5 h-5 text-indigo-400"}),tasks:r.thisMonth,viewScope:t}),w.jsx($a,{title:"Later",icon:w.jsx(h0,{className:"w-5 h-5 text-slate-400"}),tasks:r.later,viewScope:t})]})})},VA=({isConfigured:s,isLoading:t,onBackup:r,onRestore:a,isAuthenticated:l,onSignOut:u})=>{const[c,f]=pe.useState(!1),d=pe.useRef(null);pe.useEffect(()=>{const _=S=>{d.current&&!d.current.contains(S.target)&&f(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const p=()=>{r(),f(!1)},m=()=>{a(),f(!1)},x=()=>{u(),f(!1)};return w.jsxs("div",{className:"relative",ref:d,children:[w.jsxs("button",{onClick:()=>f(_=>!_),disabled:!s,className:"relative flex items-center space-x-2 p-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed","aria-haspopup":"true","aria-expanded":c,title:s?"Cloud Actions":"Configure Supabase in Settings to enable Cloud Actions",children:[t?w.jsx(Nx,{className:"w-5 h-5 animate-spin"}):w.jsx(yx,{className:"w-5 h-5"}),s&&l&&!t&&w.jsx("span",{className:"absolute -top-0.5 -right-0.5 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-slate-700",title:"Authenticated"})]}),c&&s&&w.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsxs("div",{className:"p-2",children:[w.jsxs("button",{onClick:p,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(gx,{className:"w-4 h-4"}),w.jsx("span",{children:"Backup to Cloud"})]}),w.jsxs("button",{onClick:m,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(mx,{className:"w-4 h-4"}),w.jsx("span",{children:"Restore from Cloud"})]}),l&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"border-t border-slate-700 my-2"}),w.jsxs("button",{onClick:x,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-red-400",role:"menuitem",children:[w.jsx(Rx,{className:"w-4 h-4"}),w.jsx("span",{children:"Sign Out"})]})]})]})})]})},WA=({isOpen:s,onClose:t,onConfirm:r,title:a})=>{const[l,u]=pe.useState(""),c=pe.useRef(null);if(pe.useEffect(()=>{s&&(u(""),setTimeout(()=>{var d;return(d=c.current)==null?void 0:d.focus()},100))},[s]),!s)return null;const f=d=>{d.preventDefault(),l&&r(l)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:a}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:f,children:[w.jsxs("div",{className:"text-slate-300 mb-6",children:[w.jsx("label",{htmlFor:"supabase-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Supabase Password"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Enter your Supabase user password to proceed. It will not be stored."}),w.jsx("input",{id:"supabase-password",ref:c,type:"password",value:l,onChange:d=>u(d.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(Ex,{className:"w-4 h-4"}),w.jsx("span",{children:"Confirm"})]})]})]})]})})},YA=({isOpen:s,onClose:t,backups:r,onSelectBackup:a})=>s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-lg mx-4 border border-slate-700 flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[w.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center",children:[w.jsx(_x,{className:"w-5 h-5 mr-2"})," Select a Backup to Restore"]}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Un,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"text-slate-300 mb-6 overflow-y-auto",children:r.length>0?w.jsx("div",{className:"space-y-2",children:r.map(l=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/50 rounded-md",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-200",children:new Date(l.created_at).toLocaleString()}),w.jsx("p",{className:"text-xs text-slate-400",children:l.client_name||"Backup"})]}),w.jsxs("button",{onClick:()=>a(l.id),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold text-sm",children:[w.jsx(sv,{className:"w-4 h-4"}),w.jsx("span",{children:"Restore"})]})]},l.id))}):w.jsx("p",{className:"text-center text-slate-400 py-8",children:"No backups found in the cloud."})}),w.jsx("div",{className:"flex justify-end mt-auto pt-4 border-t border-slate-700 flex-shrink-0",children:w.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"})})]})}):null,XA="modulepreload",ZA=function(s){return"/markdown-tasker/"+s},Ey={},ro=function(t,r,a){let l=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=c(r.map(p=>{if(p=ZA(p),p in Ey)return;Ey[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":XA,m||(_.as="script"),_.crossOrigin="",_.href=p,d&&_.setAttribute("nonce",d),document.head.appendChild(_),m)return new Promise((S,j)=>{_.addEventListener("load",S),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},QA=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>ro(async()=>{const{default:a}=await Promise.resolve().then(()=>Ps);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)};class fd extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class Ty extends fd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ay extends fd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ky extends fd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dh;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Dh||(Dh={}));var JA=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class ek{constructor(t,{headers:r={},customFetch:a,region:l=Dh.Any}={}){this.url=t,this.headers=r,this.region=l,this.fetch=QA(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var a;return JA(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:c,signal:f}=r;let d={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${t}`);p&&p!=="any"&&(d["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let x;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(d["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(d["Content-Type"]="application/json",x=JSON.stringify(c)));const _=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),l),body:x,signal:f}).catch(C=>{throw C.name==="AbortError"?C:new Ty(C)}),S=_.headers.get("x-relay-error");if(S&&S==="true")throw new Ay(_);if(!_.ok)throw new ky(_);let j=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield _.json():j==="application/octet-stream"?T=yield _.blob():j==="text/event-stream"?T=_:j==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Ty(l)}:{data:null,error:l,response:l instanceof ky||l instanceof Ay?l.context:void 0}}})}}var qt={},ds={},ps={},ms={},gs={},ys={},tk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ls=tk();const nk=Ls.fetch,aw=Ls.fetch.bind(Ls),ow=Ls.Headers,rk=Ls.Request,ik=Ls.Response,Ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:ow,Request:rk,Response:ik,default:aw,fetch:nk},Symbol.toStringTag,{value:"Module"})),sk=L1(Ps);var Nl={},jy;function lw(){if(jy)return Nl;jy=1,Object.defineProperty(Nl,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Nl.default=s,Nl}var Ny;function uw(){if(Ny)return ys;Ny=1;var s=ys&&ys.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ys,"__esModule",{value:!0});const t=s(sk),r=s(lw());class a{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let d=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,x,_,S;let j=null,T=null,C=null,b=p.status,R=p.statusText;if(p.ok){if(this.method!=="HEAD"){const se=await p.text();se===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?T=se:T=JSON.parse(se))}const F=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),I=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");F&&I&&I.length>1&&(C=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(j={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,C=null,b=406,R="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const F=await p.text();try{j=JSON.parse(F),Array.isArray(j)&&p.status===404&&(T=[],j=null,b=200,R="OK")}catch{p.status===404&&F===""?(b=204,R="No Content"):j={message:F}}if(j&&this.isMaybeSingle&&(!((S=j==null?void 0:j.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,b=200,R="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:T,count:C,status:b,statusText:R}});return this.shouldThrowOnError||(d=d.catch(p=>{var m,x,_;return{error:{message:`${(m=p==null?void 0:p.name)!==null&&m!==void 0?m:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(_=p==null?void 0:p.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),d.then(u,c)}returns(){return this}overrideTypes(){return this}}return ys.default=a,ys}var Ry;function cw(){if(Ry)return gs;Ry=1;var s=gs&&gs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gs,"__esModule",{value:!0});const t=s(uw());class r extends t.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:d=f}={}){const p=d?`${d}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const d=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:d=!1,format:p="text"}={}){var m;const x=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,d?"wal":null].filter(Boolean).join("|"),_=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return gs.default=r,gs}var Cy;function hd(){if(Cy)return ms;Cy=1;var s=ms&&ms.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ms,"__esModule",{value:!0});const t=s(cw());class r extends t.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const c=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:c,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${d}fts${p}.${u}`),this}match(l){return Object.entries(l).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(l,u,c){return this.url.searchParams.append(l,`not.${u}.${c}`),this}or(l,{foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,c){return this.url.searchParams.append(l,`${u}.${c}`),this}}return ms.default=r,ms}var Oy;function fw(){if(Oy)return ps;Oy=1;var s=ps&&ps.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ps,"__esModule",{value:!0});const t=s(hd());class r{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=c,this.fetch=f}select(l,{head:u=!1,count:c}={}){const f=u?"HEAD":"GET";let d=!1;const p=(l??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:c=!0}={}){var f;const d="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(p.length>0){const m=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:d=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(x.length>0){const _=[...new Set(x)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:u}={}){var c;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var u;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ps.default=r,ps}var Dy;function ak(){if(Dy)return ds;Dy=1;var s=ds&&ds.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ds,"__esModule",{value:!0});const t=s(fw()),r=s(hd());class a{constructor(u,{headers:c={},schema:f,fetch:d}={}){this.url=u,this.headers=new Headers(c),this.schemaName=f,this.fetch=d}from(u){const c=new URL(`${this.url}/${u}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new a(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:f=!1,get:d=!1,count:p}={}){var m;let x;const _=new URL(`${this.url}/rpc/${u}`);let S;f||d?(x=f?"HEAD":"GET",Object.entries(c).filter(([T,C])=>C!==void 0).map(([T,C])=>[T,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([T,C])=>{_.searchParams.append(T,C)})):(x="POST",S=c);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new r.default({method:x,url:_,headers:j,schema:this.schemaName,body:S,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return ds.default=a,ds}var Uy;function ok(){if(Uy)return qt;Uy=1;var s=qt&&qt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(qt,"__esModule",{value:!0}),qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const t=s(ak());qt.PostgrestClient=t.default;const r=s(fw());qt.PostgrestQueryBuilder=r.default;const a=s(hd());qt.PostgrestFilterBuilder=a.default;const l=s(cw());qt.PostgrestTransformBuilder=l.default;const u=s(uw());qt.PostgrestBuilder=u.default;const c=s(lw());return qt.PostgrestError=c.default,qt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},qt}var lk=ok();const uk=Fl(lk),{PostgrestClient:ck,PostgrestQueryBuilder:wN,PostgrestFilterBuilder:bN,PostgrestTransformBuilder:xN,PostgrestBuilder:_N,PostgrestError:SN}=uk;class fk{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hk="2.15.5",dk=`realtime-js/${hk}`,pk="1.0.0",Uh=1e4,mk=1e3,gk=100;var Wa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Wa||(Wa={}));var Bt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Bt||(Bt={}));var zn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(zn||(zn={}));var Mh;(function(s){s.websocket="websocket"})(Mh||(Mh={}));var bi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(bi||(bi={}));class yk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const l=r.getUint8(1),u=r.getUint8(2);let c=this.HEADER_LENGTH+2;const f=a.decode(t.slice(c,c+l));c=c+l;const d=a.decode(t.slice(c,c+u));c=c+u;const p=JSON.parse(a.decode(t.slice(c,t.byteLength)));return{ref:null,topic:f,event:d,payload:p}}}class hw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(yt||(yt={}));const My=(s,t,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((u,c)=>(u[c]=vk(c,s,t,l),u),{})},vk=(s,t,r,a)=>{const l=t.find(f=>f.name===s),u=l==null?void 0:l.type,c=r[s];return u&&!a.includes(u)?dw(u,c):Lh(c)},dw=(s,t)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return _k(t,r)}switch(s){case yt.bool:return wk(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return bk(t);case yt.json:case yt.jsonb:return xk(t);case yt.timestamp:return Sk(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return Lh(t);default:return Lh(t)}},Lh=s=>s,wk=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},bk=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},xk=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},_k=(s,t)=>{if(typeof s!="string")return s;const r=s.length-1,a=s[r];if(s[0]==="{"&&a==="}"){let u;const c=s.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>dw(t,f))}return s},Sk=s=>typeof s=="string"?s.replace(" ","T"):s,pw=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class hh{constructor(t,r,a={},l=Uh){this.channel=t,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ly;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Ly||(Ly={}));class Ya{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ya.syncState(this.state,l,u,c),this.pendingDiffs.forEach(d=>{this.state=Ya.syncDiff(this.state,d,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ya.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,l){const u=this.cloneDeep(t),c=this.transformState(r),f={},d={};return this.map(u,(p,m)=>{c[p]||(d[p]=m)}),this.map(c,(p,m)=>{const x=u[p];if(x){const _=m.map(C=>C.presence_ref),S=x.map(C=>C.presence_ref),j=m.filter(C=>S.indexOf(C.presence_ref)<0),T=x.filter(C=>_.indexOf(C.presence_ref)<0);j.length>0&&(f[p]=j),T.length>0&&(d[p]=T)}else f[p]=m}),this.syncDiff(u,{joins:f,leaves:d},a,l)}static syncDiff(t,r,a,l){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(f,d)=>{var p;const m=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(d),m.length>0){const x=t[f].map(S=>S.presence_ref),_=m.filter(S=>x.indexOf(S.presence_ref)<0);t[f].unshift(..._)}a(f,m,d)}),this.map(c,(f,d)=>{let p=t[f];if(!p)return;const m=d.map(x=>x.presence_ref);p=p.filter(x=>m.indexOf(x.presence_ref)<0),t[f]=p,l(f,p,d),p.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const l=t[a];return"metas"in l?r[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[a]=l,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var By;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(By||(By={}));var Xa;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Xa||(Xa={}));var mr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class dd{constructor(t,r={config:{}},a){this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hh(this,zn.join,this.params,this.timeout),this.rejoinTimer=new hw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ya(this),this.broadcastEndpointURL=pw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:c,presence:f,private:d}}=this.params,p=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(S=>S.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[Xa.PRESENCE]&&this.bindings[Xa.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},_={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(mr.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(mr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){t==null||t(mr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,C=(j=T==null?void 0:T.length)!==null&&j!==void 0?j:0,b=[];for(let R=0;R<C;R++){const D=T[R],{filter:{event:F,schema:I,table:se,filter:X}}=D,le=S&&S[R];if(le&&le.event===F&&le.schema===I&&le.table===se&&le.filter===X)b.push(Object.assign(Object.assign({},D),{id:le.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(mr.SUBSCRIBED);return}}).receive("error",S=>{this.state=Bt.errored,t==null||t(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Bt.joined&&t===Xa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async send(t,r={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:c}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,d;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new hh(this,zn.leave,{},t),a.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(u),c}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new hh(this,t,r,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var l,u;const c=t.toLocaleLowerCase(),{close:f,error:d,leave:p,join:m}=zn;if(a&&[f,d,p,m].indexOf(c)>=0&&a!==this._joinRef())return;let _=this._onMessage(c,r,a);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var j,T,C;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(T=S.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(_,a)):(u=this.bindings[c])===null||u===void 0||u.filter(S=>{var j,T,C,b,R,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const F=S.id,I=(j=S.filter)===null||j===void 0?void 0:j.event;return F&&((T=r.ids)===null||T===void 0?void 0:T.includes(F))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const F=(R=(b=S==null?void 0:S.filter)===null||b===void 0?void 0:b.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return F==="*"||F===((D=r==null?void 0:r.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:T,table:C,commit_timestamp:b,type:R,errors:D}=j;_=Object.assign(Object.assign({},{schema:T,table:C,commit_timestamp:b,eventType:R,new:{},old:{},errors:D}),this._getPayloadRecords(j))}S.callback(_,a)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const l=t.toLocaleLowerCase(),u={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&dd.isEqual(l.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zn.close,{},t)}_onError(t){this._on(zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=My(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=My(t.columns,t.old_record)),r}}const dh=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ek=[1e3,2e3,5e3,1e4],Tk=1e4,Ak=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kk{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uh,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dh,this.ref=0,this.reconnectTimer=null,this.logger=dh,this.conn=null,this.sendBuffer=[],this.serializer=new yk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...c)=>ro(async()=>{const{default:f}=await Promise.resolve().then(()=>Ps);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mh.websocket}`,this.httpEndpoint=pw(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pk}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Wa.connecting:return bi.Connecting;case Wa.open:return bi.Open;case Wa.closing:return bi.Closing;default:return bi.Closed}}isConnected(){return this.connectionState()===bi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new dd(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:a,payload:l,ref:u}=t,c=()=>{this.encode(t,f=>{var d;(d=this.conn)===null||d===void 0||d.send(f)})};this.log("push",`${r} ${a} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:u,ref:c}=r,f=c?`(${c})`:"",d=u.status||"";this.log("receive",`${d} ${a} ${l} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${t}${a}${l}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([Ak],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:dk};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new hw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,l,u,c,f,d,p,m;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Uh,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:Rl.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:dh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(x=>Ek[x-1]||Tk),this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((x,_)=>_(JSON.stringify(x))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class pd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ut(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class jk extends pd{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bh extends pd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Nk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const mw=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>ro(async()=>{const{default:a}=await Promise.resolve().then(()=>Ps);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},Rk=()=>Nk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ro(()=>Promise.resolve().then(()=>Ps),void 0)).Response:Response}),Ih=s=>{if(Array.isArray(s))return s.map(r=>Ih(r));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=Ih(a)}),t},Ck=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var Ti=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const ph=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ok=(s,t,r)=>Ti(void 0,void 0,void 0,function*(){const a=yield Rk();s instanceof a&&!(r!=null&&r.noResolveJson)?s.json().then(l=>{const u=s.status||500,c=(l==null?void 0:l.statusCode)||u+"";t(new jk(ph(l),u,c))}).catch(l=>{t(new Bh(ph(l),l))}):t(new Bh(ph(s),s))}),Dk=(s,t,r,a)=>{const l={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"||!a?l:(Ck(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,t!=null&&t.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),r))};function io(s,t,r,a,l,u){return Ti(this,void 0,void 0,function*(){return new Promise((c,f)=>{s(r,Dk(t,a,l,u)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>Ok(d,f,a))})})}function zl(s,t,r,a){return Ti(this,void 0,void 0,function*(){return io(s,"GET",t,r,a)})}function Wn(s,t,r,a,l){return Ti(this,void 0,void 0,function*(){return io(s,"POST",t,a,l,r)})}function zh(s,t,r,a,l){return Ti(this,void 0,void 0,function*(){return io(s,"PUT",t,a,l,r)})}function Uk(s,t,r,a){return Ti(this,void 0,void 0,function*(){return io(s,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function gw(s,t,r,a,l){return Ti(this,void 0,void 0,function*(){return io(s,"DELETE",t,a,l,r)})}var Mk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class Lk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Mk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}}var Bk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class Ik{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new Lk(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return Bk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}}var on=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const zk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pk{constructor(t,r={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=mw(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,l){return on(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Iy),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),d&&u.append("metadata",this.encodeMetadata(d)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",c.cacheControl),d&&u.append("metadata",this.encodeMetadata(d))):(u=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,d&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(r),m=this._getFinalPath(p),x=yield(t=="PUT"?zh:Wn)(this.fetch,`${this.url}/object/${m}`,u,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ut(u))return{data:null,error:u};throw u}})}upload(t,r,a){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,l){return on(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let d;const p=Object.assign({upsert:Iy.upsert},l),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",p.cacheControl)):(d=a,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const x=yield zh(this.fetch,f.toString(),d,{headers:m});return{data:{path:u,fullPath:x.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ut(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return on(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const u=yield Wn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new pd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}update(t,r,a){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return on(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}copy(t,r,a){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}createSignedUrl(t,r,a){return on(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),u=yield Wn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}createSignedUrls(t,r,a){return on(this,void 0,void 0,function*(){try{const l=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}download(t,r){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=u?`?${u}`:"",f=this._getFinalPath(t),d=()=>zl(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new Ik(d,this.shouldThrowOnError)}info(t){return on(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield zl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ih(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}exists(t){return on(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Uk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a)&&a instanceof Bh){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),l=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&l.push(u);const f=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&l.push(d);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(t){return on(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}list(t,r,a){return on(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},zk),r),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}listV2(t,r){return on(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Wn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Fk="2.12.2",Hk={"X-Client-Info":`storage-js/${Fk}`};var vs=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class qk{constructor(t,r={},a,l){this.shouldThrowOnError=!1;const u=new URL(t);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Hk),r),this.fetch=mw(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vs(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}getBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vs(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return vs(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}emptyBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}}class $k extends qk{constructor(t,r={},a,l){super(t,r,a,l)}from(t){return new Pk(this.url,this.headers,t,this.fetch)}}const Gk="2.58.0";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const Kk={"X-Client-Info":`supabase-js-${Ka}/${Gk}`},Vk={headers:Kk},Wk={schema:"public"},Yk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xk={};var Zk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const Qk=s=>{let t;return s?t=s:typeof fetch>"u"?t=aw:t=fetch,(...r)=>t(...r)},Jk=()=>typeof Headers>"u"?ow:Headers,ej=(s,t,r)=>{const a=Qk(r),l=Jk();return(u,c)=>Zk(void 0,void 0,void 0,function*(){var f;const d=(f=yield t())!==null&&f!==void 0?f:s;let p=new l(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),a(u,Object.assign(Object.assign({},c),{headers:p}))})};var tj=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};function nj(s){return s.endsWith("/")?s:s+"/"}function rj(s,t){var r,a;const{db:l,auth:u,realtime:c,global:f}=s,{db:d,auth:p,realtime:m,global:x}=t,_={db:Object.assign(Object.assign({},d),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),f),{headers:Object.assign(Object.assign({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>tj(this,void 0,void 0,function*(){return""})};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function ij(s){const t=s==null?void 0:s.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yw="2.72.0",Ss=30*1e3,Ph=3,mh=Ph*Ss,sj="http://localhost:9999",aj="supabase.auth.token",oj={"X-Client-Info":`gotrue-js/${yw}`},Fh="X-Supabase-Api-Version",vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uj=600*1e3;class md extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ke(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class cj extends md{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function fj(s){return Ke(s)&&s.name==="AuthApiError"}class ww extends md{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yr extends md{constructor(t,r,a,l){super(t,a,l),this.name=r,this.status=a}}class $r extends Yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hj(s){return Ke(s)&&s.name==="AuthSessionMissingError"}class Ga extends Yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cl extends Yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ol extends Yr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dj(s){return Ke(s)&&s.name==="AuthImplicitGrantRedirectError"}class zy extends Yr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hh extends Yr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gh(s){return Ke(s)&&s.name==="AuthRetryableFetchError"}class Py extends Yr{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class qh extends Yr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fy=` 	
\r=`.split(""),pj=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<Fy.length;t+=1)s[Fy[t].charCodeAt(0)]=-2;for(let t=0;t<Pl.length;t+=1)s[Pl[t].charCodeAt(0)]=t;return s})();function Hy(s,t,r){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Pl[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Pl[a]),t.queuedBits-=6}}function bw(s,t,r){const a=pj[s];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function qy(s){const t=[],r=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{yj(c,a,r)};for(let c=0;c<s.length;c+=1)bw(s.charCodeAt(c),l,u);return t.join("")}function mj(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function gj(s,t){for(let r=0;r<s.length;r+=1){let a=s.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(s.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}mj(a,t)}}function yj(s,t,r){if(t.utf8seq===0){if(s<=127){r(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function vj(s){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<s.length;l+=1)bw(s.charCodeAt(l),r,a);return new Uint8Array(t)}function wj(s){const t=[];return gj(s,r=>t.push(r)),new Uint8Array(t)}function bj(s){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};return s.forEach(l=>Hy(l,r,a)),Hy(null,r,a),t.join("")}function xj(s){return Math.round(Date.now()/1e3)+s}function _j(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const Cn=()=>typeof window<"u"&&typeof document<"u",gi={tested:!1,writable:!1},xw=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gi.tested)return gi.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),gi.tested=!0,gi.writable=!0}catch{gi.tested=!0,gi.writable=!1}return gi.writable};function Sj(s){const t={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return r.searchParams.forEach((a,l)=>{t[l]=a}),t}const _w=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>ro(async()=>{const{default:a}=await Promise.resolve().then(()=>Ps);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},Ej=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Es=async(s,t,r)=>{await s.setItem(t,JSON.stringify(r))},yi=async(s,t)=>{const r=await s.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qr=async(s,t)=>{await s.removeItem(t)};class nu{constructor(){this.promise=new nu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}nu.promiseConstructor=Promise;function yh(s){const t=s.split(".");if(t.length!==3)throw new qh("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!lj.test(t[a]))throw new qh("JWT not in base64url format");return{header:JSON.parse(qy(t[0])),payload:JSON.parse(qy(t[1])),signature:vj(t[2]),raw:{header:t[0],payload:t[1]}}}async function Tj(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Aj(s,t){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await s(u);if(!t(u,null,c)){a(c);return}}catch(c){if(!t(u,c)){l(c);return}}})()})}function kj(s){return("0"+s.toString(16)).substr(-2)}function jj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let u=0;u<56;u++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,kj).join("")}async function Nj(s){const r=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Rj(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Nj(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ws(s,t,r=!1){const a=jj();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await Es(s,`${t}-code-verifier`,l);const u=await Rj(a);return[u,a===u?"plain":"s256"]}const Cj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oj(s){const t=s.headers.get(Fh);if(!t||!t.match(Cj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dj(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function Uj(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bs(s){if(!Mj.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vh(){const s={};return new Proxy(s,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $y(s){return JSON.parse(JSON.stringify(s))}var Lj=function(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(r[a[l]]=s[a[l]]);return r};const wi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Bj=[502,503,504];async function Gy(s){var t;if(!Ej(s))throw new Hh(wi(s),0);if(Bj.includes(s.status))throw new Hh(wi(s),s.status);let r;try{r=await s.json()}catch(u){throw new ww(wi(u),u)}let a;const l=Oj(s);if(l&&l.getTime()>=vw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Py(wi(r),s.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Py(wi(r),s.status,r.weak_password.reasons);throw new cj(wi(r),s.status||500,a)}const Ij=(s,t,r,a)=>{const l={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function Ze(s,t,r,a){var l;const u=Object.assign({},a==null?void 0:a.headers);u[Fh]||(u[Fh]=vw["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await zj(s,t,r+f,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function zj(s,t,r,a,l,u){const c=Ij(t,a,l,u);let f;try{f=await s(r,Object.assign({},c))}catch(d){throw console.error(d),new Hh(wi(d),0)}if(f.ok||await Gy(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(d){await Gy(d)}}function Vn(s){var t;let r=null;qj(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=xj(s.expires_in)));const a=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:r,user:a},error:null}}function Ky(s){const t=Vn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Gr(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function Pj(s){return{data:s,error:null}}function Fj(s){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u}=s,c=Lj(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u},d=Object.assign({},c);return{data:{properties:f,user:d},error:null}}function Hj(s){return s}function qj(s){return s.access_token&&s.refresh_token&&s.expires_in}const wh=["global","local","others"];var $j=function(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(r[a[l]]=s[a[l]]);return r};class Gj{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=_w(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=wh[0]){if(wh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wh.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gr})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=$j(t,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Fj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gr})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,l,u,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},m=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Hj});if(m.error)throw m.error;const x=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(d=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return S.length>0&&(S.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);p[`${C}Page`]=T}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(Ke(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){bs(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gr})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bs(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gr})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){bs(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gr})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){bs(t.userId);try{const{data:r,error:a}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bs(t.userId),bs(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}function Vy(s={}){return{getItem:t=>s[t]||null,setItem:(t,r)=>{s[t]=r},removeItem:t=>{delete s[t]}}}function Kj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xs={debug:!!(globalThis&&xw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vj extends Sw{}async function Wj(s,t,r){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await r()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(t===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Vj(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(xs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ew(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Yj(s){return parseInt(s,16)}function Xj(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function Zj(s){var t;const{chainId:r,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:d,resources:p,scheme:m,uri:x,version:_}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=Ew(s.address),j=m?`${m}://${a}`:a,T=s.statement?`${s.statement}
`:"",C=`${j} wants you to sign in with your Ethereum account:
${S}

${T}`;let b=`URI: ${x}
Version: ${_}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(b+=`
Expiration Time: ${l.toISOString()}`),f&&(b+=`
Not Before: ${f.toISOString()}`),d&&(b+=`
Request ID: ${d}`),p){let R=`
Resources:`;for(const D of p){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);R+=`
- ${D}`}b+=R}return`${C}
${b}`}Kj();const Qj={url:sj,storageKey:aj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wy(s,t,r){return await r()}const _s={};class Qa{constructor(t){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qa.nextInstanceID,Qa.nextInstanceID+=1,this.instanceID>0&&Cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Qj),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Gj({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=_w(l.fetch),this.lock=l.lock||Wy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Wj:this.lock=Wy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:xw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Vy(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=_s[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_s[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Sj(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),Cn()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(r,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),dj(u)){const d=(t=u.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ke(r)?{error:r}:{error:new ww("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,l;try{const u=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Vn}),{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(u){if(Ke(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var r,a,l;try{let u;if("email"in t){const{email:m,password:x,options:_}=t;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await ws(this.storage,this.storageKey)),u=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:m,password:x,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:j},xform:Vn})}else if("phone"in t){const{phone:m,password:x,options:_}=t;u=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:x,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Vn})}else throw new Cl("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(u){if(Ke(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:c,options:f}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ky})}else if("phone"in t){const{phone:u,password:c,options:f}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ky})}else throw new Cl("You must provide either an email or phone number and a password");const{data:a,error:l}=r;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ga}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,a,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,l,u,c,f,d,p,m,x,_;let S,j;if("message"in t)S=t.message,j=t.signature;else{const{chain:T,wallet:C,statement:b,options:R}=t;let D;if(Cn())if(typeof C=="object")D=C;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")D=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=C}const F=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href),I=await D.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=Ew(I[0]);let X=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!X){const L=await D.request({method:"eth_chainId"});X=Yj(L)}const le={domain:F.host,address:se,statement:b,uri:F.href,version:"1",chainId:X,nonce:(l=R==null?void 0:R.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=R==null?void 0:R.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=R==null?void 0:R.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=R==null?void 0:R.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=Zj(le),j=await D.request({method:"personal_sign",params:[Xj(S),se]})}try{const{data:T,error:C}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Vn});if(C)throw C;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Ga}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:C})}catch(T){if(Ke(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(t){var r,a,l,u,c,f,d,p,m,x,_,S;let j,T;if("message"in t)j=t.message,T=t.signature;else{const{chain:C,wallet:b,statement:R,options:D}=t;let F;if(Cn())if(typeof b=="object")F=b;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))F=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=b}const I=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const se=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),R?{statement:R}:null));let X;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")X=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)X=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)j=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),T=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${I.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(l=(a=D==null?void 0:D.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((x=(m=D==null?void 0:D.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||x===void 0)&&x.length?["Resources",...D.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const se=await F.signMessage(new TextEncoder().encode(j),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=se}}try{const{data:C,error:b}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:bj(T)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Vn});if(b)throw b;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ga}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:b})}catch(C){if(Ke(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const r=await yi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:u,error:c}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Vn});if(await qr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ga}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(Ke(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:r,provider:a,token:l,access_token:u,nonce:c}=t,f=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vn}),{data:d,error:p}=f;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ga}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,a,l,u,c;try{if("email"in t){const{email:f,options:d}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ws(this.storage,this.storageKey));const{error:x}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:f,options:d}=t,{data:p,error:m}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=d==null?void 0:d.data)!==null&&l!==void 0?l:{},create_user:(u=d==null?void 0:d.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new Cl("You must provide either an email or phone number.")}catch(f){if(Ke(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,a;try{let l,u;"options"in t&&(l=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Vn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,p=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var r,a,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await ws(this.storage,this.storageKey)),await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:Pj})}catch(u){if(Ke(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new $r;const{error:l}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:u}=t,{error:c}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:a,type:l,options:u}=t,{data:c,error:f}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new Cl("You must provide either an email or phone number and a type")}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<mh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await yi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=vh()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,p,m)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,m))})}return{data:{session:t},error:null}}const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gr}):await this._useSession(async r=>{var a,l,u;const{data:c,error:f}=r;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Gr})})}catch(r){if(Ke(r))return hj(r)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new $r;const c=l.session;let f=null,d=null;this.flowType==="pkce"&&t.email!=null&&([f,d]=await ws(this.storage,this.storageKey));const{data:p,error:m}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:d}),jwt:c.access_token,xform:Gr});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let a=r,l=!0,u=null;const{payload:c}=yh(t.access_token);if(c.exp&&(a=c.exp,l=a<=r),l){const{session:f,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:d}=await this._getUser(t.access_token);if(d)throw d;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(Ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Cn())throw new Ol("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ol(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zy("No code detected.");const{data:R,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:d,token_type:p}=t;if(!u||!f||!c||!p)throw new Ol("No session defined in URL");const m=Math.round(Date.now()/1e3),x=parseInt(f);let _=m+x;d&&(_=parseInt(d));const S=_-m;S*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const j=_-x;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,m);const{data:T,error:C}=await this._getUser(u);if(C)throw C;const b={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:x,expires_at:_,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(Ke(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return{error:u};const c=(a=l.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(fj(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=_j(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,l;try{const{data:{session:u},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ws(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(Ke(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:a,error:l}=await this._useSession(async u=>{var c,f,d,p,m;const{data:x,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return Cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Ke(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,l;const{data:u,error:c}=r;if(c)throw c;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await Aj(async l=>(l>0&&await Tj(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(l,u)=>{const c=200*Math.pow(2,l);return u&&gh(u)&&Date.now()+c-a<Ss})}catch(a){if(this._debug(r,"error",a),Ke(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),Cn()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await yi(this.storage,this.storageKey);if(l&&this.userStorage){let c=await yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Es(this.userStorage,this.storageKey+"-user",c)),l.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:vh()}else if(l&&!l.user&&!l.user){const c=await yi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await qr(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,l)):l.user=vh()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mh;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${mh}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),gh(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new nu;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new $r;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Ke(u)){const c={session:null,error:u};return gh(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,r,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(d){u.push(d)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Es(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const u=$y(l);await Es(this.storage,this.storageKey,u)}else{const l=$y(r);await Es(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Ph} ticks`),l<=Ph&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Sw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await ws(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?{data:null,error:u}:await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,l;const{data:u,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:p}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((l=d==null?void 0:d.totp)===null||l===void 0)&&l.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return{data:null,error:u};const{data:c,error:f}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?{data:null,error:u}:await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=(t==null?void 0:t.factors)||[],l=a.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=a.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:a,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,a;const{data:{session:l},error:u}=t;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=yh(l.access_token);let f=null;c.aal&&(f=c.aal);let d=f;((a=(r=l.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:f,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(f=>f.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+uj>l)return a;const{data:u,error:c}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:S,error:j}=await this.getSession();if(j||!S.session)return{data:null,error:j};a=S.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:d}}=yh(a);r!=null&&r.allowExpired||Dj(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:S}=await this.getUser(a);if(S)throw S;return{data:{claims:u,header:l,signature:c},error:null}}const m=Uj(l.alg),x=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,x,c,wj(`${f}.${d}`)))throw new qh("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}}}Qa.nextInstanceID=0;const Jj=Qa;class eN extends Jj{constructor(t){super(t)}}var tN=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(x){c(x)}}function d(m){try{p(a.throw(m))}catch(x){c(x)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class nN{constructor(t,r,a){var l,u,c;this.supabaseUrl=t,this.supabaseKey=r;const f=ij(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:Wk,realtime:Xk,auth:Object.assign(Object.assign({},Yk),{storageKey:d}),global:Vk},m=rj(a??{},p);this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(x,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=ej(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new ck(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new $k(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new ek(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return tN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:l,userStorage:u,storageKey:c,flowType:f,lock:d,debug:p},m,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eN({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:l,userStorage:u,flowType:f,lock:d,debug:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new kk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rN=(s,t,r)=>new nN(s,t,r);function iN(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}iN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let bh=null,Yy=null;const vi=(s,t)=>((!bh||Yy!==s)&&(bh=rN(s,t,{auth:{persistSession:!0,autoRefreshToken:!0}}),Yy=s),bh),sN=async s=>{const{data:{session:t},error:r}=await s.auth.getSession();return r?(console.error("Error getting Supabase session:",r.message),null):t},Xy=async(s,t,r)=>{const{data:a,error:l}=await s.auth.signInWithPassword({email:t,password:r});if(l)throw console.error("Supabase sign-in error:",l.message),l;return a.user},aN=async s=>{const{error:t}=await s.auth.signOut();if(t)throw console.error("Supabase sign-out error:",t.message),t},oN=async(s,t)=>{const{data:{user:r}}=await s.auth.getUser();if(!r)throw new Error("User not authenticated for backup.");const{data:a,error:l}=await s.from("project_backups").insert({user_id:r.id,backup_data:t}).select("id, created_at").single();if(l)throw console.error("Supabase backup error:",l),l;return a},lN=async s=>{const{data:t,error:r}=await s.from("project_backups").select("id, created_at, client_name").order("created_at",{ascending:!1});if(r)throw console.error("Supabase fetch backups error:",r),r;return t},uN=async(s,t)=>{const{data:r,error:a}=await s.from("project_backups").select("backup_data").eq("id",t).single();if(a)throw console.error("Supabase get backup data error:",a),a;return r.backup_data},cN=({projects:s,selectedIndex:t,onSelect:r})=>{const[a,l]=pe.useState(!1),u=pe.useRef(null);pe.useEffect(()=>{const d=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const c=d=>{r(d),l(!1)},f=s[t];return w.jsxs("div",{className:"relative",ref:u,children:[w.jsxs("button",{onClick:()=>l(d=>!d),className:"flex items-center justify-between w-64 px-3 py-2 text-left bg-slate-800 border border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":a,"aria-label":`Current project: ${f==null?void 0:f.title}. Click to switch projects.`,children:[w.jsx("span",{className:"truncate text-sm font-medium text-slate-200",children:f==null?void 0:f.title}),w.jsx(nv,{className:"w-4 h-4 text-slate-400 ml-2 flex-shrink-0"})]}),a&&w.jsx("div",{className:"absolute left-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsx("div",{className:"p-1",children:s.map((d,p)=>w.jsx("button",{onClick:()=>c(p),className:`w-full text-left px-3 py-2 text-sm rounded-md ${t===p?"bg-indigo-600 text-white":"text-slate-200 hover:bg-slate-700"}`,role:"menuitem",children:d.title},p))})})]})},fN=({scope:s,onScopeChange:t})=>w.jsxs("div",{className:"flex items-center p-1 bg-slate-800 rounded-md border border-slate-700",children:[w.jsx("button",{onClick:()=>t("single"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${s==="single"?"bg-indigo-600 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-pressed":s==="single",children:"Current Project"}),w.jsx("button",{onClick:()=>t("all"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${s==="all"?"bg-indigo-600 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-pressed":s==="all",children:"All Projects"})]}),hN=()=>{const{markdown:s,archiveMarkdown:t,archiveProjects:r,users:a,settings:l,projects:u,setMarkdown:c,setUsers:f,saveSettings:d,handleRequestLocalRestore:p}=Vr(),[m,x]=pe.useState("editor"),[_,S]=pe.useState(0),[j,T]=pe.useState("all"),[C,b]=pe.useState(!1),[R,D]=pe.useState(!1),[F,I]=pe.useState(""),[se,X]=pe.useState({isOpen:!1,data:null}),[le,L]=pe.useState(null),[ae,ce]=pe.useState(!1),[z,re]=pe.useState(!1),[N,J]=pe.useState(null),[V,Y]=pe.useState(!1),[ge,ue]=pe.useState([]),G=!!(l.supabaseUrl&&l.supabaseAnonKey&&l.supabaseEmail);pe.useEffect(()=>{m!=="archive"&&(_>=u.length&&S(Math.max(0,u.length-1)),D(!1))},[u,_,m]),pe.useEffect(()=>{D(!1)},[j,m]),pe.useEffect(()=>{if(G){const E=vi(l.supabaseUrl,l.supabaseAnonKey);sN(E).then(ee=>{re(!!ee)});const{data:{subscription:P}}=E.auth.onAuthStateChange((ee,K)=>{re(!!K)});return()=>{P.unsubscribe()}}else re(!1)},[G,l.supabaseUrl,l.supabaseAnonKey]),pe.useEffect(()=>{le&&m==="editor"&&setTimeout(()=>{const E=document.getElementById(le),P=E==null?void 0:E.closest(".group");E&&E.scrollIntoView({behavior:"smooth",block:"center"}),P&&(P.classList.add("highlight-section"),setTimeout(()=>{P.classList.remove("highlight-section")},2e3)),L(null)},100)},[le,m]);const $=pe.useMemo(()=>{if(m==="archive")return t;if(j==="single"&&_<u.length){const E=u[_];return s.split(`
`).slice(E.startLine,E.endLine+1).join(`
`)}return s},[s,t,m,j,_,u]),B=pe.useCallback(()=>{I($),D(!0)},[$]),Z=pe.useCallback(()=>{if(m==="archive"){alert("Full edit is not available for the archive view."),D(!1);return}if(j==="all")c(F);else{const E=u[_];E&&c(P=>{const ee=P.split(`
`),K=ee.slice(0,E.startLine),de=ee.slice(E.endLine+1),Te=F.split(`
`);return[...K,...Te,...de].join(`
`)})}D(!1)},[F,m,j,_,u,c]),ne=pe.useCallback(()=>{D(!1)},[]),fe=u[_]||{title:"Project",groupedTasks:{},unassignedTasks:[],totalCost:0,startLine:0,endLine:0,headings:[]},te=pe.useMemo(()=>{const E=a.reduce((K,de)=>(K[de.alias]={user:de,tasks:[]},K),{}),P=[];let ee=0;return u.forEach(K=>{P.push(...K.unassignedTasks),ee+=K.totalCost,Object.values(K.groupedTasks).forEach(({user:de,tasks:Te})=>{E[de.alias]&&E[de.alias].tasks.push(...Te)})}),{title:"All Projects",groupedTasks:E,unassignedTasks:P,totalCost:ee}},[u,a]),O=j==="all"?te:fe,k=pe.useMemo(()=>(j==="all"?u:fe?[fe]:[]).flatMap(ee=>[...ee.unassignedTasks,...Object.values(ee.groupedTasks).flatMap(K=>K.tasks)]).filter(ee=>ee.dueDate).sort((ee,K)=>new Date(ee.dueDate).getTime()-new Date(K.dueDate).getTime()),[u,fe,j]),ie=pe.useCallback(()=>{if(!se.data)return;const{markdown:E,archiveMarkdown:P,users:ee,settings:K}=se.data;c(E),P&&console.warn("Restoring archive markdown from backup is not fully implemented in this flow."),f(ee),d(K),X({isOpen:!1,data:null}),alert("Project restored successfully from cloud backup!")},[se.data,d,c,f]),Q=async()=>{if(G){ce(!0);try{const E=vi(l.supabaseUrl,l.supabaseAnonKey),{supabaseUrl:P,supabaseAnonKey:ee,supabaseEmail:K,...de}=l,Se=await oN(E,{markdown:s,archiveMarkdown:t,users:a,settings:de});Se&&alert(`Backup successful!
Timestamp: ${new Date(Se.created_at).toLocaleString()}`)}catch(E){console.error("Backup failed:",E),alert(`Backup failed: ${E.message||"Unknown error"}`)}finally{ce(!1)}}},q=async()=>{if(G){ce(!0);try{const E=vi(l.supabaseUrl,l.supabaseAnonKey),P=await lN(E);P&&(ue(P),Y(!0))}catch(E){console.error("Fetch backups failed:",E),alert(`Failed to fetch backups: ${E.message||"Unknown error"}`)}finally{ce(!1)}}},W=async E=>{if(G){Y(!1),ce(!0);try{const P=vi(l.supabaseUrl,l.supabaseAnonKey),ee=await uN(P,E);ee&&X({isOpen:!0,data:ee})}catch(P){console.error("Restore failed:",P),alert(`Failed to restore: ${P.message||"Unknown error"}`)}finally{ce(!1)}}},be=async()=>{z?await Q():J({action:"backup",title:"Authenticate to Backup",onConfirm:async E=>{J(null),ce(!0);const P=vi(l.supabaseUrl,l.supabaseAnonKey);try{await Xy(P,l.supabaseEmail,E)?await Q():(alert("Login failed."),ce(!1))}catch{alert("Login failed."),ce(!1)}}})},A=async()=>{z?await q():J({action:"restore",title:"Authenticate to Restore",onConfirm:async E=>{J(null),ce(!0);const P=vi(l.supabaseUrl,l.supabaseAnonKey);try{await Xy(P,l.supabaseEmail,E)?await q():(alert("Login failed."),ce(!1))}catch{alert("Login failed."),ce(!1)}}})},ye=async()=>{if(G){ce(!0);try{const E=vi(l.supabaseUrl,l.supabaseAnonKey);await aN(E),alert("Signed out successfully.")}catch(E){console.error("Sign out failed:",E),alert(`Sign out failed: ${E.message||"Unknown error"}`)}finally{ce(!1)}}},U=pe.useCallback((E,P)=>{const ee=u.findIndex(K=>K.title===E);ee!==-1&&(x("editor"),S(ee),L(P))},[u]),y=()=>{if(R)return`Editing ${j==="all"?"the entire file":`project: ${fe.title}`}.`;const E=j==="all"?"All Projects":fe.title;switch(m){case"editor":return"Hover over a section to edit its content individually.";case"users":return"Manage your team. Changes are saved to the project state.";case"overview":return`Overview of tasks for "${E}".`;case"timeline":return`Task due date timeline for "${E}".`;case"archive":return"Viewing archived sections. Restore a section to make it active again."}},v=()=>{switch(m){case"editor":case"archive":return R?w.jsx(HA,{content:F,onChange:I,onSave:Z,onCancel:ne,users:a}):w.jsx(FA,{markdown:$,projects:m==="archive"?r:u,viewScope:m==="archive"?"all":j,currentProjectIndex:_,isArchiveView:m==="archive"});case"users":return w.jsx(tx,{});case"overview":return w.jsx(qx,{groupedTasks:O.groupedTasks,unassignedTasks:O.unassignedTasks,projectTitle:O.title,viewScope:j,totalCost:O.totalCost,onNavigate:U});case"timeline":return w.jsx(KA,{tasks:k,viewScope:j})}};return w.jsxs("div",{className:"h-screen bg-slate-900 text-white font-sans flex flex-col overflow-hidden",children:[w.jsxs("header",{className:"py-4 px-8 border-b border-slate-700 bg-slate-900/70 backdrop-blur-sm z-10 flex flex-wrap justify-between items-center gap-4 flex-shrink-0",children:[w.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Interactive Markdown Tasker"}),w.jsx("p",{className:"text-slate-400 text-sm",children:y()})]}),u.length>1&&!R&&m!=="archive"&&w.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[w.jsx(fN,{scope:j,onScopeChange:T}),j==="single"&&w.jsx(cN,{projects:u,selectedIndex:_,onSelect:S})]})]}),w.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[w.jsxs("nav",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>x("editor"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="editor"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Editor"}),w.jsx("button",{onClick:()=>x("overview"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="overview"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Overview"}),w.jsx("button",{onClick:()=>x("timeline"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="timeline"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Timeline"}),w.jsx("button",{onClick:()=>x("users"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="users"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Assignees"}),w.jsx("button",{onClick:()=>x("archive"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="archive"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Archive"})]}),m==="editor"&&!R&&w.jsxs("button",{onClick:B,className:"px-3 py-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600 flex items-center space-x-2","aria-label":`Edit ${j==="all"?"entire file":"current project"}`,title:`Edit ${j==="all"?"entire file":"current project"}`,children:[w.jsx($l,{className:"w-4 h-4"}),w.jsxs("span",{children:["Edit ",j==="all"?"Entire File":"Project"]})]}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsx("button",{onClick:()=>b(!0),className:"p-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600","aria-label":"Email Settings",title:"Email Settings",children:w.jsx(Ox,{className:"w-5 h-5"})}),w.jsx(VA,{isConfigured:G,isLoading:ae,onBackup:be,onRestore:A,isAuthenticated:z,onSignOut:ye}),m!=="archive"&&w.jsx(jA,{viewScope:j,currentProject:fe,isArchiveView:m==="archive"})]})]}),w.jsx("main",{className:"flex-grow overflow-hidden",children:v()}),w.jsx("footer",{className:"text-center py-4 border-t border-slate-700 text-slate-500 text-sm flex-shrink-0",children:"Interactive Markdown Tasker"}),w.jsx(CA,{isOpen:C,onClose:()=>b(!1)}),w.jsxs(Kh,{isOpen:se.isOpen,onClose:()=>X({isOpen:!1,data:null}),onConfirm:ie,title:"Confirm Restore",confirmText:"Yes, Overwrite Local Project",children:[w.jsx("p",{children:"Are you sure you want to restore this backup?"}),w.jsx("p",{className:"text-sm text-yellow-400 mt-2",children:"This will overwrite your current local project data, including the archive. This action cannot be undone."})]}),N&&w.jsx(WA,{isOpen:!!N,onClose:()=>J(null),onConfirm:N.onConfirm,title:N.title}),w.jsx(YA,{isOpen:V,onClose:()=>Y(!1),backups:ge,onSelectBackup:W})]})},Tw=document.getElementById("root");if(!Tw)throw new Error("Could not find root element to mount to");const dN=V1.createRoot(Tw);dN.render(w.jsx(xh.StrictMode,{children:w.jsx(J1,{children:w.jsx(hN,{})})}));
