(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function L1(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var l=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return s[a]}})}),r}var lf={exports:{}},Ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function B1(){if(e0)return Ia;e0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:c,ref:l!==void 0?l:null,props:u}}return Ia.Fragment=t,Ia.jsx=r,Ia.jsxs=r,Ia}var t0;function I1(){return t0||(t0=1,lf.exports=B1()),lf.exports}var w=I1(),uf={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function z1(){if(n0)return Ve;n0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function O(G,$,B){this.props=G,this.context=$,this.refs=E,this.updater=B||S}O.prototype.isReactComponent={},O.prototype.setState=function(G,$){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,$,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function x(){}x.prototype=O.prototype;function N(G,$,B){this.props=G,this.context=$,this.refs=E,this.updater=B||S}var U=N.prototype=new x;U.constructor=N,j(U,O.prototype),U.isPureReactComponent=!0;var z=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function ne(G,$,B,Y,J,fe){return B=fe.ref,{$$typeof:s,type:G,key:$,ref:B!==void 0?B:null,props:fe}}function le(G,$){return ne(G.type,$,void 0,void 0,void 0,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===s}function oe(G){var $={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(B){return $[B]})}var he=/\/+/g;function I(G,$){return typeof G=="object"&&G!==null&&G.key!=null?oe(""+G.key):$.toString(36)}function te(){}function D(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(te,te):(G.status="pending",G.then(function($){G.status==="pending"&&(G.status="fulfilled",G.value=$)},function($){G.status==="pending"&&(G.status="rejected",G.reason=$)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function re(G,$,B,Y,J){var fe=typeof G;(fe==="undefined"||fe==="boolean")&&(G=null);var Q=!1;if(G===null)Q=!0;else switch(fe){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(G.$$typeof){case s:case t:Q=!0;break;case m:return Q=G._init,re(Q(G._payload),$,B,Y,J)}}if(Q)return J=J(G),Q=Y===""?"."+I(G,0):Y,z(J)?(B="",Q!=null&&(B=Q.replace(he,"$&/")+"/"),re(J,$,B,"",function(ie){return ie})):J!=null&&(L(J)&&(J=le(J,B+(J.key==null||G&&G.key===J.key?"":(""+J.key).replace(he,"$&/")+"/")+Q)),$.push(J)),1;Q=0;var R=Y===""?".":Y+":";if(z(G))for(var k=0;k<G.length;k++)Y=G[k],fe=R+I(Y,k),Q+=re(Y,$,B,fe,J);else if(k=_(G),typeof k=="function")for(G=k.call(G),k=0;!(Y=G.next()).done;)Y=Y.value,fe=R+I(Y,k++),Q+=re(Y,$,B,fe,J);else if(fe==="object"){if(typeof G.then=="function")return re(D(G),$,B,Y,J);throw $=String(G),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Q}function W(G,$,B){if(G==null)return G;var Y=[],J=0;return re(G,Y,"","",function(fe){return $.call(B,fe,J++)}),Y}function X(G){if(G._status===-1){var $=G._result;$=$(),$.then(function(B){(G._status===0||G._status===-1)&&(G._status=1,G._result=B)},function(B){(G._status===0||G._status===-1)&&(G._status=2,G._result=B)}),G._status===-1&&(G._status=0,G._result=$)}if(G._status===1)return G._result.default;throw G._result}var me=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function ue(){}return Ve.Children={map:W,forEach:function(G,$,B){W(G,function(){$.apply(this,arguments)},B)},count:function(G){var $=0;return W(G,function(){$++}),$},toArray:function(G){return W(G,function($){return $})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ve.Component=O,Ve.Fragment=r,Ve.Profiler=l,Ve.PureComponent=N,Ve.StrictMode=a,Ve.Suspense=d,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(G){return q.H.useMemoCache(G)}},Ve.cache=function(G){return function(){return G.apply(null,arguments)}},Ve.cloneElement=function(G,$,B){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Y=j({},G.props),J=G.key,fe=void 0;if($!=null)for(Q in $.ref!==void 0&&(fe=void 0),$.key!==void 0&&(J=""+$.key),$)!ae.call($,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&$.ref===void 0||(Y[Q]=$[Q]);var Q=arguments.length-2;if(Q===1)Y.children=B;else if(1<Q){for(var R=Array(Q),k=0;k<Q;k++)R[k]=arguments[k+2];Y.children=R}return ne(G.type,J,void 0,void 0,fe,Y)},Ve.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:u,_context:G},G},Ve.createElement=function(G,$,B){var Y,J={},fe=null;if($!=null)for(Y in $.key!==void 0&&(fe=""+$.key),$)ae.call($,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(J[Y]=$[Y]);var Q=arguments.length-2;if(Q===1)J.children=B;else if(1<Q){for(var R=Array(Q),k=0;k<Q;k++)R[k]=arguments[k+2];J.children=R}if(G&&G.defaultProps)for(Y in Q=G.defaultProps,Q)J[Y]===void 0&&(J[Y]=Q[Y]);return ne(G,fe,void 0,void 0,null,J)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(G){return{$$typeof:f,render:G}},Ve.isValidElement=L,Ve.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:X}},Ve.memo=function(G,$){return{$$typeof:p,type:G,compare:$===void 0?null:$}},Ve.startTransition=function(G){var $=q.T,B={};q.T=B;try{var Y=G(),J=q.S;J!==null&&J(B,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ue,me)}catch(fe){me(fe)}finally{q.T=$}},Ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ve.use=function(G){return q.H.use(G)},Ve.useActionState=function(G,$,B){return q.H.useActionState(G,$,B)},Ve.useCallback=function(G,$){return q.H.useCallback(G,$)},Ve.useContext=function(G){return q.H.useContext(G)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(G,$){return q.H.useDeferredValue(G,$)},Ve.useEffect=function(G,$,B){var Y=q.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(G,$)},Ve.useId=function(){return q.H.useId()},Ve.useImperativeHandle=function(G,$,B){return q.H.useImperativeHandle(G,$,B)},Ve.useInsertionEffect=function(G,$){return q.H.useInsertionEffect(G,$)},Ve.useLayoutEffect=function(G,$){return q.H.useLayoutEffect(G,$)},Ve.useMemo=function(G,$){return q.H.useMemo(G,$)},Ve.useOptimistic=function(G,$){return q.H.useOptimistic(G,$)},Ve.useReducer=function(G,$,B){return q.H.useReducer(G,$,B)},Ve.useRef=function(G){return q.H.useRef(G)},Ve.useState=function(G){return q.H.useState(G)},Ve.useSyncExternalStore=function(G,$,B){return q.H.useSyncExternalStore(G,$,B)},Ve.useTransition=function(){return q.H.useTransition()},Ve.version="19.1.1",Ve}var r0;function Ph(){return r0||(r0=1,uf.exports=z1()),uf.exports}var ye=Ph();const yh=Pl(ye);var cf={exports:{}},za={},ff={exports:{}},hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function P1(){return i0||(i0=1,(function(s){function t(W,X){var me=W.length;W.push(X);e:for(;0<me;){var ue=me-1>>>1,G=W[ue];if(0<l(G,X))W[ue]=X,W[me]=G,me=ue;else break e}}function r(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var X=W[0],me=W.pop();if(me!==X){W[0]=me;e:for(var ue=0,G=W.length,$=G>>>1;ue<$;){var B=2*(ue+1)-1,Y=W[B],J=B+1,fe=W[J];if(0>l(Y,me))J<G&&0>l(fe,Y)?(W[ue]=fe,W[J]=me,ue=J):(W[ue]=Y,W[B]=me,ue=B);else if(J<G&&0>l(fe,me))W[ue]=fe,W[J]=me,ue=J;else break e}}return X}function l(W,X){var me=W.sortIndex-X.sortIndex;return me!==0?me:W.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var d=[],p=[],m=1,b=null,_=3,S=!1,j=!1,E=!1,O=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function z(W){for(var X=r(p);X!==null;){if(X.callback===null)a(p);else if(X.startTime<=W)a(p),X.sortIndex=X.expirationTime,t(d,X);else break;X=r(p)}}function q(W){if(E=!1,z(W),!j)if(r(d)!==null)j=!0,ae||(ae=!0,I());else{var X=r(p);X!==null&&re(q,X.startTime-W)}}var ae=!1,ne=-1,le=5,L=-1;function oe(){return O?!0:!(s.unstable_now()-L<le)}function he(){if(O=!1,ae){var W=s.unstable_now();L=W;var X=!0;try{e:{j=!1,E&&(E=!1,N(ne),ne=-1),S=!0;var me=_;try{t:{for(z(W),b=r(d);b!==null&&!(b.expirationTime>W&&oe());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,_=b.priorityLevel;var G=ue(b.expirationTime<=W);if(W=s.unstable_now(),typeof G=="function"){b.callback=G,z(W),X=!0;break t}b===r(d)&&a(d),z(W)}else a(d);b=r(d)}if(b!==null)X=!0;else{var $=r(p);$!==null&&re(q,$.startTime-W),X=!1}}break e}finally{b=null,_=me,S=!1}X=void 0}}finally{X?I():ae=!1}}}var I;if(typeof U=="function")I=function(){U(he)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,D=te.port2;te.port1.onmessage=he,I=function(){D.postMessage(null)}}else I=function(){x(he,0)};function re(W,X){ne=x(function(){W(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(W){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var me=_;_=X;try{return W()}finally{_=me}},s.unstable_requestPaint=function(){O=!0},s.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=_;_=W;try{return X()}finally{_=me}},s.unstable_scheduleCallback=function(W,X,me){var ue=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ue+me:ue):me=ue,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=me+G,W={id:m++,callback:X,priorityLevel:W,startTime:me,expirationTime:G,sortIndex:-1},me>ue?(W.sortIndex=me,t(p,W),r(d)===null&&W===r(p)&&(E?(N(ne),ne=-1):E=!0,re(q,me-ue))):(W.sortIndex=G,t(d,W),j||S||(j=!0,ae||(ae=!0,I()))),W},s.unstable_shouldYield=oe,s.unstable_wrapCallback=function(W){var X=_;return function(){var me=_;_=X;try{return W.apply(this,arguments)}finally{_=me}}}})(hf)),hf}var s0;function F1(){return s0||(s0=1,ff.exports=P1()),ff.exports}var df={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function H1(){if(a0)return Yt;a0=1;var s=Ph();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(d,p,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:d,containerInfo:p,implementation:m}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(d,p,null,m)},Yt.flushSync=function(d){var p=c.T,m=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=p,a.p=m,a.d.f()}},Yt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(d,p))},Yt.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Yt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,b=f(m,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?a.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):m==="script"&&a.d.X(d,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=f(p.as,p.crossOrigin);a.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(d)},Yt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,b=f(m,p.crossOrigin);a.d.L(d,m,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=f(p.as,p.crossOrigin);a.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(d)},Yt.requestFormReset=function(d){a.d.r(d)},Yt.unstable_batchedUpdates=function(d,p){return d(p)},Yt.useFormState=function(d,p,m){return c.H.useFormState(d,p,m)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var o0;function q1(){if(o0)return df.exports;o0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),df.exports=H1(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function $1(){if(l0)return za;l0=1;var s=F1(),t=Ph(),r=q1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(a(188))}function d(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,o=n;;){var h=i.return;if(h===null)break;var y=h.alternate;if(y===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===i)return f(h),e;if(y===o)return f(h),n;y=y.sibling}throw Error(a(188))}if(i.return!==o.return)i=h,o=y;else{for(var M=!1,P=h.child;P;){if(P===i){M=!0,i=h,o=y;break}if(P===o){M=!0,o=h,i=y;break}P=P.sibling}if(!M){for(P=y.child;P;){if(P===i){M=!0,i=y,o=h;break}if(P===o){M=!0,o=y,i=h;break}P=P.sibling}if(!M)throw Error(a(189))}}if(i.alternate!==o)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function D(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case q:return"Suspense";case ae:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case U:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:D(e.type)||"Memo";case le:n=e._payload,e=e._init;try{return D(e(n))}catch{}}return null}var re=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ue=[],G=-1;function $(e){return{current:e}}function B(e){0>G||(e.current=ue[G],ue[G]=null,G--)}function Y(e,n){G++,ue[G]=e.current,e.current=n}var J=$(null),fe=$(null),Q=$(null),R=$(null);function k(e,n){switch(Y(Q,n),Y(fe,e),Y(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jg(n),e=Ng(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(J),Y(J,e)}function ie(){B(J),B(fe),B(Q)}function Z(e){e.memoizedState!==null&&Y(R,e);var n=J.current,i=Ng(n,e.type);n!==i&&(Y(fe,e),Y(J,i))}function F(e){fe.current===e&&(B(J),B(fe)),R.current===e&&(B(R),Da._currentValue=me)}var K=Object.prototype.hasOwnProperty,be=s.unstable_scheduleCallback,A=s.unstable_cancelCallback,ge=s.unstable_shouldYield,C=s.unstable_requestPaint,g=s.unstable_now,v=s.unstable_getCurrentPriorityLevel,T=s.unstable_ImmediatePriority,H=s.unstable_UserBlockingPriority,ee=s.unstable_NormalPriority,V=s.unstable_LowPriority,de=s.unstable_IdlePriority,Te=s.log,Se=s.unstable_setDisableYieldValue,Ce=null,De=null;function Ue(e){if(typeof Te=="function"&&Se(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ce,e)}catch{}}var Ge=Math.clz32?Math.clz32:st,it=Math.log,Be=Math.LN2;function st(e){return e>>>=0,e===0?32:31-(it(e)/Be|0)|0}var $e=256,pt=4194304;function _t(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function St(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var h=0,y=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var P=o&134217727;return P!==0?(o=P&~y,o!==0?h=_t(o):(M&=P,M!==0?h=_t(M):i||(i=P&~e,i!==0&&(h=_t(i))))):(P=o&~y,P!==0?h=_t(P):M!==0?h=_t(M):i||(i=o&~e,i!==0&&(h=_t(i)))),h===0?0:n!==0&&n!==h&&(n&y)===0&&(y=h&-h,i=n&-n,y>=i||y===32&&(i&4194048)!==0)?n:h}function It(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function un(){var e=$e;return $e<<=1,($e&4194048)===0&&($e=256),e}function cn(){var e=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),e}function Fn(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function en(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qt(e,n,i,o,h,y){var M=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var P=e.entanglements,se=e.expirationTimes,we=e.hiddenUpdates;for(i=M&~i;0<i;){var Ae=31-Ge(i),Ne=1<<Ae;P[Ae]=0,se[Ae]=-1;var xe=we[Ae];if(xe!==null)for(we[Ae]=null,Ae=0;Ae<xe.length;Ae++){var _e=xe[Ae];_e!==null&&(_e.lane&=-536870913)}i&=~Ne}o!==0&&io(e,o,0),y!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=y&~(M&~n))}function io(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function Fs(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Ge(i),h=1<<o;h&n|e[o]&n&&(e[o]|=n),i&=~h}}function Yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hs(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Wg(e.type))}function qs(e,n){var i=X.p;try{return X.p=e,n()}finally{X.p=i}}var wr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+wr,tn="__reactProps$"+wr,Ai="__reactContainer$"+wr,Jl="__reactEvents$"+wr,Aw="__reactListeners$"+wr,kw="__reactHandles$"+wr,gd="__reactResources$"+wr,$s="__reactMarker$"+wr;function eu(e){delete e[Vt],delete e[tn],delete e[Jl],delete e[Aw],delete e[kw]}function ki(e){var n=e[Vt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ai]||i[Vt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Dg(e);e!==null;){if(i=e[Vt])return i;e=Dg(e)}return n}e=i,i=e.parentNode}return null}function ji(e){if(e=e[Vt]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gs(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ni(e){var n=e[gd];return n||(n=e[gd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(e){e[$s]=!0}var yd=new Set,vd={};function Xr(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(vd[e]=n,e=0;e<n.length;e++)yd.add(n[e])}var jw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},bd={};function Nw(e){return K.call(bd,e)?!0:K.call(wd,e)?!1:jw.test(e)?bd[e]=!0:(wd[e]=!0,!1)}function so(e,n,i){if(Nw(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function ao(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Jn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var tu,xd;function Ci(e){if(tu===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);tu=n&&n[1]||"",xd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tu+e+xd}var nu=!1;function ru(e,n){if(!e||nu)return"";nu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(_e){var xe=_e}Reflect.construct(e,[],Ne)}else{try{Ne.call()}catch(_e){xe=_e}e.call(Ne.prototype)}}else{try{throw Error()}catch(_e){xe=_e}(Ne=e())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(_e){if(_e&&xe&&typeof _e.stack=="string")return[_e.stack,xe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=o.DetermineComponentFrameRoot(),M=y[0],P=y[1];if(M&&P){var se=M.split(`
`),we=P.split(`
`);for(h=o=0;o<se.length&&!se[o].includes("DetermineComponentFrameRoot");)o++;for(;h<we.length&&!we[h].includes("DetermineComponentFrameRoot");)h++;if(o===se.length||h===we.length)for(o=se.length-1,h=we.length-1;1<=o&&0<=h&&se[o]!==we[h];)h--;for(;1<=o&&0<=h;o--,h--)if(se[o]!==we[h]){if(o!==1||h!==1)do if(o--,h--,0>h||se[o]!==we[h]){var Ae=`
`+se[o].replace(" at new "," at ");return e.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",e.displayName)),Ae}while(1<=o&&0<=h);break}}}finally{nu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ci(i):""}function Rw(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ru(e.type,!1);case 11:return ru(e.type.render,!1);case 1:return ru(e.type,!0);case 31:return Ci("Activity");default:return""}}function _d(e){try{var n="";do n+=Rw(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cw(e){var n=Sd(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,y=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(M){o=""+M,y.call(this,M)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(M){o=""+M},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oo(e){e._valueTracker||(e._valueTracker=Cw(e))}function Ed(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Sd(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ow=/[\n"\\]/g;function xn(e){return e.replace(Ow,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function iu(e,n,i,o,h,y,M,P){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),n!=null?M==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bn(n)):e.value!==""+bn(n)&&(e.value=""+bn(n)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),n!=null?su(e,M,bn(n)):i!=null?su(e,M,bn(i)):o!=null&&e.removeAttribute("value"),h==null&&y!=null&&(e.defaultChecked=!!y),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.name=""+bn(P):e.removeAttribute("name")}function Td(e,n,i,o,h,y,M,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||i!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;i=i!=null?""+bn(i):"",n=n!=null?""+bn(n):i,P||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=P?e.checked:!!o,e.defaultChecked=!!o,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M)}function su(e,n,i){n==="number"&&lo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Oi(e,n,i,o){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+bn(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ad(e,n,i){if(n!=null&&(n=""+bn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+bn(i):""}function kd(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(a(92));if(re(o)){if(1<o.length)throw Error(a(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=bn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function Di(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jd(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Dw.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Nd(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&i[h]!==o&&jd(e,h,o)}else for(var y in n)n.hasOwnProperty(y)&&jd(e,y,n[y])}function au(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(e){return Mw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ou=null;function lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,Mi=null;function Rd(e){var n=ji(e);if(n&&(e=n.stateNode)){var i=e[tn]||null;e:switch(e=n.stateNode,n.type){case"input":if(iu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var h=o[tn]||null;if(!h)throw Error(a(90));iu(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Ed(o)}break e;case"textarea":Ad(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Oi(e,!!i.multiple,n,!1)}}}var uu=!1;function Cd(e,n,i){if(uu)return e(n,i);uu=!0;try{var o=e(n);return o}finally{if(uu=!1,(Ui!==null||Mi!==null)&&(Yo(),Ui&&(n=Ui,e=Mi,Mi=Ui=null,Rd(n),e)))for(n=0;n<e.length;n++)Rd(e[n])}}function Ks(e,n){var i=e.stateNode;if(i===null)return null;var o=i[tn]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(er)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{cu=!1}var br=null,fu=null,co=null;function Od(){if(co)return co;var e,n=fu,i=n.length,o,h="value"in br?br.value:br.textContent,y=h.length;for(e=0;e<i&&n[e]===h[e];e++);var M=i-e;for(o=1;o<=M&&n[i-o]===h[y-o];o++);return co=h.slice(e,1<o?1-o:void 0)}function fo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function Dd(){return!1}function nn(e){function n(i,o,h,y,M){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=y,this.target=M,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(i=e[P],this[P]=i?i(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ho:Dd,this.isPropagationStopped=Dd,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),n}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=nn(Zr),Ws=m({},Zr,{view:0,detail:0}),Lw=nn(Ws),hu,du,Ys,mo=m({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(hu=e.screenX-Ys.screenX,du=e.screenY-Ys.screenY):du=hu=0,Ys=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:du}}),Ud=nn(mo),Bw=m({},mo,{dataTransfer:0}),Iw=nn(Bw),zw=m({},Ws,{relatedTarget:0}),pu=nn(zw),Pw=m({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=nn(Pw),Hw=m({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qw=nn(Hw),$w=m({},Zr,{data:0}),Md=nn($w),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ww(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vw[e])?!!n[e]:!1}function mu(){return Ww}var Yw=m({},Ws,{key:function(e){if(e.key){var n=Gw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xw=nn(Yw),Zw=m({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=nn(Zw),Qw=m({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),Jw=nn(Qw),eb=m({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=nn(eb),nb=m({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=nn(nb),ib=m({},Zr,{newState:0,oldState:0}),sb=nn(ib),ab=[9,13,27,32],gu=er&&"CompositionEvent"in window,Xs=null;er&&"documentMode"in document&&(Xs=document.documentMode);var ob=er&&"TextEvent"in window&&!Xs,Bd=er&&(!gu||Xs&&8<Xs&&11>=Xs),Id=" ",zd=!1;function Pd(e,n){switch(e){case"keyup":return ab.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function lb(e,n){switch(e){case"compositionend":return Fd(n);case"keypress":return n.which!==32?null:(zd=!0,Id);case"textInput":return e=n.data,e===Id&&zd?null:e;default:return null}}function ub(e,n){if(Li)return e==="compositionend"||!gu&&Pd(e,n)?(e=Od(),co=fu=br=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bd&&n.locale!=="ko"?null:n.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cb[e.type]:n==="textarea"}function qd(e,n,i,o){Ui?Mi?Mi.push(o):Mi=[o]:Ui=o,n=tl(n,"onChange"),0<n.length&&(i=new po("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var Zs=null,Qs=null;function fb(e){Sg(e,0)}function go(e){var n=Gs(e);if(Ed(n))return e}function $d(e,n){if(e==="change")return n}var Gd=!1;if(er){var yu;if(er){var vu="oninput"in document;if(!vu){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),vu=typeof Kd.oninput=="function"}yu=vu}else yu=!1;Gd=yu&&(!document.documentMode||9<document.documentMode)}function Vd(){Zs&&(Zs.detachEvent("onpropertychange",Wd),Qs=Zs=null)}function Wd(e){if(e.propertyName==="value"&&go(Qs)){var n=[];qd(n,Qs,e,lu(e)),Cd(fb,n)}}function hb(e,n,i){e==="focusin"?(Vd(),Zs=n,Qs=i,Zs.attachEvent("onpropertychange",Wd)):e==="focusout"&&Vd()}function db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(Qs)}function pb(e,n){if(e==="click")return go(n)}function mb(e,n){if(e==="input"||e==="change")return go(n)}function gb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:gb;function Js(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!K.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function Yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xd(e,n){var i=Yd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yd(i)}}function Zd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=lo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=lo(e.document)}return n}function wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yb=er&&"documentMode"in document&&11>=document.documentMode,Bi=null,bu=null,ea=null,xu=!1;function Jd(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xu||Bi==null||Bi!==lo(o)||(o=Bi,"selectionStart"in o&&wu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ea&&Js(ea,o)||(ea=o,o=tl(bu,"onSelect"),0<o.length&&(n=new po("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=Bi)))}function Qr(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ii={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},_u={},ep={};er&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Jr(e){if(_u[e])return _u[e];if(!Ii[e])return e;var n=Ii[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in ep)return _u[e]=n[i];return e}var tp=Jr("animationend"),np=Jr("animationiteration"),rp=Jr("animationstart"),vb=Jr("transitionrun"),wb=Jr("transitionstart"),bb=Jr("transitioncancel"),ip=Jr("transitionend"),sp=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function Un(e,n){sp.set(e,n),Xr(n,[e])}var ap=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var i=ap.get(e);return i!==void 0?i:(n={value:e,source:n,stack:_d(n)},ap.set(e,n),n)}return{value:e,source:n,stack:_d(n)}}var Sn=[],zi=0,Eu=0;function yo(){for(var e=zi,n=Eu=zi=0;n<e;){var i=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var y=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var M=o.pending;M===null?h.next=h:(h.next=M.next,M.next=h),o.pending=h}y!==0&&op(i,h,y)}}function vo(e,n,i,o){Sn[zi++]=e,Sn[zi++]=n,Sn[zi++]=i,Sn[zi++]=o,Eu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Tu(e,n,i,o){return vo(e,n,i,o),wo(e)}function Pi(e,n){return vo(e,null,null,n),wo(e)}function op(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,y=e.return;y!==null;)y.childLanes|=i,o=y.alternate,o!==null&&(o.childLanes|=i),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(h=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,h&&n!==null&&(h=31-Ge(i),e=y.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=i|536870912),y):null}function wo(e){if(50<Ta)throw Ta=0,Cc=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fi={};function xb(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,i,o){return new xb(e,n,i,o)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,n){var i=e.alternate;return i===null?(i=hn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function lp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bo(e,n,i,o,h,y){var M=0;if(o=e,typeof e=="function")Au(e)&&(M=1);else if(typeof e=="string")M=S1(e,i,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=hn(31,i,n,h),e.elementType=L,e.lanes=y,e;case j:return ei(i.children,h,y,n);case E:M=8,h|=24;break;case O:return e=hn(12,i,n,h|2),e.elementType=O,e.lanes=y,e;case q:return e=hn(13,i,n,h),e.elementType=q,e.lanes=y,e;case ae:return e=hn(19,i,n,h),e.elementType=ae,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:case U:M=10;break e;case N:M=9;break e;case z:M=11;break e;case ne:M=14;break e;case le:M=16,o=null;break e}M=29,i=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=hn(M,i,n,h),n.elementType=e,n.type=o,n.lanes=y,n}function ei(e,n,i,o){return e=hn(7,e,o,n),e.lanes=i,e}function ku(e,n,i){return e=hn(6,e,null,n),e.lanes=i,e}function ju(e,n,i){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hi=[],qi=0,xo=null,_o=0,En=[],Tn=0,ti=null,nr=1,rr="";function ni(e,n){Hi[qi++]=_o,Hi[qi++]=xo,xo=e,_o=n}function up(e,n,i){En[Tn++]=nr,En[Tn++]=rr,En[Tn++]=ti,ti=e;var o=nr;e=rr;var h=32-Ge(o)-1;o&=~(1<<h),i+=1;var y=32-Ge(n)+h;if(30<y){var M=h-h%5;y=(o&(1<<M)-1).toString(32),o>>=M,h-=M,nr=1<<32-Ge(n)+h|i<<h|o,rr=y+e}else nr=1<<y|i<<h|o,rr=e}function Nu(e){e.return!==null&&(ni(e,1),up(e,1,0))}function Ru(e){for(;e===xo;)xo=Hi[--qi],Hi[qi]=null,_o=Hi[--qi],Hi[qi]=null;for(;e===ti;)ti=En[--Tn],En[Tn]=null,rr=En[--Tn],En[Tn]=null,nr=En[--Tn],En[Tn]=null}var Jt=null,Et=null,nt=!1,ri=null,Hn=!1,Cu=Error(a(519));function ii(e){var n=Error(a(418,""));throw ra(_n(n,e)),Cu}function cp(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Vt]=e,n[tn]=o,i){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(i=0;i<ka.length;i++)Je(ka[i],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Je("invalid",n),Td(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),oo(n);break;case"select":Je("invalid",n);break;case"textarea":Je("invalid",n),kd(n,o.value,o.defaultValue,o.children),oo(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||kg(n.textContent,i)?(o.popover!=null&&(Je("beforetoggle",n),Je("toggle",n)),o.onScroll!=null&&Je("scroll",n),o.onScrollEnd!=null&&Je("scrollend",n),o.onClick!=null&&(n.onclick=nl),n=!0):n=!1,n||ii(e)}function fp(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Jt=Jt.return}}function ta(e){if(e!==Jt)return!1;if(!nt)return fp(e),nt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Vc(e.type,e.memoizedProps)),i=!i),i&&Et&&ii(e),fp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){Et=Ln(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}Et=null}}else n===27?(n=Et,Lr(e.type)?(e=Zc,Zc=null,Et=e):Et=n):Et=Jt?Ln(e.stateNode.nextSibling):null;return!0}function na(){Et=Jt=null,nt=!1}function hp(){var e=ri;return e!==null&&(an===null?an=e:an.push.apply(an,e),ri=null),e}function ra(e){ri===null?ri=[e]:ri.push(e)}var Ou=$(null),si=null,ir=null;function xr(e,n,i){Y(Ou,n._currentValue),n._currentValue=i}function sr(e){e._currentValue=Ou.current,B(Ou)}function Du(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Uu(e,n,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var y=h.dependencies;if(y!==null){var M=h.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=h;for(var se=0;se<n.length;se++)if(P.context===n[se]){y.lanes|=i,P=y.alternate,P!==null&&(P.lanes|=i),Du(y.return,i,e),o||(M=null);break e}y=P.next}}else if(h.tag===18){if(M=h.return,M===null)throw Error(a(341));M.lanes|=i,y=M.alternate,y!==null&&(y.lanes|=i),Du(M,i,e),M=null}else M=h.child;if(M!==null)M.return=h;else for(M=h;M!==null;){if(M===e){M=null;break}if(h=M.sibling,h!==null){h.return=M.return,M=h;break}M=M.return}h=M}}function ia(e,n,i,o){e=null;for(var h=n,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var M=h.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var P=h.type;fn(h.pendingProps.value,M.value)||(e!==null?e.push(P):e=[P])}}else if(h===R.current){if(M=h.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Da):e=[Da])}h=h.return}e!==null&&Uu(n,e,i,o),n.flags|=262144}function So(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ai(e){si=e,ir=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wt(e){return dp(si,e)}function Eo(e,n){return si===null&&ai(e),dp(e,n)}function dp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ir===null){if(e===null)throw Error(a(308));ir=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ir=ir.next=n;return i}var _b=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Sb=s.unstable_scheduleCallback,Eb=s.unstable_NormalPriority,Mt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new _b,data:new Map,refCount:0}}function sa(e){e.refCount--,e.refCount===0&&Sb(Eb,function(){e.controller.abort()})}var aa=null,Lu=0,$i=0,Gi=null;function Tb(e,n){if(aa===null){var i=aa=[];Lu=0,$i=Ic(),Gi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Lu++,n.then(pp,pp),n}function pp(){if(--Lu===0&&aa!==null){Gi!==null&&(Gi.status="fulfilled");var e=aa;aa=null,$i=0,Gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ab(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var mp=W.S;W.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Tb(e,n),mp!==null&&mp(e,n)};var oi=$(null);function Bu(){var e=oi.current;return e!==null?e:mt.pooledCache}function To(e,n){n===null?Y(oi,oi.current):Y(oi,n.pool)}function gp(){var e=Bu();return e===null?null:{parent:Mt._currentValue,pool:e}}var oa=Error(a(460)),yp=Error(a(474)),Ao=Error(a(542)),Iu={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ko(){}function wp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(ko,ko),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e;default:if(typeof n.status=="string")n.then(ko,ko);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e}throw la=n,oa}}var la=null;function bp(){if(la===null)throw Error(a(459));var e=la;return la=null,e}function xp(e){if(e===oa||e===Ao)throw Error(a(483))}var _r=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(at&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wo(e),op(e,null,i),n}return vo(e,o,n,i),wo(e)}function ua(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Fs(e,i)}}function Fu(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,y=null;if(i=i.firstBaseUpdate,i!==null){do{var M={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};y===null?h=y=M:y=y.next=M,i=i.next}while(i!==null);y===null?h=y=n:y=y.next=n}else h=y=n;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Hu=!1;function ca(){if(Hu){var e=Gi;if(e!==null)throw e}}function fa(e,n,i,o){Hu=!1;var h=e.updateQueue;_r=!1;var y=h.firstBaseUpdate,M=h.lastBaseUpdate,P=h.shared.pending;if(P!==null){h.shared.pending=null;var se=P,we=se.next;se.next=null,M===null?y=we:M.next=we,M=se;var Ae=e.alternate;Ae!==null&&(Ae=Ae.updateQueue,P=Ae.lastBaseUpdate,P!==M&&(P===null?Ae.firstBaseUpdate=we:P.next=we,Ae.lastBaseUpdate=se))}if(y!==null){var Ne=h.baseState;M=0,Ae=we=se=null,P=y;do{var xe=P.lane&-536870913,_e=xe!==P.lane;if(_e?(et&xe)===xe:(o&xe)===xe){xe!==0&&xe===$i&&(Hu=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Pe=e,Ie=P;xe=n;var ft=i;switch(Ie.tag){case 1:if(Pe=Ie.payload,typeof Pe=="function"){Ne=Pe.call(ft,Ne,xe);break e}Ne=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ie.payload,xe=typeof Pe=="function"?Pe.call(ft,Ne,xe):Pe,xe==null)break e;Ne=m({},Ne,xe);break e;case 2:_r=!0}}xe=P.callback,xe!==null&&(e.flags|=64,_e&&(e.flags|=8192),_e=h.callbacks,_e===null?h.callbacks=[xe]:_e.push(xe))}else _e={lane:xe,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ae===null?(we=Ae=_e,se=Ne):Ae=Ae.next=_e,M|=xe;if(P=P.next,P===null){if(P=h.shared.pending,P===null)break;_e=P,P=_e.next,_e.next=null,h.lastBaseUpdate=_e,h.shared.pending=null}}while(!0);Ae===null&&(se=Ne),h.baseState=se,h.firstBaseUpdate=we,h.lastBaseUpdate=Ae,y===null&&(h.shared.lanes=0),Or|=M,e.lanes=M,e.memoizedState=Ne}}function _p(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Sp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)_p(i[e],n)}var Ki=$(null),jo=$(0);function Ep(e,n){e=hr,Y(jo,e),Y(Ki,n),hr=e|n.baseLanes}function qu(){Y(jo,hr),Y(Ki,Ki.current)}function $u(){hr=jo.current,B(Ki),B(jo)}var Tr=0,We=null,ut=null,Ot=null,No=!1,Vi=!1,li=!1,Ro=0,ha=0,Wi=null,kb=0;function kt(){throw Error(a(321))}function Gu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!fn(e[i],n[i]))return!1;return!0}function Ku(e,n,i,o,h,y){return Tr=y,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=e===null||e.memoizedState===null?om:lm,li=!1,y=i(o,h),li=!1,Vi&&(y=Ap(n,i,o,h)),Tp(e),y}function Tp(e){W.H=Lo;var n=ut!==null&&ut.next!==null;if(Tr=0,Ot=ut=We=null,No=!1,ha=0,Wi=null,n)throw Error(a(300));e===null||Pt||(e=e.dependencies,e!==null&&So(e)&&(Pt=!0))}function Ap(e,n,i,o){We=e;var h=0;do{if(Vi&&(Wi=null),ha=0,Vi=!1,25<=h)throw Error(a(301));if(h+=1,Ot=ut=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Ub,y=n(i,o)}while(Vi);return y}function jb(){var e=W.H,n=e.useState()[0];return n=typeof n.then=="function"?da(n):n,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(We.flags|=1024),n}function Vu(){var e=Ro!==0;return Ro=0,e}function Wu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Yu(e){if(No){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}No=!1}Tr=0,Ot=ut=We=null,Vi=!1,ha=Ro=0,Wi=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?We.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Dt(){if(ut===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var n=Ot===null?We.memoizedState:Ot.next;if(n!==null)Ot=n,ut=e;else{if(e===null)throw We.alternate===null?Error(a(467)):Error(a(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ot===null?We.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function da(e){var n=ha;return ha+=1,Wi===null&&(Wi=[]),e=wp(Wi,e,n),n=We,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?om:lm),e}function Co(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return da(e);if(e.$$typeof===U)return Wt(e)}throw Error(a(438,String(e)))}function Zu(e){var n=null,i=We.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Xu(),We.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=oe;return n.index++,i}function ar(e,n){return typeof n=="function"?n(e):n}function Oo(e){var n=Dt();return Qu(n,ut,e)}function Qu(e,n,i){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=i;var h=e.baseQueue,y=o.pending;if(y!==null){if(h!==null){var M=h.next;h.next=y.next,y.next=M}n.baseQueue=h=y,o.pending=null}if(y=e.baseState,h===null)e.memoizedState=y;else{n=h.next;var P=M=null,se=null,we=n,Ae=!1;do{var Ne=we.lane&-536870913;if(Ne!==we.lane?(et&Ne)===Ne:(Tr&Ne)===Ne){var xe=we.revertLane;if(xe===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Ne===$i&&(Ae=!0);else if((Tr&xe)===xe){we=we.next,xe===$i&&(Ae=!0);continue}else Ne={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},se===null?(P=se=Ne,M=y):se=se.next=Ne,We.lanes|=xe,Or|=xe;Ne=we.action,li&&i(y,Ne),y=we.hasEagerState?we.eagerState:i(y,Ne)}else xe={lane:Ne,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},se===null?(P=se=xe,M=y):se=se.next=xe,We.lanes|=Ne,Or|=Ne;we=we.next}while(we!==null&&we!==n);if(se===null?M=y:se.next=P,!fn(y,e.memoizedState)&&(Pt=!0,Ae&&(i=Gi,i!==null)))throw i;e.memoizedState=y,e.baseState=M,e.baseQueue=se,o.lastRenderedState=y}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ju(e){var n=Dt(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,y=n.memoizedState;if(h!==null){i.pending=null;var M=h=h.next;do y=e(y,M.action),M=M.next;while(M!==h);fn(y,n.memoizedState)||(Pt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),i.lastRenderedState=y}return[y,o]}function kp(e,n,i){var o=We,h=Dt(),y=nt;if(y){if(i===void 0)throw Error(a(407));i=i()}else i=n();var M=!fn((ut||h).memoizedState,i);M&&(h.memoizedState=i,Pt=!0),h=h.queue;var P=Rp.bind(null,o,h,e);if(pa(2048,8,P,[e]),h.getSnapshot!==n||M||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,Yi(9,Do(),Np.bind(null,o,h,i,n),null),mt===null)throw Error(a(349));y||(Tr&124)!==0||jp(o,n,i)}return i}function jp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=We.updateQueue,n===null?(n=Xu(),We.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Np(e,n,i,o){n.value=i,n.getSnapshot=o,Cp(n)&&Op(e)}function Rp(e,n,i){return i(function(){Cp(n)&&Op(e)})}function Cp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!fn(e,i)}catch{return!0}}function Op(e){var n=Pi(e,2);n!==null&&yn(n,e,2)}function ec(e){var n=rn();if(typeof e=="function"){var i=e;if(e=i(),li){Ue(!0);try{i()}finally{Ue(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},n}function Dp(e,n,i,o){return e.baseState=i,Qu(e,ut,typeof o=="function"?o:ar)}function Nb(e,n,i,o,h){if(Mo(e))throw Error(a(485));if(e=n.action,e!==null){var y={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){y.listeners.push(M)}};W.T!==null?i(!0):y.isTransition=!1,o(y),i=n.pending,i===null?(y.next=n.pending=y,Up(n,y)):(y.next=i.next,n.pending=i.next=y)}}function Up(e,n){var i=n.action,o=n.payload,h=e.state;if(n.isTransition){var y=W.T,M={};W.T=M;try{var P=i(h,o),se=W.S;se!==null&&se(M,P),Mp(e,n,P)}catch(we){tc(e,n,we)}finally{W.T=y}}else try{y=i(h,o),Mp(e,n,y)}catch(we){tc(e,n,we)}}function Mp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Lp(e,n,o)},function(o){return tc(e,n,o)}):Lp(e,n,i)}function Lp(e,n,i){n.status="fulfilled",n.value=i,Bp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Up(e,i)))}function tc(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Bp(n),n=n.next;while(n!==o)}e.action=null}function Bp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ip(e,n){return n}function zp(e,n){if(nt){var i=mt.formState;if(i!==null){e:{var o=We;if(nt){if(Et){t:{for(var h=Et,y=Hn;h.nodeType!==8;){if(!y){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Et=Ln(h.nextSibling),o=h.data==="F!";break e}}ii(o)}o=!1}o&&(n=i[0])}}return i=rn(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},i.queue=o,i=im.bind(null,We,o),o.dispatch=i,o=ec(!1),y=ac.bind(null,We,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,i=Nb.bind(null,We,h,y,i),h.dispatch=i,o.memoizedState=e,[n,i,!1]}function Pp(e){var n=Dt();return Fp(n,ut,e)}function Fp(e,n,i){if(n=Qu(e,n,Ip)[0],e=Oo(ar)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=da(n)}catch(M){throw M===oa?Ao:M}else o=n;n=Dt();var h=n.queue,y=h.dispatch;return i!==n.memoizedState&&(We.flags|=2048,Yi(9,Do(),Rb.bind(null,h,i),null)),[o,y,e]}function Rb(e,n){e.action=n}function Hp(e){var n=Dt(),i=ut;if(i!==null)return Fp(n,i,e);Dt(),n=n.memoizedState,i=Dt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Yi(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=We.updateQueue,n===null&&(n=Xu(),We.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function Do(){return{destroy:void 0,resource:void 0}}function qp(){return Dt().memoizedState}function Uo(e,n,i,o){var h=rn();o=o===void 0?null:o,We.flags|=e,h.memoizedState=Yi(1|n,Do(),i,o)}function pa(e,n,i,o){var h=Dt();o=o===void 0?null:o;var y=h.memoizedState.inst;ut!==null&&o!==null&&Gu(o,ut.memoizedState.deps)?h.memoizedState=Yi(n,y,i,o):(We.flags|=e,h.memoizedState=Yi(1|n,y,i,o))}function $p(e,n){Uo(8390656,8,e,n)}function Gp(e,n){pa(2048,8,e,n)}function Kp(e,n){return pa(4,2,e,n)}function Vp(e,n){return pa(4,4,e,n)}function Wp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yp(e,n,i){i=i!=null?i.concat([e]):null,pa(4,4,Wp.bind(null,n,e),i)}function nc(){}function Xp(e,n){var i=Dt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Gu(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Zp(e,n){var i=Dt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Gu(n,o[1]))return o[0];if(o=e(),li){Ue(!0);try{e()}finally{Ue(!1)}}return i.memoizedState=[o,n],o}function rc(e,n,i){return i===void 0||(Tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=eg(),We.lanes|=e,Or|=e,i)}function Qp(e,n,i,o){return fn(i,n)?i:Ki.current!==null?(e=rc(e,i,o),fn(e,n)||(Pt=!0),e):(Tr&42)===0?(Pt=!0,e.memoizedState=i):(e=eg(),We.lanes|=e,Or|=e,n)}function Jp(e,n,i,o,h){var y=X.p;X.p=y!==0&&8>y?y:8;var M=W.T,P={};W.T=P,ac(e,!1,n,i);try{var se=h(),we=W.S;if(we!==null&&we(P,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ae=Ab(se,o);ma(e,n,Ae,gn(e))}else ma(e,n,o,gn(e))}catch(Ne){ma(e,n,{then:function(){},status:"rejected",reason:Ne},gn())}finally{X.p=y,W.T=M}}function Cb(){}function ic(e,n,i,o){if(e.tag!==5)throw Error(a(476));var h=em(e).queue;Jp(e,h,n,me,i===null?Cb:function(){return tm(e),i(o)})}function em(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:me},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tm(e){var n=em(e).next.queue;ma(e,n,{},gn())}function sc(){return Wt(Da)}function nm(){return Dt().memoizedState}function rm(){return Dt().memoizedState}function Ob(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=gn();e=Sr(i);var o=Er(n,e,i);o!==null&&(yn(o,n,i),ua(o,n,i)),n={cache:Mu()},e.payload=n;return}n=n.return}}function Db(e,n,i){var o=gn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Mo(e)?sm(n,i):(i=Tu(e,n,i,o),i!==null&&(yn(i,e,o),am(i,n,o)))}function im(e,n,i){var o=gn();ma(e,n,i,o)}function ma(e,n,i,o){var h={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Mo(e))sm(n,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var M=n.lastRenderedState,P=y(M,i);if(h.hasEagerState=!0,h.eagerState=P,fn(P,M))return vo(e,n,h,0),mt===null&&yo(),!1}catch{}finally{}if(i=Tu(e,n,h,o),i!==null)return yn(i,e,o),am(i,n,o),!0}return!1}function ac(e,n,i,o){if(o={lane:2,revertLane:Ic(),action:o,hasEagerState:!1,eagerState:null,next:null},Mo(e)){if(n)throw Error(a(479))}else n=Tu(e,i,o,2),n!==null&&yn(n,e,2)}function Mo(e){var n=e.alternate;return e===We||n!==null&&n===We}function sm(e,n){Vi=No=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function am(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Fs(e,i)}}var Lo={readContext:Wt,use:Co,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},om={readContext:Wt,use:Co,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Wt,useEffect:$p,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Uo(4194308,4,Wp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Uo(4194308,4,e,n)},useInsertionEffect:function(e,n){Uo(4,2,e,n)},useMemo:function(e,n){var i=rn();n=n===void 0?null:n;var o=e();if(li){Ue(!0);try{e()}finally{Ue(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=rn();if(i!==void 0){var h=i(n);if(li){Ue(!0);try{i(n)}finally{Ue(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Db.bind(null,We,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=ec(e);var n=e.queue,i=im.bind(null,We,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:nc,useDeferredValue:function(e,n){var i=rn();return rc(i,e,n)},useTransition:function(){var e=ec(!1);return e=Jp.bind(null,We,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=We,h=rn();if(nt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),mt===null)throw Error(a(349));(et&124)!==0||jp(o,n,i)}h.memoizedState=i;var y={value:i,getSnapshot:n};return h.queue=y,$p(Rp.bind(null,o,y,e),[e]),o.flags|=2048,Yi(9,Do(),Np.bind(null,o,y,i,n),null),i},useId:function(){var e=rn(),n=mt.identifierPrefix;if(nt){var i=rr,o=nr;i=(o&~(1<<32-Ge(o)-1)).toString(32)+i,n="«"+n+"R"+i,i=Ro++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=kb++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:sc,useFormState:zp,useActionState:zp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ac.bind(null,We,!0,i),i.dispatch=n,[e,n]},useMemoCache:Zu,useCacheRefresh:function(){return rn().memoizedState=Ob.bind(null,We)}},lm={readContext:Wt,use:Co,useCallback:Xp,useContext:Wt,useEffect:Gp,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:Vp,useMemo:Zp,useReducer:Oo,useRef:qp,useState:function(){return Oo(ar)},useDebugValue:nc,useDeferredValue:function(e,n){var i=Dt();return Qp(i,ut.memoizedState,e,n)},useTransition:function(){var e=Oo(ar)[0],n=Dt().memoizedState;return[typeof e=="boolean"?e:da(e),n]},useSyncExternalStore:kp,useId:nm,useHostTransitionStatus:sc,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,n){var i=Dt();return Dp(i,ut,e,n)},useMemoCache:Zu,useCacheRefresh:rm},Ub={readContext:Wt,use:Co,useCallback:Xp,useContext:Wt,useEffect:Gp,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:Vp,useMemo:Zp,useReducer:Ju,useRef:qp,useState:function(){return Ju(ar)},useDebugValue:nc,useDeferredValue:function(e,n){var i=Dt();return ut===null?rc(i,e,n):Qp(i,ut.memoizedState,e,n)},useTransition:function(){var e=Ju(ar)[0],n=Dt().memoizedState;return[typeof e=="boolean"?e:da(e),n]},useSyncExternalStore:kp,useId:nm,useHostTransitionStatus:sc,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,n){var i=Dt();return ut!==null?Dp(i,ut,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:rm},Xi=null,ga=0;function Bo(e){var n=ga;return ga+=1,Xi===null&&(Xi=[]),wp(Xi,e,n)}function ya(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Io(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function um(e){var n=e._init;return n(e._payload)}function cm(e){function n(pe,ce){if(e){var ve=pe.deletions;ve===null?(pe.deletions=[ce],pe.flags|=16):ve.push(ce)}}function i(pe,ce){if(!e)return null;for(;ce!==null;)n(pe,ce),ce=ce.sibling;return null}function o(pe){for(var ce=new Map;pe!==null;)pe.key!==null?ce.set(pe.key,pe):ce.set(pe.index,pe),pe=pe.sibling;return ce}function h(pe,ce){return pe=tr(pe,ce),pe.index=0,pe.sibling=null,pe}function y(pe,ce,ve){return pe.index=ve,e?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<ce?(pe.flags|=67108866,ce):ve):(pe.flags|=67108866,ce)):(pe.flags|=1048576,ce)}function M(pe){return e&&pe.alternate===null&&(pe.flags|=67108866),pe}function P(pe,ce,ve,ke){return ce===null||ce.tag!==6?(ce=ku(ve,pe.mode,ke),ce.return=pe,ce):(ce=h(ce,ve),ce.return=pe,ce)}function se(pe,ce,ve,ke){var Me=ve.type;return Me===j?Ae(pe,ce,ve.props.children,ke,ve.key):ce!==null&&(ce.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===le&&um(Me)===ce.type)?(ce=h(ce,ve.props),ya(ce,ve),ce.return=pe,ce):(ce=bo(ve.type,ve.key,ve.props,null,pe.mode,ke),ya(ce,ve),ce.return=pe,ce)}function we(pe,ce,ve,ke){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ve.containerInfo||ce.stateNode.implementation!==ve.implementation?(ce=ju(ve,pe.mode,ke),ce.return=pe,ce):(ce=h(ce,ve.children||[]),ce.return=pe,ce)}function Ae(pe,ce,ve,ke,Me){return ce===null||ce.tag!==7?(ce=ei(ve,pe.mode,ke,Me),ce.return=pe,ce):(ce=h(ce,ve),ce.return=pe,ce)}function Ne(pe,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=ku(""+ce,pe.mode,ve),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ve=bo(ce.type,ce.key,ce.props,null,pe.mode,ve),ya(ve,ce),ve.return=pe,ve;case S:return ce=ju(ce,pe.mode,ve),ce.return=pe,ce;case le:var ke=ce._init;return ce=ke(ce._payload),Ne(pe,ce,ve)}if(re(ce)||I(ce))return ce=ei(ce,pe.mode,ve,null),ce.return=pe,ce;if(typeof ce.then=="function")return Ne(pe,Bo(ce),ve);if(ce.$$typeof===U)return Ne(pe,Eo(pe,ce),ve);Io(pe,ce)}return null}function xe(pe,ce,ve,ke){var Me=ce!==null?ce.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Me!==null?null:P(pe,ce,""+ve,ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ve.key===Me?se(pe,ce,ve,ke):null;case S:return ve.key===Me?we(pe,ce,ve,ke):null;case le:return Me=ve._init,ve=Me(ve._payload),xe(pe,ce,ve,ke)}if(re(ve)||I(ve))return Me!==null?null:Ae(pe,ce,ve,ke,null);if(typeof ve.then=="function")return xe(pe,ce,Bo(ve),ke);if(ve.$$typeof===U)return xe(pe,ce,Eo(pe,ve),ke);Io(pe,ve)}return null}function _e(pe,ce,ve,ke,Me){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return pe=pe.get(ve)||null,P(ce,pe,""+ke,Me);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case _:return pe=pe.get(ke.key===null?ve:ke.key)||null,se(ce,pe,ke,Me);case S:return pe=pe.get(ke.key===null?ve:ke.key)||null,we(ce,pe,ke,Me);case le:var Xe=ke._init;return ke=Xe(ke._payload),_e(pe,ce,ve,ke,Me)}if(re(ke)||I(ke))return pe=pe.get(ve)||null,Ae(ce,pe,ke,Me,null);if(typeof ke.then=="function")return _e(pe,ce,ve,Bo(ke),Me);if(ke.$$typeof===U)return _e(pe,ce,ve,Eo(ce,ke),Me);Io(ce,ke)}return null}function Pe(pe,ce,ve,ke){for(var Me=null,Xe=null,Le=ce,ze=ce=0,Ht=null;Le!==null&&ze<ve.length;ze++){Le.index>ze?(Ht=Le,Le=null):Ht=Le.sibling;var tt=xe(pe,Le,ve[ze],ke);if(tt===null){Le===null&&(Le=Ht);break}e&&Le&&tt.alternate===null&&n(pe,Le),ce=y(tt,ce,ze),Xe===null?Me=tt:Xe.sibling=tt,Xe=tt,Le=Ht}if(ze===ve.length)return i(pe,Le),nt&&ni(pe,ze),Me;if(Le===null){for(;ze<ve.length;ze++)Le=Ne(pe,ve[ze],ke),Le!==null&&(ce=y(Le,ce,ze),Xe===null?Me=Le:Xe.sibling=Le,Xe=Le);return nt&&ni(pe,ze),Me}for(Le=o(Le);ze<ve.length;ze++)Ht=_e(Le,pe,ze,ve[ze],ke),Ht!==null&&(e&&Ht.alternate!==null&&Le.delete(Ht.key===null?ze:Ht.key),ce=y(Ht,ce,ze),Xe===null?Me=Ht:Xe.sibling=Ht,Xe=Ht);return e&&Le.forEach(function(Fr){return n(pe,Fr)}),nt&&ni(pe,ze),Me}function Ie(pe,ce,ve,ke){if(ve==null)throw Error(a(151));for(var Me=null,Xe=null,Le=ce,ze=ce=0,Ht=null,tt=ve.next();Le!==null&&!tt.done;ze++,tt=ve.next()){Le.index>ze?(Ht=Le,Le=null):Ht=Le.sibling;var Fr=xe(pe,Le,tt.value,ke);if(Fr===null){Le===null&&(Le=Ht);break}e&&Le&&Fr.alternate===null&&n(pe,Le),ce=y(Fr,ce,ze),Xe===null?Me=Fr:Xe.sibling=Fr,Xe=Fr,Le=Ht}if(tt.done)return i(pe,Le),nt&&ni(pe,ze),Me;if(Le===null){for(;!tt.done;ze++,tt=ve.next())tt=Ne(pe,tt.value,ke),tt!==null&&(ce=y(tt,ce,ze),Xe===null?Me=tt:Xe.sibling=tt,Xe=tt);return nt&&ni(pe,ze),Me}for(Le=o(Le);!tt.done;ze++,tt=ve.next())tt=_e(Le,pe,ze,tt.value,ke),tt!==null&&(e&&tt.alternate!==null&&Le.delete(tt.key===null?ze:tt.key),ce=y(tt,ce,ze),Xe===null?Me=tt:Xe.sibling=tt,Xe=tt);return e&&Le.forEach(function(M1){return n(pe,M1)}),nt&&ni(pe,ze),Me}function ft(pe,ce,ve,ke){if(typeof ve=="object"&&ve!==null&&ve.type===j&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:e:{for(var Me=ve.key;ce!==null;){if(ce.key===Me){if(Me=ve.type,Me===j){if(ce.tag===7){i(pe,ce.sibling),ke=h(ce,ve.props.children),ke.return=pe,pe=ke;break e}}else if(ce.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===le&&um(Me)===ce.type){i(pe,ce.sibling),ke=h(ce,ve.props),ya(ke,ve),ke.return=pe,pe=ke;break e}i(pe,ce);break}else n(pe,ce);ce=ce.sibling}ve.type===j?(ke=ei(ve.props.children,pe.mode,ke,ve.key),ke.return=pe,pe=ke):(ke=bo(ve.type,ve.key,ve.props,null,pe.mode,ke),ya(ke,ve),ke.return=pe,pe=ke)}return M(pe);case S:e:{for(Me=ve.key;ce!==null;){if(ce.key===Me)if(ce.tag===4&&ce.stateNode.containerInfo===ve.containerInfo&&ce.stateNode.implementation===ve.implementation){i(pe,ce.sibling),ke=h(ce,ve.children||[]),ke.return=pe,pe=ke;break e}else{i(pe,ce);break}else n(pe,ce);ce=ce.sibling}ke=ju(ve,pe.mode,ke),ke.return=pe,pe=ke}return M(pe);case le:return Me=ve._init,ve=Me(ve._payload),ft(pe,ce,ve,ke)}if(re(ve))return Pe(pe,ce,ve,ke);if(I(ve)){if(Me=I(ve),typeof Me!="function")throw Error(a(150));return ve=Me.call(ve),Ie(pe,ce,ve,ke)}if(typeof ve.then=="function")return ft(pe,ce,Bo(ve),ke);if(ve.$$typeof===U)return ft(pe,ce,Eo(pe,ve),ke);Io(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ce!==null&&ce.tag===6?(i(pe,ce.sibling),ke=h(ce,ve),ke.return=pe,pe=ke):(i(pe,ce),ke=ku(ve,pe.mode,ke),ke.return=pe,pe=ke),M(pe)):i(pe,ce)}return function(pe,ce,ve,ke){try{ga=0;var Me=ft(pe,ce,ve,ke);return Xi=null,Me}catch(Le){if(Le===oa||Le===Ao)throw Le;var Xe=hn(29,Le,null,pe.mode);return Xe.lanes=ke,Xe.return=pe,Xe}finally{}}}var Zi=cm(!0),fm=cm(!1),An=$(null),qn=null;function Ar(e){var n=e.alternate;Y(Lt,Lt.current&1),Y(An,e),qn===null&&(n===null||Ki.current!==null||n.memoizedState!==null)&&(qn=e)}function hm(e){if(e.tag===22){if(Y(Lt,Lt.current),Y(An,e),qn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(qn=e)}}else kr()}function kr(){Y(Lt,Lt.current),Y(An,An.current)}function or(e){B(An),qn===e&&(qn=null),B(Lt)}var Lt=$(0);function zo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Xc(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function oc(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:m({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var lc={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=gn(),h=Sr(o);h.payload=n,i!=null&&(h.callback=i),n=Er(e,h,o),n!==null&&(yn(n,e,o),ua(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=gn(),h=Sr(o);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Er(e,h,o),n!==null&&(yn(n,e,o),ua(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=gn(),o=Sr(i);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,i),n!==null&&(yn(n,e,i),ua(n,e,i))}};function dm(e,n,i,o,h,y,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,y,M):n.prototype&&n.prototype.isPureReactComponent?!Js(i,o)||!Js(h,y):!0}function pm(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&lc.enqueueReplaceState(n,n.state,null)}function ui(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=m({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}var Po=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mm(e){Po(e)}function gm(e){console.error(e)}function ym(e){Po(e)}function Fo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vm(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function uc(e,n,i){return i=Sr(i),i.tag=3,i.payload={element:null},i.callback=function(){Fo(e,n)},i}function wm(e){return e=Sr(e),e.tag=3,e}function bm(e,n,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var y=o.value;e.payload=function(){return h(y)},e.callback=function(){vm(n,i,o)}}var M=i.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){vm(n,i,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})})}function Mb(e,n,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&ia(n,i,h,!0),i=An.current,i!==null){switch(i.tag){case 13:return qn===null?Dc():i.alternate===null&&Tt===0&&(Tt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===Iu?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Mc(e,o,h)),!1;case 22:return i.flags|=65536,o===Iu?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Mc(e,o,h)),!1}throw Error(a(435,i.tag))}return Mc(e,o,h),Dc(),!1}if(nt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Cu&&(e=Error(a(422),{cause:o}),ra(_n(e,i)))):(o!==Cu&&(n=Error(a(423),{cause:o}),ra(_n(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=_n(o,i),h=uc(e.stateNode,o,h),Fu(e,h),Tt!==4&&(Tt=2)),!1;var y=Error(a(520),{cause:o});if(y=_n(y,i),Ea===null?Ea=[y]:Ea.push(y),Tt!==4&&(Tt=2),n===null)return!0;o=_n(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=uc(i.stateNode,o,e),Fu(i,e),!1;case 1:if(n=i.type,y=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dr===null||!Dr.has(y))))return i.flags|=65536,h&=-h,i.lanes|=h,h=wm(h),bm(h,e,i,o),Fu(i,h),!1}i=i.return}while(i!==null);return!1}var xm=Error(a(461)),Pt=!1;function $t(e,n,i,o){n.child=e===null?fm(n,null,i,o):Zi(n,e.child,i,o)}function _m(e,n,i,o,h){i=i.render;var y=n.ref;if("ref"in o){var M={};for(var P in o)P!=="ref"&&(M[P]=o[P])}else M=o;return ai(n),o=Ku(e,n,i,M,y,h),P=Vu(),e!==null&&!Pt?(Wu(e,n,h),lr(e,n,h)):(nt&&P&&Nu(n),n.flags|=1,$t(e,n,o,h),n.child)}function Sm(e,n,i,o,h){if(e===null){var y=i.type;return typeof y=="function"&&!Au(y)&&y.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=y,Em(e,n,y,o,h)):(e=bo(i.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!yc(e,h)){var M=y.memoizedProps;if(i=i.compare,i=i!==null?i:Js,i(M,o)&&e.ref===n.ref)return lr(e,n,h)}return n.flags|=1,e=tr(y,o),e.ref=n.ref,e.return=n,n.child=e}function Em(e,n,i,o,h){if(e!==null){var y=e.memoizedProps;if(Js(y,o)&&e.ref===n.ref)if(Pt=!1,n.pendingProps=o=y,yc(e,h))(e.flags&131072)!==0&&(Pt=!0);else return n.lanes=e.lanes,lr(e,n,h)}return cc(e,n,i,o,h)}function Tm(e,n,i){var o=n.pendingProps,h=o.children,y=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=y!==null?y.baseLanes|i:i,e!==null){for(h=n.child=e.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;n.childLanes=y&~o}else n.childLanes=0,n.child=null;return Am(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&To(n,y!==null?y.cachePool:null),y!==null?Ep(n,y):qu(),hm(n);else return n.lanes=n.childLanes=536870912,Am(e,n,y!==null?y.baseLanes|i:i,i)}else y!==null?(To(n,y.cachePool),Ep(n,y),kr(),n.memoizedState=null):(e!==null&&To(n,null),qu(),kr());return $t(e,n,h,i),n.child}function Am(e,n,i,o){var h=Bu();return h=h===null?null:{parent:Mt._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&To(n,null),qu(),hm(n),e!==null&&ia(e,n,o,!0),null}function Ho(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function cc(e,n,i,o,h){return ai(n),i=Ku(e,n,i,o,void 0,h),o=Vu(),e!==null&&!Pt?(Wu(e,n,h),lr(e,n,h)):(nt&&o&&Nu(n),n.flags|=1,$t(e,n,i,h),n.child)}function km(e,n,i,o,h,y){return ai(n),n.updateQueue=null,i=Ap(n,o,i,h),Tp(e),o=Vu(),e!==null&&!Pt?(Wu(e,n,y),lr(e,n,y)):(nt&&o&&Nu(n),n.flags|=1,$t(e,n,i,y),n.child)}function jm(e,n,i,o,h){if(ai(n),n.stateNode===null){var y=Fi,M=i.contextType;typeof M=="object"&&M!==null&&(y=Wt(M)),y=new i(o,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=lc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=o,y.state=n.memoizedState,y.refs={},zu(n),M=i.contextType,y.context=typeof M=="object"&&M!==null?Wt(M):Fi,y.state=n.memoizedState,M=i.getDerivedStateFromProps,typeof M=="function"&&(oc(n,i,M,o),y.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(M=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),M!==y.state&&lc.enqueueReplaceState(y,y.state,null),fa(n,o,y,h),ca(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){y=n.stateNode;var P=n.memoizedProps,se=ui(i,P);y.props=se;var we=y.context,Ae=i.contextType;M=Fi,typeof Ae=="object"&&Ae!==null&&(M=Wt(Ae));var Ne=i.getDerivedStateFromProps;Ae=typeof Ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,Ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||we!==M)&&pm(n,y,o,M),_r=!1;var xe=n.memoizedState;y.state=xe,fa(n,o,y,h),ca(),we=n.memoizedState,P||xe!==we||_r?(typeof Ne=="function"&&(oc(n,i,Ne,o),we=n.memoizedState),(se=_r||dm(n,i,se,o,xe,we,M))?(Ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=we),y.props=o,y.state=we,y.context=M,o=se):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{y=n.stateNode,Pu(e,n),M=n.memoizedProps,Ae=ui(i,M),y.props=Ae,Ne=n.pendingProps,xe=y.context,we=i.contextType,se=Fi,typeof we=="object"&&we!==null&&(se=Wt(we)),P=i.getDerivedStateFromProps,(we=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M!==Ne||xe!==se)&&pm(n,y,o,se),_r=!1,xe=n.memoizedState,y.state=xe,fa(n,o,y,h),ca();var _e=n.memoizedState;M!==Ne||xe!==_e||_r||e!==null&&e.dependencies!==null&&So(e.dependencies)?(typeof P=="function"&&(oc(n,i,P,o),_e=n.memoizedState),(Ae=_r||dm(n,i,Ae,o,xe,_e,se)||e!==null&&e.dependencies!==null&&So(e.dependencies))?(we||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,_e,se),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,_e,se)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=_e),y.props=o,y.state=_e,y.context=se,o=Ae):(typeof y.componentDidUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),o=!1)}return y=o,Ho(e,n),o=(n.flags&128)!==0,y||o?(y=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&o?(n.child=Zi(n,e.child,null,h),n.child=Zi(n,null,i,h)):$t(e,n,i,h),n.memoizedState=y.state,e=n.child):e=lr(e,n,h),e}function Nm(e,n,i,o){return na(),n.flags|=256,$t(e,n,i,o),n.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hc(e){return{baseLanes:e,cachePool:gp()}}function dc(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=kn),e}function Rm(e,n,i){var o=n.pendingProps,h=!1,y=(n.flags&128)!==0,M;if((M=y)||(M=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),M&&(h=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,e===null){if(nt){if(h?Ar(n):kr(),nt){var P=Et,se;if(se=P){e:{for(se=P,P=Hn;se.nodeType!==8;){if(!P){P=null;break e}if(se=Ln(se.nextSibling),se===null){P=null;break e}}P=se}P!==null?(n.memoizedState={dehydrated:P,treeContext:ti!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},se=hn(18,null,null,0),se.stateNode=P,se.return=n,n.child=se,Jt=n,Et=null,se=!0):se=!1}se||ii(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Xc(P)?n.lanes=32:n.lanes=536870912,null;or(n)}return P=o.children,o=o.fallback,h?(kr(),h=n.mode,P=qo({mode:"hidden",children:P},h),o=ei(o,h,i,null),P.return=n,o.return=n,P.sibling=o,n.child=P,h=n.child,h.memoizedState=hc(i),h.childLanes=dc(e,M,i),n.memoizedState=fc,o):(Ar(n),pc(n,P))}if(se=e.memoizedState,se!==null&&(P=se.dehydrated,P!==null)){if(y)n.flags&256?(Ar(n),n.flags&=-257,n=mc(e,n,i)):n.memoizedState!==null?(kr(),n.child=e.child,n.flags|=128,n=null):(kr(),h=o.fallback,P=n.mode,o=qo({mode:"visible",children:o.children},P),h=ei(h,P,i,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Zi(n,e.child,null,i),o=n.child,o.memoizedState=hc(i),o.childLanes=dc(e,M,i),n.memoizedState=fc,n=h);else if(Ar(n),Xc(P)){if(M=P.nextSibling&&P.nextSibling.dataset,M)var we=M.dgst;M=we,o=Error(a(419)),o.stack="",o.digest=M,ra({value:o,source:null,stack:null}),n=mc(e,n,i)}else if(Pt||ia(e,n,i,!1),M=(i&e.childLanes)!==0,Pt||M){if(M=mt,M!==null&&(o=i&-i,o=(o&42)!==0?1:Yr(o),o=(o&(M.suspendedLanes|i))!==0?0:o,o!==0&&o!==se.retryLane))throw se.retryLane=o,Pi(e,o),yn(M,e,o),xm;P.data==="$?"||Dc(),n=mc(e,n,i)}else P.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=se.treeContext,Et=Ln(P.nextSibling),Jt=n,nt=!0,ri=null,Hn=!1,e!==null&&(En[Tn++]=nr,En[Tn++]=rr,En[Tn++]=ti,nr=e.id,rr=e.overflow,ti=n),n=pc(n,o.children),n.flags|=4096);return n}return h?(kr(),h=o.fallback,P=n.mode,se=e.child,we=se.sibling,o=tr(se,{mode:"hidden",children:o.children}),o.subtreeFlags=se.subtreeFlags&65011712,we!==null?h=tr(we,h):(h=ei(h,P,i,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,P=e.child.memoizedState,P===null?P=hc(i):(se=P.cachePool,se!==null?(we=Mt._currentValue,se=se.parent!==we?{parent:we,pool:we}:se):se=gp(),P={baseLanes:P.baseLanes|i,cachePool:se}),h.memoizedState=P,h.childLanes=dc(e,M,i),n.memoizedState=fc,o):(Ar(n),i=e.child,e=i.sibling,i=tr(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(M=n.deletions,M===null?(n.deletions=[e],n.flags|=16):M.push(e)),n.child=i,n.memoizedState=null,i)}function pc(e,n){return n=qo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qo(e,n){return e=hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mc(e,n,i){return Zi(n,e.child,null,i),e=pc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cm(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Du(e.return,n,i)}function gc(e,n,i,o,h){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=h)}function Om(e,n,i){var o=n.pendingProps,h=o.revealOrder,y=o.tail;if($t(e,n,o.children,i),o=Lt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,i,n);else if(e.tag===19)Cm(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Y(Lt,o),h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&zo(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),gc(n,!1,h,i,y);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zo(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}gc(n,!0,i,null,y);break;case"together":gc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function lr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(ia(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=tr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=tr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function yc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&So(e)))}function Lb(e,n,i){switch(n.tag){case 3:k(n,n.stateNode.containerInfo),xr(n,Mt,e.memoizedState.cache),na();break;case 27:case 5:Z(n);break;case 4:k(n,n.stateNode.containerInfo);break;case 10:xr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Rm(e,n,i):(Ar(n),e=lr(e,n,i),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(ia(e,n,i,!1),o=(i&n.childLanes)!==0),h){if(o)return Om(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(Lt,Lt.current),o)break;return null;case 22:case 23:return n.lanes=0,Tm(e,n,i);case 24:xr(n,Mt,e.memoizedState.cache)}return lr(e,n,i)}function Dm(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pt=!0;else{if(!yc(e,i)&&(n.flags&128)===0)return Pt=!1,Lb(e,n,i);Pt=(e.flags&131072)!==0}else Pt=!1,nt&&(n.flags&1048576)!==0&&up(n,_o,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Au(o)?(e=ui(o,e),n.tag=1,n=jm(null,n,o,e,i)):(n.tag=0,n=cc(null,n,o,e,i));else{if(o!=null){if(h=o.$$typeof,h===z){n.tag=11,n=_m(null,n,o,e,i);break e}else if(h===ne){n.tag=14,n=Sm(null,n,o,e,i);break e}}throw n=D(o)||o,Error(a(306,n,""))}}return n;case 0:return cc(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,h=ui(o,n.pendingProps),jm(e,n,o,h,i);case 3:e:{if(k(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var y=n.memoizedState;h=y.element,Pu(e,n),fa(n,o,null,i);var M=n.memoizedState;if(o=M.cache,xr(n,Mt,o),o!==y.cache&&Uu(n,[Mt],i,!0),ca(),o=M.element,y.isDehydrated)if(y={element:o,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Nm(e,n,o,i);break e}else if(o!==h){h=_n(Error(a(424)),n),ra(h),n=Nm(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Et=Ln(e.firstChild),Jt=n,nt=!0,ri=null,Hn=!0,i=fm(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(na(),o===h){n=lr(e,n,i);break e}$t(e,n,o,i)}n=n.child}return n;case 26:return Ho(e,n),e===null?(i=Bg(n.type,null,n.pendingProps,null))?n.memoizedState=i:nt||(i=n.type,e=n.pendingProps,o=rl(Q.current).createElement(i),o[Vt]=n,o[tn]=e,Kt(o,i,e),zt(o),n.stateNode=o):n.memoizedState=Bg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Z(n),e===null&&nt&&(o=n.stateNode=Ug(n.type,n.pendingProps,Q.current),Jt=n,Hn=!0,h=Et,Lr(n.type)?(Zc=h,Et=Ln(o.firstChild)):Et=h),$t(e,n,n.pendingProps.children,i),Ho(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&nt&&((h=o=Et)&&(o=c1(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Jt=n,Et=Ln(o.firstChild),Hn=!1,h=!0):h=!1),h||ii(n)),Z(n),h=n.type,y=n.pendingProps,M=e!==null?e.memoizedProps:null,o=y.children,Vc(h,y)?o=null:M!==null&&Vc(h,M)&&(n.flags|=32),n.memoizedState!==null&&(h=Ku(e,n,jb,null,null,i),Da._currentValue=h),Ho(e,n),$t(e,n,o,i),n.child;case 6:return e===null&&nt&&((e=i=Et)&&(i=f1(i,n.pendingProps,Hn),i!==null?(n.stateNode=i,Jt=n,Et=null,e=!0):e=!1),e||ii(n)),null;case 13:return Rm(e,n,i);case 4:return k(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Zi(n,null,o,i):$t(e,n,o,i),n.child;case 11:return _m(e,n,n.type,n.pendingProps,i);case 7:return $t(e,n,n.pendingProps,i),n.child;case 8:return $t(e,n,n.pendingProps.children,i),n.child;case 12:return $t(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,xr(n,n.type,o.value),$t(e,n,o.children,i),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ai(n),h=Wt(h),o=o(h),n.flags|=1,$t(e,n,o,i),n.child;case 14:return Sm(e,n,n.type,n.pendingProps,i);case 15:return Em(e,n,n.type,n.pendingProps,i);case 19:return Om(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=qo(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=tr(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Tm(e,n,i);case 24:return ai(n),o=Wt(Mt),e===null?(h=Bu(),h===null&&(h=mt,y=Mu(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=i),h=y),n.memoizedState={parent:o,cache:h},zu(n),xr(n,Mt,h)):((e.lanes&i)!==0&&(Pu(e,n),fa(n,null,null,i),ca()),h=e.memoizedState,y=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xr(n,Mt,o)):(o=y.cache,xr(n,Mt,o),o!==h.cache&&Uu(n,[Mt],i,!0))),$t(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ur(e){e.flags|=4}function Um(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hg(n)){if(n=An.current,n!==null&&((et&4194048)===et?qn!==null:(et&62914560)!==et&&(et&536870912)===0||n!==qn))throw la=Iu,yp;e.flags|=8192}}function $o(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cn():536870912,e.lanes|=n,ts|=n)}function va(e,n){if(!nt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Bb(e,n,i){var o=n.pendingProps;switch(Ru(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),sr(Mt),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ta(n)?ur(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hp())),xt(n),null;case 26:return i=n.memoizedState,e===null?(ur(n),i!==null?(xt(n),Um(n,i)):(xt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(ur(n),xt(n),Um(n,i)):(xt(n),n.flags&=-16777217):(e.memoizedProps!==o&&ur(n),xt(n),n.flags&=-16777217),null;case 27:F(n),i=Q.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ur(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return xt(n),null}e=J.current,ta(n)?cp(n):(e=Ug(h,o,i),n.stateNode=e,ur(n))}return xt(n),null;case 5:if(F(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ur(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return xt(n),null}if(e=J.current,ta(n))cp(n);else{switch(h=rl(Q.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(i,{is:o.is}):h.createElement(i)}}e[Vt]=n,e[tn]=o;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;e:switch(Kt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ur(n)}}return xt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ur(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Q.current,ta(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Vt]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||kg(e.nodeValue,i)),e||ii(n)}else e=rl(e).createTextNode(o),e[Vt]=n,n.stateNode=e}return xt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Vt]=n}else na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),h=!1}else h=hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(or(n),n):(or(n),null)}if(or(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var y=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==h&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),$o(n,n.updateQueue),xt(n),null;case 4:return ie(),e===null&&Hc(n.stateNode.containerInfo),xt(n),null;case 10:return sr(n.type),xt(n),null;case 19:if(B(Lt),h=n.memoizedState,h===null)return xt(n),null;if(o=(n.flags&128)!==0,y=h.rendering,y===null)if(o)va(h,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=zo(e),y!==null){for(n.flags|=128,va(h,!1),e=y.updateQueue,n.updateQueue=e,$o(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)lp(i,e),i=i.sibling;return Y(Lt,Lt.current&1|2),n.child}e=e.sibling}h.tail!==null&&g()>Vo&&(n.flags|=128,o=!0,va(h,!1),n.lanes=4194304)}else{if(!o)if(e=zo(y),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,$o(n,e),va(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!nt)return xt(n),null}else 2*g()-h.renderingStartTime>Vo&&i!==536870912&&(n.flags|=128,o=!0,va(h,!1),n.lanes=4194304);h.isBackwards?(y.sibling=n.child,n.child=y):(e=h.last,e!==null?e.sibling=y:n.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=g(),n.sibling=null,e=Lt.current,Y(Lt,o?e&1|2:e&1),n):(xt(n),null);case 22:case 23:return or(n),$u(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),i=n.updateQueue,i!==null&&$o(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&B(oi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),sr(Mt),xt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ib(e,n){switch(Ru(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return sr(Mt),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return F(n),null;case 13:if(or(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));na()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Lt),null;case 4:return ie(),null;case 10:return sr(n.type),null;case 22:case 23:return or(n),$u(),e!==null&&B(oi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return sr(Mt),null;case 25:return null;default:return null}}function Mm(e,n){switch(Ru(n),n.tag){case 3:sr(Mt),ie();break;case 26:case 27:case 5:F(n);break;case 4:ie();break;case 13:or(n);break;case 19:B(Lt);break;case 10:sr(n.type);break;case 22:case 23:or(n),$u(),e!==null&&B(oi);break;case 24:sr(Mt)}}function wa(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var y=i.create,M=i.inst;o=y(),M.destroy=o}i=i.next}while(i!==h)}}catch(P){dt(n,n.return,P)}}function jr(e,n,i){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var y=h.next;o=y;do{if((o.tag&e)===e){var M=o.inst,P=M.destroy;if(P!==void 0){M.destroy=void 0,h=n;var se=i,we=P;try{we()}catch(Ae){dt(h,se,Ae)}}}o=o.next}while(o!==y)}}catch(Ae){dt(n,n.return,Ae)}}function Lm(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Sp(n,i)}catch(o){dt(e,e.return,o)}}}function Bm(e,n,i){i.props=ui(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){dt(e,n,o)}}function ba(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(h){dt(e,n,h)}}function $n(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){dt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){dt(e,n,h)}else i.current=null}function Im(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){dt(e,e.return,h)}}function vc(e,n,i){try{var o=e.stateNode;s1(o,e.type,i,n),o[tn]=n}catch(h){dt(e,e.return,h)}}function zm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=nl));else if(o!==4&&(o===27&&Lr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(bc(e,n,i),e=e.sibling;e!==null;)bc(e,n,i),e=e.sibling}function Go(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Go(e,n,i),e=e.sibling;e!==null;)Go(e,n,i),e=e.sibling}function Pm(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Kt(n,o,i),n[Vt]=e,n[tn]=i}catch(y){dt(e,e.return,y)}}var cr=!1,jt=!1,xc=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function zb(e,n){if(e=e.containerInfo,Gc=ul,e=Qd(e),wu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,y=o.focusNode;o=o.focusOffset;try{i.nodeType,y.nodeType}catch{i=null;break e}var M=0,P=-1,se=-1,we=0,Ae=0,Ne=e,xe=null;t:for(;;){for(var _e;Ne!==i||h!==0&&Ne.nodeType!==3||(P=M+h),Ne!==y||o!==0&&Ne.nodeType!==3||(se=M+o),Ne.nodeType===3&&(M+=Ne.nodeValue.length),(_e=Ne.firstChild)!==null;)xe=Ne,Ne=_e;for(;;){if(Ne===e)break t;if(xe===i&&++we===h&&(P=M),xe===y&&++Ae===o&&(se=M),(_e=Ne.nextSibling)!==null)break;Ne=xe,xe=Ne.parentNode}Ne=_e}i=P===-1||se===-1?null:{start:P,end:se}}else i=null}i=i||{start:0,end:0}}else i=null;for(Kc={focusedElem:e,selectionRange:i},ul=!1,Ft=n;Ft!==null;)if(n=Ft,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ft=e;else for(;Ft!==null;){switch(n=Ft,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,i=n,h=y.memoizedProps,y=y.memoizedState,o=i.stateNode;try{var Pe=ui(i.type,h,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Pe,y),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ie){dt(i,i.return,Ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Yc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ft=e;break}Ft=n.return}}function Hm(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(e,i),o&4&&wa(5,i);break;case 1:if(Nr(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(M){dt(i,i.return,M)}else{var h=ui(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(M){dt(i,i.return,M)}}o&64&&Lm(i),o&512&&ba(i,i.return);break;case 3:if(Nr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Sp(e,n)}catch(M){dt(i,i.return,M)}}break;case 27:n===null&&o&4&&Pm(i);case 26:case 5:Nr(e,i),n===null&&o&4&&Im(i),o&512&&ba(i,i.return);break;case 12:Nr(e,i);break;case 13:Nr(e,i),o&4&&Gm(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Wb.bind(null,i),h1(e,i))));break;case 22:if(o=i.memoizedState!==null||cr,!o){n=n!==null&&n.memoizedState!==null||jt,h=cr;var y=jt;cr=o,(jt=n)&&!y?Rr(e,i,(i.subtreeFlags&8772)!==0):Nr(e,i),cr=h,jt=y}break;case 30:break;default:Nr(e,i)}}function qm(e){var n=e.alternate;n!==null&&(e.alternate=null,qm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&eu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,sn=!1;function fr(e,n,i){for(i=i.child;i!==null;)$m(e,n,i),i=i.sibling}function $m(e,n,i){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ce,i)}catch{}switch(i.tag){case 26:jt||$n(i,n),fr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:jt||$n(i,n);var o=bt,h=sn;Lr(i.type)&&(bt=i.stateNode,sn=!1),fr(e,n,i),Na(i.stateNode),bt=o,sn=h;break;case 5:jt||$n(i,n);case 6:if(o=bt,h=sn,bt=null,fr(e,n,i),bt=o,sn=h,bt!==null)if(sn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(i.stateNode)}catch(y){dt(i,n,y)}else try{bt.removeChild(i.stateNode)}catch(y){dt(i,n,y)}break;case 18:bt!==null&&(sn?(e=bt,Og(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ba(e)):Og(bt,i.stateNode));break;case 4:o=bt,h=sn,bt=i.stateNode.containerInfo,sn=!0,fr(e,n,i),bt=o,sn=h;break;case 0:case 11:case 14:case 15:jt||jr(2,i,n),jt||jr(4,i,n),fr(e,n,i);break;case 1:jt||($n(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Bm(i,n,o)),fr(e,n,i);break;case 21:fr(e,n,i);break;case 22:jt=(o=jt)||i.memoizedState!==null,fr(e,n,i),jt=o;break;default:fr(e,n,i)}}function Gm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(i){dt(n,n.return,i)}}function Pb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fm),n;default:throw Error(a(435,e.tag))}}function _c(e,n){var i=Pb(e);n.forEach(function(o){var h=Yb.bind(null,e,o);i.has(o)||(i.add(o),o.then(h,h))})}function dn(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],y=e,M=n,P=M;e:for(;P!==null;){switch(P.tag){case 27:if(Lr(P.type)){bt=P.stateNode,sn=!1;break e}break;case 5:bt=P.stateNode,sn=!1;break e;case 3:case 4:bt=P.stateNode.containerInfo,sn=!0;break e}P=P.return}if(bt===null)throw Error(a(160));$m(y,M,h),bt=null,sn=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Km(n,e),n=n.sibling}var Mn=null;function Km(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),pn(e),o&4&&(jr(3,e,e.return),wa(3,e),jr(5,e,e.return));break;case 1:dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),o&64&&cr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=Mn;if(dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),o&4){var y=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":y=h.getElementsByTagName("title")[0],(!y||y[$s]||y[Vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(o),h.head.insertBefore(y,h.querySelector("head > title"))),Kt(y,o,i),y[Vt]=e,zt(y),o=y;break e;case"link":var M=Pg("link","href",h).get(o+(i.href||""));if(M){for(var P=0;P<M.length;P++)if(y=M[P],y.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&y.getAttribute("rel")===(i.rel==null?null:i.rel)&&y.getAttribute("title")===(i.title==null?null:i.title)&&y.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){M.splice(P,1);break t}}y=h.createElement(o),Kt(y,o,i),h.head.appendChild(y);break;case"meta":if(M=Pg("meta","content",h).get(o+(i.content||""))){for(P=0;P<M.length;P++)if(y=M[P],y.getAttribute("content")===(i.content==null?null:""+i.content)&&y.getAttribute("name")===(i.name==null?null:i.name)&&y.getAttribute("property")===(i.property==null?null:i.property)&&y.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&y.getAttribute("charset")===(i.charSet==null?null:i.charSet)){M.splice(P,1);break t}}y=h.createElement(o),Kt(y,o,i),h.head.appendChild(y);break;default:throw Error(a(468,o))}y[Vt]=e,zt(y),o=y}e.stateNode=o}else Fg(h,e.type,e.stateNode);else e.stateNode=zg(h,o,e.memoizedProps);else y!==o?(y===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):y.count--,o===null?Fg(h,e.type,e.stateNode):zg(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&vc(e,e.memoizedProps,i.memoizedProps)}break;case 27:dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),i!==null&&o&4&&vc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(dn(n,e),pn(e),o&512&&(jt||i===null||$n(i,i.return)),e.flags&32){h=e.stateNode;try{Di(h,"")}catch(_e){dt(e,e.return,_e)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,vc(e,h,i!==null?i.memoizedProps:h)),o&1024&&(xc=!0);break;case 6:if(dn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(_e){dt(e,e.return,_e)}}break;case 3:if(al=null,h=Mn,Mn=il(n.containerInfo),dn(n,e),Mn=h,pn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(_e){dt(e,e.return,_e)}xc&&(xc=!1,Vm(e));break;case 4:o=Mn,Mn=il(e.stateNode.containerInfo),dn(n,e),pn(e),Mn=o;break;case 12:dn(n,e),pn(e);break;case 13:dn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(jc=g()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_c(e,o)));break;case 22:h=e.memoizedState!==null;var se=i!==null&&i.memoizedState!==null,we=cr,Ae=jt;if(cr=we||h,jt=Ae||se,dn(n,e),jt=Ae,cr=we,pn(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||se||cr||jt||ci(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){se=i=n;try{if(y=se.stateNode,h)M=y.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{P=se.stateNode;var Ne=se.memoizedProps.style,xe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;P.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(_e){dt(se,se.return,_e)}}}else if(n.tag===6){if(i===null){se=n;try{se.stateNode.nodeValue=h?"":se.memoizedProps}catch(_e){dt(se,se.return,_e)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,_c(e,i))));break;case 19:dn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_c(e,o)));break;case 30:break;case 21:break;default:dn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(zm(o)){i=o;break}o=o.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var h=i.stateNode,y=wc(e);Go(e,y,h);break;case 5:var M=i.stateNode;i.flags&32&&(Di(M,""),i.flags&=-33);var P=wc(e);Go(e,P,M);break;case 3:case 4:var se=i.stateNode.containerInfo,we=wc(e);bc(e,we,se);break;default:throw Error(a(161))}}catch(Ae){dt(e,e.return,Ae)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hm(e,n.alternate,n),n=n.sibling}function ci(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:jr(4,n,n.return),ci(n);break;case 1:$n(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Bm(n,n.return,i),ci(n);break;case 27:Na(n.stateNode);case 26:case 5:$n(n,n.return),ci(n);break;case 22:n.memoizedState===null&&ci(n);break;case 30:ci(n);break;default:ci(n)}e=e.sibling}}function Rr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,y=n,M=y.flags;switch(y.tag){case 0:case 11:case 15:Rr(h,y,i),wa(4,y);break;case 1:if(Rr(h,y,i),o=y,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(we){dt(o,o.return,we)}if(o=y,h=o.updateQueue,h!==null){var P=o.stateNode;try{var se=h.shared.hiddenCallbacks;if(se!==null)for(h.shared.hiddenCallbacks=null,h=0;h<se.length;h++)_p(se[h],P)}catch(we){dt(o,o.return,we)}}i&&M&64&&Lm(y),ba(y,y.return);break;case 27:Pm(y);case 26:case 5:Rr(h,y,i),i&&o===null&&M&4&&Im(y),ba(y,y.return);break;case 12:Rr(h,y,i);break;case 13:Rr(h,y,i),i&&M&4&&Gm(h,y);break;case 22:y.memoizedState===null&&Rr(h,y,i),ba(y,y.return);break;case 30:break;default:Rr(h,y,i)}n=n.sibling}}function Sc(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&sa(i))}function Ec(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sa(e))}function Gn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wm(e,n,i,o),n=n.sibling}function Wm(e,n,i,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,i,o),h&2048&&wa(9,n);break;case 1:Gn(e,n,i,o);break;case 3:Gn(e,n,i,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sa(e)));break;case 12:if(h&2048){Gn(e,n,i,o),e=n.stateNode;try{var y=n.memoizedProps,M=y.id,P=y.onPostCommit;typeof P=="function"&&P(M,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(se){dt(n,n.return,se)}}else Gn(e,n,i,o);break;case 13:Gn(e,n,i,o);break;case 23:break;case 22:y=n.stateNode,M=n.alternate,n.memoizedState!==null?y._visibility&2?Gn(e,n,i,o):xa(e,n):y._visibility&2?Gn(e,n,i,o):(y._visibility|=2,Qi(e,n,i,o,(n.subtreeFlags&10256)!==0)),h&2048&&Sc(M,n);break;case 24:Gn(e,n,i,o),h&2048&&Ec(n.alternate,n);break;default:Gn(e,n,i,o)}}function Qi(e,n,i,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,M=n,P=i,se=o,we=M.flags;switch(M.tag){case 0:case 11:case 15:Qi(y,M,P,se,h),wa(8,M);break;case 23:break;case 22:var Ae=M.stateNode;M.memoizedState!==null?Ae._visibility&2?Qi(y,M,P,se,h):xa(y,M):(Ae._visibility|=2,Qi(y,M,P,se,h)),h&&we&2048&&Sc(M.alternate,M);break;case 24:Qi(y,M,P,se,h),h&&we&2048&&Ec(M.alternate,M);break;default:Qi(y,M,P,se,h)}n=n.sibling}}function xa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,h=o.flags;switch(o.tag){case 22:xa(i,o),h&2048&&Sc(o.alternate,o);break;case 24:xa(i,o),h&2048&&Ec(o.alternate,o);break;default:xa(i,o)}n=n.sibling}}var _a=8192;function Ji(e){if(e.subtreeFlags&_a)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 26:Ji(e),e.flags&_a&&e.memoizedState!==null&&T1(Mn,e.memoizedState,e.memoizedProps);break;case 5:Ji(e);break;case 3:case 4:var n=Mn;Mn=il(e.stateNode.containerInfo),Ji(e),Mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=_a,_a=16777216,Ji(e),_a=n):Ji(e));break;default:Ji(e)}}function Xm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Ft=o,Qm(o,e)}Xm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zm(e),e=e.sibling}function Zm(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&jr(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ko(e)):Sa(e);break;default:Sa(e)}}function Ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Ft=o,Qm(o,e)}Xm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:jr(8,n,n.return),Ko(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Ko(n));break;default:Ko(n)}e=e.sibling}}function Qm(e,n){for(;Ft!==null;){var i=Ft;switch(i.tag){case 0:case 11:case 15:jr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sa(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ft=o;else e:for(i=e;Ft!==null;){o=Ft;var h=o.sibling,y=o.return;if(qm(o),o===i){Ft=null;break e}if(h!==null){h.return=y,Ft=h;break e}Ft=y}}}var Fb={getCacheForType:function(e){var n=Wt(Mt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},Hb=typeof WeakMap=="function"?WeakMap:Map,at=0,mt=null,Qe=null,et=0,ot=0,mn=null,Cr=!1,es=!1,Tc=!1,hr=0,Tt=0,Or=0,fi=0,Ac=0,kn=0,ts=0,Ea=null,an=null,kc=!1,jc=0,Vo=1/0,Wo=null,Dr=null,Gt=0,Ur=null,ns=null,rs=0,Nc=0,Rc=null,Jm=null,Ta=0,Cc=null;function gn(){if((at&2)!==0&&et!==0)return et&-et;if(W.T!==null){var e=$i;return e!==0?e:Ic()}return Hs()}function eg(){kn===0&&(kn=(et&536870912)===0||nt?un():536870912);var e=An.current;return e!==null&&(e.flags|=32),kn}function yn(e,n,i){(e===mt&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(is(e,0),Mr(e,et,kn,!1)),en(e,i),((at&2)===0||e!==mt)&&(e===mt&&((at&2)===0&&(fi|=i),Tt===4&&Mr(e,et,kn,!1)),Kn(e))}function tg(e,n,i){if((at&6)!==0)throw Error(a(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||It(e,n),h=o?Gb(e,n):Uc(e,n,!0),y=o;do{if(h===0){es&&!o&&Mr(e,n,0,!1);break}else{if(i=e.current.alternate,y&&!qb(i)){h=Uc(e,n,!1),y=!1;continue}if(h===2){if(y=n,e.errorRecoveryDisabledLanes&y)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;e:{var P=e;h=Ea;var se=P.current.memoizedState.isDehydrated;if(se&&(is(P,M).flags|=256),M=Uc(P,M,!1),M!==2){if(Tc&&!se){P.errorRecoveryDisabledLanes|=y,fi|=y,h=4;break e}y=an,an=h,y!==null&&(an===null?an=y:an.push.apply(an,y))}h=M}if(y=!1,h!==2)continue}}if(h===1){is(e,0),Mr(e,n,0,!0);break}e:{switch(o=e,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,kn,!Cr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=jc+300-g(),10<h)){if(Mr(o,n,kn,!Cr),St(o,0,!0)!==0)break e;o.timeoutHandle=Rg(ng.bind(null,o,i,an,Wo,kc,n,kn,fi,ts,Cr,y,2,-0,0),h);break e}ng(o,i,an,Wo,kc,n,kn,fi,ts,Cr,y,0,-0,0)}}break}while(!0);Kn(e)}function ng(e,n,i,o,h,y,M,P,se,we,Ae,Ne,xe,_e){if(e.timeoutHandle=-1,Ne=n.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(Oa={stylesheets:null,count:0,unsuspend:E1},Ym(n),Ne=A1(),Ne!==null)){e.cancelPendingCommit=Ne(ug.bind(null,e,n,y,i,o,h,M,P,se,Ae,1,xe,_e)),Mr(e,y,M,!we);return}ug(e,n,y,i,o,h,M,P,se)}function qb(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],y=h.getSnapshot;h=h.value;try{if(!fn(y(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,i,o){n&=~Ac,n&=~fi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var y=31-Ge(h),M=1<<y;o[y]=-1,h&=~M}i!==0&&io(e,i,n)}function Yo(){return(at&6)===0?(Aa(0),!1):!0}function Oc(){if(Qe!==null){if(ot===0)var e=Qe.return;else e=Qe,ir=si=null,Yu(e),Xi=null,ga=0,e=Qe;for(;e!==null;)Mm(e.alternate,e),e=e.return;Qe=null}}function is(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,o1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Oc(),mt=e,Qe=i=tr(e.current,null),et=n,ot=0,mn=null,Cr=!1,es=It(e,n),Tc=!1,ts=kn=Ac=fi=Or=Tt=0,an=Ea=null,kc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ge(o),y=1<<h;n|=e[h],o&=~y}return hr=n,yo(),i}function rg(e,n){We=null,W.H=Lo,n===oa||n===Ao?(n=bp(),ot=3):n===yp?(n=bp(),ot=4):ot=n===xm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Qe===null&&(Tt=1,Fo(e,_n(n,e.current)))}function ig(){var e=W.H;return W.H=Lo,e===null?Lo:e}function sg(){var e=W.A;return W.A=Fb,e}function Dc(){Tt=4,Cr||(et&4194048)!==et&&An.current!==null||(es=!0),(Or&134217727)===0&&(fi&134217727)===0||mt===null||Mr(mt,et,kn,!1)}function Uc(e,n,i){var o=at;at|=2;var h=ig(),y=sg();(mt!==e||et!==n)&&(Wo=null,is(e,n)),n=!1;var M=Tt;e:do try{if(ot!==0&&Qe!==null){var P=Qe,se=mn;switch(ot){case 8:Oc(),M=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var we=ot;if(ot=0,mn=null,ss(e,P,se,we),i&&es){M=0;break e}break;default:we=ot,ot=0,mn=null,ss(e,P,se,we)}}$b(),M=Tt;break}catch(Ae){rg(e,Ae)}while(!0);return n&&e.shellSuspendCounter++,ir=si=null,at=o,W.H=h,W.A=y,Qe===null&&(mt=null,et=0,yo()),M}function $b(){for(;Qe!==null;)ag(Qe)}function Gb(e,n){var i=at;at|=2;var o=ig(),h=sg();mt!==e||et!==n?(Wo=null,Vo=g()+500,is(e,n)):es=It(e,n);e:do try{if(ot!==0&&Qe!==null){n=Qe;var y=mn;t:switch(ot){case 1:ot=0,mn=null,ss(e,n,y,1);break;case 2:case 9:if(vp(y)){ot=0,mn=null,og(n);break}n=function(){ot!==2&&ot!==9||mt!==e||(ot=7),Kn(e)},y.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:vp(y)?(ot=0,mn=null,og(n)):(ot=0,mn=null,ss(e,n,y,7));break;case 5:var M=null;switch(Qe.tag){case 26:M=Qe.memoizedState;case 5:case 27:var P=Qe;if(!M||Hg(M)){ot=0,mn=null;var se=P.sibling;if(se!==null)Qe=se;else{var we=P.return;we!==null?(Qe=we,Xo(we)):Qe=null}break t}}ot=0,mn=null,ss(e,n,y,5);break;case 6:ot=0,mn=null,ss(e,n,y,6);break;case 8:Oc(),Tt=6;break e;default:throw Error(a(462))}}Kb();break}catch(Ae){rg(e,Ae)}while(!0);return ir=si=null,W.H=o,W.A=h,at=i,Qe!==null?0:(mt=null,et=0,yo(),Tt)}function Kb(){for(;Qe!==null&&!ge();)ag(Qe)}function ag(e){var n=Dm(e.alternate,e,hr);e.memoizedProps=e.pendingProps,n===null?Xo(e):Qe=n}function og(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=km(i,n,n.pendingProps,n.type,void 0,et);break;case 11:n=km(i,n,n.pendingProps,n.type.render,n.ref,et);break;case 5:Yu(n);default:Mm(i,n),n=Qe=lp(n,hr),n=Dm(i,n,hr)}e.memoizedProps=e.pendingProps,n===null?Xo(e):Qe=n}function ss(e,n,i,o){ir=si=null,Yu(n),Xi=null,ga=0;var h=n.return;try{if(Mb(e,h,n,i,et)){Tt=1,Fo(e,_n(i,e.current)),Qe=null;return}}catch(y){if(h!==null)throw Qe=h,y;Tt=1,Fo(e,_n(i,e.current)),Qe=null;return}n.flags&32768?(nt||o===1?e=!0:es||(et&536870912)!==0?e=!1:(Cr=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),lg(n,e)):Xo(n)}function Xo(e){var n=e;do{if((n.flags&32768)!==0){lg(n,Cr);return}e=n.return;var i=Bb(n.alternate,n,hr);if(i!==null){Qe=i;return}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=e}while(n!==null);Tt===0&&(Tt=5)}function lg(e,n){do{var i=Ib(e.alternate,e);if(i!==null){i.flags&=32767,Qe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=i}while(e!==null);Tt=6,Qe=null}function ug(e,n,i,o,h,y,M,P,se){e.cancelPendingCommit=null;do Zo();while(Gt!==0);if((at&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(y=n.lanes|n.childLanes,y|=Eu,Qt(e,i,y,M,P,se),e===mt&&(Qe=mt=null,et=0),ns=n,Ur=e,rs=i,Nc=y,Rc=h,Jm=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xb(ee,function(){return pg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,h=X.p,X.p=2,M=at,at|=4;try{zb(e,n,i)}finally{at=M,X.p=h,W.T=o}}Gt=1,cg(),fg(),hg()}}function cg(){if(Gt===1){Gt=0;var e=Ur,n=ns,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=W.T,W.T=null;var o=X.p;X.p=2;var h=at;at|=4;try{Km(n,e);var y=Kc,M=Qd(e.containerInfo),P=y.focusedElem,se=y.selectionRange;if(M!==P&&P&&P.ownerDocument&&Zd(P.ownerDocument.documentElement,P)){if(se!==null&&wu(P)){var we=se.start,Ae=se.end;if(Ae===void 0&&(Ae=we),"selectionStart"in P)P.selectionStart=we,P.selectionEnd=Math.min(Ae,P.value.length);else{var Ne=P.ownerDocument||document,xe=Ne&&Ne.defaultView||window;if(xe.getSelection){var _e=xe.getSelection(),Pe=P.textContent.length,Ie=Math.min(se.start,Pe),ft=se.end===void 0?Ie:Math.min(se.end,Pe);!_e.extend&&Ie>ft&&(M=ft,ft=Ie,Ie=M);var pe=Xd(P,Ie),ce=Xd(P,ft);if(pe&&ce&&(_e.rangeCount!==1||_e.anchorNode!==pe.node||_e.anchorOffset!==pe.offset||_e.focusNode!==ce.node||_e.focusOffset!==ce.offset)){var ve=Ne.createRange();ve.setStart(pe.node,pe.offset),_e.removeAllRanges(),Ie>ft?(_e.addRange(ve),_e.extend(ce.node,ce.offset)):(ve.setEnd(ce.node,ce.offset),_e.addRange(ve))}}}}for(Ne=[],_e=P;_e=_e.parentNode;)_e.nodeType===1&&Ne.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ne.length;P++){var ke=Ne[P];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}ul=!!Gc,Kc=Gc=null}finally{at=h,X.p=o,W.T=i}}e.current=n,Gt=2}}function fg(){if(Gt===2){Gt=0;var e=Ur,n=ns,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=W.T,W.T=null;var o=X.p;X.p=2;var h=at;at|=4;try{Hm(e,n.alternate,n)}finally{at=h,X.p=o,W.T=i}}Gt=3}}function hg(){if(Gt===4||Gt===3){Gt=0,C();var e=Ur,n=ns,i=rs,o=Jm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gt=5:(Gt=0,ns=Ur=null,dg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),vr(i),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ce,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=W.T,h=X.p,X.p=2,W.T=null;try{for(var y=e.onRecoverableError,M=0;M<o.length;M++){var P=o[M];y(P.value,{componentStack:P.stack})}}finally{W.T=n,X.p=h}}(rs&3)!==0&&Zo(),Kn(e),h=e.pendingLanes,(i&4194090)!==0&&(h&42)!==0?e===Cc?Ta++:(Ta=0,Cc=e):Ta=0,Aa(0)}}function dg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,sa(n)))}function Zo(e){return cg(),fg(),hg(),pg()}function pg(){if(Gt!==5)return!1;var e=Ur,n=Nc;Nc=0;var i=vr(rs),o=W.T,h=X.p;try{X.p=32>i?32:i,W.T=null,i=Rc,Rc=null;var y=Ur,M=rs;if(Gt=0,ns=Ur=null,rs=0,(at&6)!==0)throw Error(a(331));var P=at;if(at|=4,Zm(y.current),Wm(y,y.current,M,i),at=P,Aa(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ce,y)}catch{}return!0}finally{X.p=h,W.T=o,dg(e,n)}}function mg(e,n,i){n=_n(i,n),n=uc(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(en(e,2),Kn(e))}function dt(e,n,i){if(e.tag===3)mg(e,e,i);else for(;n!==null;){if(n.tag===3){mg(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=_n(i,e),i=wm(2),o=Er(n,i,2),o!==null&&(bm(i,o,n,e),en(o,2),Kn(o));break}}n=n.return}}function Mc(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Hb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(i)||(Tc=!0,h.add(i),e=Vb.bind(null,e,n,i),n.then(e,e))}function Vb(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,mt===e&&(et&i)===i&&(Tt===4||Tt===3&&(et&62914560)===et&&300>g()-jc?(at&2)===0&&is(e,0):Ac|=i,ts===et&&(ts=0)),Kn(e)}function gg(e,n){n===0&&(n=cn()),e=Pi(e,n),e!==null&&(en(e,n),Kn(e))}function Wb(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),gg(e,i)}function Yb(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),gg(e,i)}function Xb(e,n){return be(e,n)}var Qo=null,as=null,Lc=!1,Jo=!1,Bc=!1,hi=0;function Kn(e){e!==as&&e.next===null&&(as===null?Qo=as=e:as=as.next=e),Jo=!0,Lc||(Lc=!0,Qb())}function Aa(e,n){if(!Bc&&Jo){Bc=!0;do for(var i=!1,o=Qo;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var y=0;else{var M=o.suspendedLanes,P=o.pingedLanes;y=(1<<31-Ge(42|e)+1)-1,y&=h&~(M&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(i=!0,bg(o,y))}else y=et,y=St(o,o===mt?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(y&3)===0||It(o,y)||(i=!0,bg(o,y));o=o.next}while(i);Bc=!1}}function Zb(){yg()}function yg(){Jo=Lc=!1;var e=0;hi!==0&&(a1()&&(e=hi),hi=0);for(var n=g(),i=null,o=Qo;o!==null;){var h=o.next,y=vg(o,n);y===0?(o.next=null,i===null?Qo=h:i.next=h,h===null&&(as=i)):(i=o,(e!==0||(y&3)!==0)&&(Jo=!0)),o=h}Aa(e)}function vg(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var M=31-Ge(y),P=1<<M,se=h[M];se===-1?((P&i)===0||(P&o)!==0)&&(h[M]=wn(P,n)):se<=n&&(e.expiredLanes|=P),y&=~P}if(n=mt,i=et,i=St(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&A(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||It(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&A(o),vr(i)){case 2:case 8:i=H;break;case 32:i=ee;break;case 268435456:i=de;break;default:i=ee}return o=wg.bind(null,e),i=be(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&A(o),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,n){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Zo()&&e.callbackNode!==i)return null;var o=et;return o=St(e,e===mt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(tg(e,o,n),vg(e,g()),e.callbackNode!=null&&e.callbackNode===i?wg.bind(null,e):null)}function bg(e,n){if(Zo())return null;tg(e,n,!0)}function Qb(){l1(function(){(at&6)!==0?be(T,Zb):yg()})}function Ic(){return hi===0&&(hi=un()),hi}function xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:uo(""+e)}function _g(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Jb(e,n,i,o,h){if(n==="submit"&&i&&i.stateNode===h){var y=xg((h[tn]||null).action),M=o.submitter;M&&(n=(n=M[tn]||null)?xg(n.formAction):M.getAttribute("formAction"),n!==null&&(y=n,M=null));var P=new po("action","action",null,o,h);e.push({event:P,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(hi!==0){var se=M?_g(h,M):new FormData(h);ic(i,{pending:!0,data:se,method:h.method,action:y},null,se)}}else typeof y=="function"&&(P.preventDefault(),se=M?_g(h,M):new FormData(h),ic(i,{pending:!0,data:se,method:h.method,action:y},y,se))},currentTarget:h}]})}}for(var zc=0;zc<Su.length;zc++){var Pc=Su[zc],e1=Pc.toLowerCase(),t1=Pc[0].toUpperCase()+Pc.slice(1);Un(e1,"on"+t1)}Un(tp,"onAnimationEnd"),Un(np,"onAnimationIteration"),Un(rp,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(vb,"onTransitionRun"),Un(wb,"onTransitionStart"),Un(bb,"onTransitionCancel"),Un(ip,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ka));function Sg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var y=void 0;if(n)for(var M=o.length-1;0<=M;M--){var P=o[M],se=P.instance,we=P.currentTarget;if(P=P.listener,se!==y&&h.isPropagationStopped())break e;y=P,h.currentTarget=we;try{y(h)}catch(Ae){Po(Ae)}h.currentTarget=null,y=se}else for(M=0;M<o.length;M++){if(P=o[M],se=P.instance,we=P.currentTarget,P=P.listener,se!==y&&h.isPropagationStopped())break e;y=P,h.currentTarget=we;try{y(h)}catch(Ae){Po(Ae)}h.currentTarget=null,y=se}}}}function Je(e,n){var i=n[Jl];i===void 0&&(i=n[Jl]=new Set);var o=e+"__bubble";i.has(o)||(Eg(n,e,2,!1),i.add(o))}function Fc(e,n,i){var o=0;n&&(o|=4),Eg(i,e,o,n)}var el="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[el]){e[el]=!0,yd.forEach(function(i){i!=="selectionchange"&&(n1.has(i)||Fc(i,!1,e),Fc(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[el]||(n[el]=!0,Fc("selectionchange",!1,n))}}function Eg(e,n,i,o){switch(Wg(n)){case 2:var h=N1;break;case 8:h=R1;break;default:h=nf}i=h.bind(null,n,i,e),h=void 0,!cu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function qc(e,n,i,o,h){var y=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var M=o.tag;if(M===3||M===4){var P=o.stateNode.containerInfo;if(P===h)break;if(M===4)for(M=o.return;M!==null;){var se=M.tag;if((se===3||se===4)&&M.stateNode.containerInfo===h)return;M=M.return}for(;P!==null;){if(M=ki(P),M===null)return;if(se=M.tag,se===5||se===6||se===26||se===27){o=y=M;continue e}P=P.parentNode}}o=o.return}Cd(function(){var we=y,Ae=lu(i),Ne=[];e:{var xe=sp.get(e);if(xe!==void 0){var _e=po,Pe=e;switch(e){case"keypress":if(fo(i)===0)break e;case"keydown":case"keyup":_e=Xw;break;case"focusin":Pe="focus",_e=pu;break;case"focusout":Pe="blur",_e=pu;break;case"beforeblur":case"afterblur":_e=pu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Jw;break;case tp:case np:case rp:_e=Fw;break;case ip:_e=tb;break;case"scroll":case"scrollend":_e=Lw;break;case"wheel":_e=rb;break;case"copy":case"cut":case"paste":_e=qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Ld;break;case"toggle":case"beforetoggle":_e=sb}var Ie=(n&4)!==0,ft=!Ie&&(e==="scroll"||e==="scrollend"),pe=Ie?xe!==null?xe+"Capture":null:xe;Ie=[];for(var ce=we,ve;ce!==null;){var ke=ce;if(ve=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ve===null||pe===null||(ke=Ks(ce,pe),ke!=null&&Ie.push(ja(ce,ke,ve))),ft)break;ce=ce.return}0<Ie.length&&(xe=new _e(xe,Pe,null,i,Ae),Ne.push({event:xe,listeners:Ie}))}}if((n&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",xe&&i!==ou&&(Pe=i.relatedTarget||i.fromElement)&&(ki(Pe)||Pe[Ai]))break e;if((_e||xe)&&(xe=Ae.window===Ae?Ae:(xe=Ae.ownerDocument)?xe.defaultView||xe.parentWindow:window,_e?(Pe=i.relatedTarget||i.toElement,_e=we,Pe=Pe?ki(Pe):null,Pe!==null&&(ft=u(Pe),Ie=Pe.tag,Pe!==ft||Ie!==5&&Ie!==27&&Ie!==6)&&(Pe=null)):(_e=null,Pe=we),_e!==Pe)){if(Ie=Ud,ke="onMouseLeave",pe="onMouseEnter",ce="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=Ld,ke="onPointerLeave",pe="onPointerEnter",ce="pointer"),ft=_e==null?xe:Gs(_e),ve=Pe==null?xe:Gs(Pe),xe=new Ie(ke,ce+"leave",_e,i,Ae),xe.target=ft,xe.relatedTarget=ve,ke=null,ki(Ae)===we&&(Ie=new Ie(pe,ce+"enter",Pe,i,Ae),Ie.target=ve,Ie.relatedTarget=ft,ke=Ie),ft=ke,_e&&Pe)t:{for(Ie=_e,pe=Pe,ce=0,ve=Ie;ve;ve=os(ve))ce++;for(ve=0,ke=pe;ke;ke=os(ke))ve++;for(;0<ce-ve;)Ie=os(Ie),ce--;for(;0<ve-ce;)pe=os(pe),ve--;for(;ce--;){if(Ie===pe||pe!==null&&Ie===pe.alternate)break t;Ie=os(Ie),pe=os(pe)}Ie=null}else Ie=null;_e!==null&&Tg(Ne,xe,_e,Ie,!1),Pe!==null&&ft!==null&&Tg(Ne,ft,Pe,Ie,!0)}}e:{if(xe=we?Gs(we):window,_e=xe.nodeName&&xe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&xe.type==="file")var Me=$d;else if(Hd(xe))if(Gd)Me=mb;else{Me=db;var Xe=hb}else _e=xe.nodeName,!_e||_e.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?we&&au(we.elementType)&&(Me=$d):Me=pb;if(Me&&(Me=Me(e,we))){qd(Ne,Me,i,Ae);break e}Xe&&Xe(e,xe,we),e==="focusout"&&we&&xe.type==="number"&&we.memoizedProps.value!=null&&su(xe,"number",xe.value)}switch(Xe=we?Gs(we):window,e){case"focusin":(Hd(Xe)||Xe.contentEditable==="true")&&(Bi=Xe,bu=we,ea=null);break;case"focusout":ea=bu=Bi=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,Jd(Ne,i,Ae);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":Jd(Ne,i,Ae)}var Le;if(gu)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Li?Pd(e,i)&&(ze="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ze="onCompositionStart");ze&&(Bd&&i.locale!=="ko"&&(Li||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Li&&(Le=Od()):(br=Ae,fu="value"in br?br.value:br.textContent,Li=!0)),Xe=tl(we,ze),0<Xe.length&&(ze=new Md(ze,e,null,i,Ae),Ne.push({event:ze,listeners:Xe}),Le?ze.data=Le:(Le=Fd(i),Le!==null&&(ze.data=Le)))),(Le=ob?lb(e,i):ub(e,i))&&(ze=tl(we,"onBeforeInput"),0<ze.length&&(Xe=new Md("onBeforeInput","beforeinput",null,i,Ae),Ne.push({event:Xe,listeners:ze}),Xe.data=Le)),Jb(Ne,e,we,i,Ae)}Sg(Ne,n)})}function ja(e,n,i){return{instance:e,listener:n,currentTarget:i}}function tl(e,n){for(var i=n+"Capture",o=[];e!==null;){var h=e,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Ks(e,i),h!=null&&o.unshift(ja(e,h,y)),h=Ks(e,n),h!=null&&o.push(ja(e,h,y))),e.tag===3)return o;e=e.return}return[]}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tg(e,n,i,o,h){for(var y=n._reactName,M=[];i!==null&&i!==o;){var P=i,se=P.alternate,we=P.stateNode;if(P=P.tag,se!==null&&se===o)break;P!==5&&P!==26&&P!==27||we===null||(se=we,h?(we=Ks(i,y),we!=null&&M.unshift(ja(i,we,se))):h||(we=Ks(i,y),we!=null&&M.push(ja(i,we,se)))),i=i.return}M.length!==0&&e.push({event:n,listeners:M})}var r1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(i1,"")}function kg(e,n){return n=Ag(n),Ag(e)===n}function nl(){}function ct(e,n,i,o,h,y){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Di(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Di(e,""+o);break;case"className":ao(e,"class",o);break;case"tabIndex":ao(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(e,i,o);break;case"style":Nd(e,o,y);break;case"data":if(n!=="object"){ao(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=uo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(i==="formAction"?(n!=="input"&&ct(e,n,"name",h.name,h,null),ct(e,n,"formEncType",h.formEncType,h,null),ct(e,n,"formMethod",h.formMethod,h,null),ct(e,n,"formTarget",h.formTarget,h,null)):(ct(e,n,"encType",h.encType,h,null),ct(e,n,"method",h.method,h,null),ct(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=uo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=nl);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=uo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Je("beforetoggle",e),Je("toggle",e),so(e,"popover",o);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":so(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Uw.get(i)||i,so(e,i,o))}}function $c(e,n,i,o,h,y){switch(i){case"style":Nd(e,o,y);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof o=="string"?Di(e,o):(typeof o=="number"||typeof o=="bigint")&&Di(e,""+o);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),y=e[tn]||null,y=y!=null?y[i]:null,typeof y=="function"&&e.removeEventListener(n,y,h),typeof o=="function")){typeof y!="function"&&y!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):so(e,i,o)}}}function Kt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var o=!1,h=!1,y;for(y in i)if(i.hasOwnProperty(y)){var M=i[y];if(M!=null)switch(y){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(e,n,y,M,i,null)}}h&&ct(e,n,"srcSet",i.srcSet,i,null),o&&ct(e,n,"src",i.src,i,null);return;case"input":Je("invalid",e);var P=y=M=h=null,se=null,we=null;for(o in i)if(i.hasOwnProperty(o)){var Ae=i[o];if(Ae!=null)switch(o){case"name":h=Ae;break;case"type":M=Ae;break;case"checked":se=Ae;break;case"defaultChecked":we=Ae;break;case"value":y=Ae;break;case"defaultValue":P=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,n));break;default:ct(e,n,o,Ae,i,null)}}Td(e,y,P,se,we,M,h,!1),oo(e);return;case"select":Je("invalid",e),o=M=y=null;for(h in i)if(i.hasOwnProperty(h)&&(P=i[h],P!=null))switch(h){case"value":y=P;break;case"defaultValue":M=P;break;case"multiple":o=P;default:ct(e,n,h,P,i,null)}n=y,i=M,e.multiple=!!o,n!=null?Oi(e,!!o,n,!1):i!=null&&Oi(e,!!o,i,!0);return;case"textarea":Je("invalid",e),y=h=o=null;for(M in i)if(i.hasOwnProperty(M)&&(P=i[M],P!=null))switch(M){case"value":o=P;break;case"defaultValue":h=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:ct(e,n,M,P,i,null)}kd(e,o,h,y),oo(e);return;case"option":for(se in i)if(i.hasOwnProperty(se)&&(o=i[se],o!=null))switch(se){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(e,n,se,o,i,null)}return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(o=0;o<ka.length;o++)Je(ka[o],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in i)if(i.hasOwnProperty(we)&&(o=i[we],o!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(e,n,we,o,i,null)}return;default:if(au(n)){for(Ae in i)i.hasOwnProperty(Ae)&&(o=i[Ae],o!==void 0&&$c(e,n,Ae,o,i,void 0));return}}for(P in i)i.hasOwnProperty(P)&&(o=i[P],o!=null&&ct(e,n,P,o,i,null))}function s1(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,M=null,P=null,se=null,we=null,Ae=null;for(_e in i){var Ne=i[_e];if(i.hasOwnProperty(_e)&&Ne!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":se=Ne;default:o.hasOwnProperty(_e)||ct(e,n,_e,null,o,Ne)}}for(var xe in o){var _e=o[xe];if(Ne=i[xe],o.hasOwnProperty(xe)&&(_e!=null||Ne!=null))switch(xe){case"type":y=_e;break;case"name":h=_e;break;case"checked":we=_e;break;case"defaultChecked":Ae=_e;break;case"value":M=_e;break;case"defaultValue":P=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,n));break;default:_e!==Ne&&ct(e,n,xe,_e,o,Ne)}}iu(e,M,P,se,we,Ae,y,h);return;case"select":_e=M=P=xe=null;for(y in i)if(se=i[y],i.hasOwnProperty(y)&&se!=null)switch(y){case"value":break;case"multiple":_e=se;default:o.hasOwnProperty(y)||ct(e,n,y,null,o,se)}for(h in o)if(y=o[h],se=i[h],o.hasOwnProperty(h)&&(y!=null||se!=null))switch(h){case"value":xe=y;break;case"defaultValue":P=y;break;case"multiple":M=y;default:y!==se&&ct(e,n,h,y,o,se)}n=P,i=M,o=_e,xe!=null?Oi(e,!!i,xe,!1):!!o!=!!i&&(n!=null?Oi(e,!!i,n,!0):Oi(e,!!i,i?[]:"",!1));return;case"textarea":_e=xe=null;for(P in i)if(h=i[P],i.hasOwnProperty(P)&&h!=null&&!o.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ct(e,n,P,null,o,h)}for(M in o)if(h=o[M],y=i[M],o.hasOwnProperty(M)&&(h!=null||y!=null))switch(M){case"value":xe=h;break;case"defaultValue":_e=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&ct(e,n,M,h,o,y)}Ad(e,xe,_e);return;case"option":for(var Pe in i)if(xe=i[Pe],i.hasOwnProperty(Pe)&&xe!=null&&!o.hasOwnProperty(Pe))switch(Pe){case"selected":e.selected=!1;break;default:ct(e,n,Pe,null,o,xe)}for(se in o)if(xe=o[se],_e=i[se],o.hasOwnProperty(se)&&xe!==_e&&(xe!=null||_e!=null))switch(se){case"selected":e.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:ct(e,n,se,xe,o,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in i)xe=i[Ie],i.hasOwnProperty(Ie)&&xe!=null&&!o.hasOwnProperty(Ie)&&ct(e,n,Ie,null,o,xe);for(we in o)if(xe=o[we],_e=i[we],o.hasOwnProperty(we)&&xe!==_e&&(xe!=null||_e!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,n));break;default:ct(e,n,we,xe,o,_e)}return;default:if(au(n)){for(var ft in i)xe=i[ft],i.hasOwnProperty(ft)&&xe!==void 0&&!o.hasOwnProperty(ft)&&$c(e,n,ft,void 0,o,xe);for(Ae in o)xe=o[Ae],_e=i[Ae],!o.hasOwnProperty(Ae)||xe===_e||xe===void 0&&_e===void 0||$c(e,n,Ae,xe,o,_e);return}}for(var pe in i)xe=i[pe],i.hasOwnProperty(pe)&&xe!=null&&!o.hasOwnProperty(pe)&&ct(e,n,pe,null,o,xe);for(Ne in o)xe=o[Ne],_e=i[Ne],!o.hasOwnProperty(Ne)||xe===_e||xe==null&&_e==null||ct(e,n,Ne,xe,o,_e)}var Gc=null,Kc=null;function rl(e){return e.nodeType===9?e:e.ownerDocument}function jg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Vc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wc=null;function a1(){var e=window.event;return e&&e.type==="popstate"?e===Wc?!1:(Wc=e,!0):(Wc=null,!1)}var Rg=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,Cg=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cg<"u"?function(e){return Cg.resolve(null).then(e).catch(u1)}:Rg;function u1(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function Og(e,n){var i=n,o=0,h=0;do{var y=i.nextSibling;if(e.removeChild(i),y&&y.nodeType===8)if(i=y.data,i==="/$"){if(0<o&&8>o){i=o;var M=e.ownerDocument;if(i&1&&Na(M.documentElement),i&2&&Na(M.body),i&4)for(i=M.head,Na(i),M=i.firstChild;M;){var P=M.nextSibling,se=M.nodeName;M[$s]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&M.rel.toLowerCase()==="stylesheet"||i.removeChild(M),M=P}}if(h===0){e.removeChild(y),Ba(n);return}h--}else i==="$"||i==="$?"||i==="$!"?h++:o=i.charCodeAt(0)-48;else o=0;i=y}while(i);Ba(n)}function Yc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Yc(i),eu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function c1(e,n,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$s])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function f1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function h1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Zc=null;function Dg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Ug(e,n,i){switch(n=rl(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Na(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);eu(e)}var jn=new Map,Mg=new Set;function il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dr=X.d;X.d={f:d1,r:p1,D:m1,C:g1,L:y1,m:v1,X:b1,S:w1,M:x1};function d1(){var e=dr.f(),n=Yo();return e||n}function p1(e){var n=ji(e);n!==null&&n.tag===5&&n.type==="form"?tm(n):dr.r(e)}var ls=typeof document>"u"?null:document;function Lg(e,n,i){var o=ls;if(o&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Mg.has(h)||(Mg.add(h),e={rel:e,crossOrigin:i,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Kt(n,"link",e),zt(n),o.head.appendChild(n)))}}function m1(e){dr.D(e),Lg("dns-prefetch",e,null)}function g1(e,n){dr.C(e,n),Lg("preconnect",e,n)}function y1(e,n,i){dr.L(e,n,i);var o=ls;if(o&&e&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+xn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+xn(i.imageSizes)+'"]')):h+='[href="'+xn(e)+'"]';var y=h;switch(n){case"style":y=us(e);break;case"script":y=cs(e)}jn.has(y)||(e=m({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),jn.set(y,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ra(y))||n==="script"&&o.querySelector(Ca(y))||(n=o.createElement("link"),Kt(n,"link",e),zt(n),o.head.appendChild(n)))}}function v1(e,n){dr.m(e,n);var i=ls;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(e)+'"]',y=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cs(e)}if(!jn.has(y)&&(e=m({rel:"modulepreload",href:e},n),jn.set(y,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ca(y)))return}o=i.createElement("link"),Kt(o,"link",e),zt(o),i.head.appendChild(o)}}}function w1(e,n,i){dr.S(e,n,i);var o=ls;if(o&&e){var h=Ni(o).hoistableStyles,y=us(e);n=n||"default";var M=h.get(y);if(!M){var P={loading:0,preload:null};if(M=o.querySelector(Ra(y)))P.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":n},i),(i=jn.get(y))&&Qc(e,i);var se=M=o.createElement("link");zt(se),Kt(se,"link",e),se._p=new Promise(function(we,Ae){se.onload=we,se.onerror=Ae}),se.addEventListener("load",function(){P.loading|=1}),se.addEventListener("error",function(){P.loading|=2}),P.loading|=4,sl(M,n,o)}M={type:"stylesheet",instance:M,count:1,state:P},h.set(y,M)}}}function b1(e,n){dr.X(e,n);var i=ls;if(i&&e){var o=Ni(i).hoistableScripts,h=cs(e),y=o.get(h);y||(y=i.querySelector(Ca(h)),y||(e=m({src:e,async:!0},n),(n=jn.get(h))&&Jc(e,n),y=i.createElement("script"),zt(y),Kt(y,"link",e),i.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(h,y))}}function x1(e,n){dr.M(e,n);var i=ls;if(i&&e){var o=Ni(i).hoistableScripts,h=cs(e),y=o.get(h);y||(y=i.querySelector(Ca(h)),y||(e=m({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Jc(e,n),y=i.createElement("script"),zt(y),Kt(y,"link",e),i.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(h,y))}}function Bg(e,n,i,o){var h=(h=Q.current)?il(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=us(i.href),i=Ni(h).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=us(i.href);var y=Ni(h).hoistableStyles,M=y.get(e);if(M||(h=h.ownerDocument||h,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,M),(y=h.querySelector(Ra(e)))&&!y._p&&(M.instance=y,M.state.loading=5),jn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},jn.set(e,i),y||_1(h,e,i,M.state))),n&&o===null)throw Error(a(528,""));return M}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(i),i=Ni(h).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function us(e){return'href="'+xn(e)+'"'}function Ra(e){return'link[rel="stylesheet"]['+e+"]"}function Ig(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function _1(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Kt(n,"link",i),zt(n),e.head.appendChild(n))}function cs(e){return'[src="'+xn(e)+'"]'}function Ca(e){return"script[async]"+e}function zg(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+xn(i.href)+'"]');if(o)return n.instance=o,zt(o),o;var h=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),zt(o),Kt(o,"style",h),sl(o,i.precedence,e),n.instance=o;case"stylesheet":h=us(i.href);var y=e.querySelector(Ra(h));if(y)return n.state.loading|=4,n.instance=y,zt(y),y;o=Ig(i),(h=jn.get(h))&&Qc(o,h),y=(e.ownerDocument||e).createElement("link"),zt(y);var M=y;return M._p=new Promise(function(P,se){M.onload=P,M.onerror=se}),Kt(y,"link",o),n.state.loading|=4,sl(y,i.precedence,e),n.instance=y;case"script":return y=cs(i.src),(h=e.querySelector(Ca(y)))?(n.instance=h,zt(h),h):(o=i,(h=jn.get(y))&&(o=m({},i),Jc(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),zt(h),Kt(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sl(o,i.precedence,e));return n.instance}function sl(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,y=h,M=0;M<o.length;M++){var P=o[M];if(P.dataset.precedence===n)y=P;else if(y!==h)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Qc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var al=null;function Pg(e,n,i){if(al===null){var o=new Map,h=al=new Map;h.set(i,o)}else h=al,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var y=i[h];if(!(y[$s]||y[Vt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var M=y.getAttribute(n)||"";M=e+M;var P=o.get(M);P?P.push(y):o.set(M,[y])}}return o}function Fg(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function S1(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Oa=null;function E1(){}function T1(e,n,i){if(Oa===null)throw Error(a(475));var o=Oa;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=us(i.href),y=e.querySelector(Ra(h));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ol.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=y,zt(y);return}y=e.ownerDocument||e,i=Ig(i),(h=jn.get(h))&&Qc(i,h),y=y.createElement("link"),zt(y);var M=y;M._p=new Promise(function(P,se){M.onload=P,M.onerror=se}),Kt(y,"link",i),n.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=ol.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function A1(){if(Oa===null)throw Error(a(475));var e=Oa;return e.stylesheets&&e.count===0&&ef(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&ef(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function ol(){if(this.count--,this.count===0){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ll=null;function ef(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ll=new Map,n.forEach(k1,e),ll=null,ol.call(e))}function k1(e,n){if(!(n.state.loading&4)){var i=ll.get(e);if(i)var o=i.get(null);else{i=new Map,ll.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var M=h[y];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(i.set(M.dataset.precedence,M),o=M)}o&&i.set(null,o)}h=n.instance,M=h.getAttribute("data-precedence"),y=i.get(M)||o,y===o&&i.set(null,h),i.set(M,h),this.count++,o=ol.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),y?y.parentNode.insertBefore(h,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Da={$$typeof:U,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function j1(e,n,i,o,h,y,M,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function qg(e,n,i,o,h,y,M,P,se,we,Ae,Ne){return e=new j1(e,n,i,M,P,se,we,Ne),n=1,y===!0&&(n|=24),y=hn(3,null,null,n),e.current=y,y.stateNode=e,n=Mu(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:o,isDehydrated:i,cache:n},zu(y),e}function $g(e){return e?(e=Fi,e):Fi}function Gg(e,n,i,o,h,y){h=$g(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(n),o.payload={element:i},y=y===void 0?null:y,y!==null&&(o.callback=y),i=Er(e,o,n),i!==null&&(yn(i,e,n),ua(i,e,n))}function Kg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function tf(e,n){Kg(e,n),(e=e.alternate)&&Kg(e,n)}function Vg(e){if(e.tag===13){var n=Pi(e,67108864);n!==null&&yn(n,e,67108864),tf(e,67108864)}}var ul=!0;function N1(e,n,i,o){var h=W.T;W.T=null;var y=X.p;try{X.p=2,nf(e,n,i,o)}finally{X.p=y,W.T=h}}function R1(e,n,i,o){var h=W.T;W.T=null;var y=X.p;try{X.p=8,nf(e,n,i,o)}finally{X.p=y,W.T=h}}function nf(e,n,i,o){if(ul){var h=rf(o);if(h===null)qc(e,n,o,cl,i),Yg(e,o);else if(O1(h,e,n,i,o))o.stopPropagation();else if(Yg(e,o),n&4&&-1<C1.indexOf(e)){for(;h!==null;){var y=ji(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var M=_t(y.pendingLanes);if(M!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;M;){var se=1<<31-Ge(M);P.entanglements[1]|=se,M&=~se}Kn(y),(at&6)===0&&(Vo=g()+500,Aa(0))}}break;case 13:P=Pi(y,2),P!==null&&yn(P,y,2),Yo(),tf(y,2)}if(y=rf(o),y===null&&qc(e,n,o,cl,i),y===h)break;h=y}h!==null&&o.stopPropagation()}else qc(e,n,o,null,i)}}function rf(e){return e=lu(e),sf(e)}var cl=null;function sf(e){if(cl=null,e=ki(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=c(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cl=e,null}function Wg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v()){case T:return 2;case H:return 8;case ee:case V:return 32;case de:return 268435456;default:return 32}default:return 32}}var af=!1,Br=null,Ir=null,zr=null,Ua=new Map,Ma=new Map,Pr=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,n){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ua.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(n.pointerId)}}function La(e,n,i,o,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:y,targetContainers:[h]},n!==null&&(n=ji(n),n!==null&&Vg(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function O1(e,n,i,o,h){switch(n){case"focusin":return Br=La(Br,e,n,i,o,h),!0;case"dragenter":return Ir=La(Ir,e,n,i,o,h),!0;case"mouseover":return zr=La(zr,e,n,i,o,h),!0;case"pointerover":var y=h.pointerId;return Ua.set(y,La(Ua.get(y)||null,e,n,i,o,h)),!0;case"gotpointercapture":return y=h.pointerId,Ma.set(y,La(Ma.get(y)||null,e,n,i,o,h)),!0}return!1}function Xg(e){var n=ki(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=c(i),n!==null){e.blockedOn=n,qs(e.priority,function(){if(i.tag===13){var o=gn();o=Yr(o);var h=Pi(i,o);h!==null&&yn(h,i,o),tf(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=rf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);ou=o,i.target.dispatchEvent(o),ou=null}else return n=ji(i),n!==null&&Vg(n),e.blockedOn=i,!1;n.shift()}return!0}function Zg(e,n,i){fl(e)&&i.delete(n)}function D1(){af=!1,Br!==null&&fl(Br)&&(Br=null),Ir!==null&&fl(Ir)&&(Ir=null),zr!==null&&fl(zr)&&(zr=null),Ua.forEach(Zg),Ma.forEach(Zg)}function hl(e,n){e.blockedOn===n&&(e.blockedOn=null,af||(af=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D1)))}var dl=null;function Qg(e){dl!==e&&(dl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(sf(o||i)===null)continue;break}var y=ji(i);y!==null&&(e.splice(n,3),n-=3,ic(y,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function Ba(e){function n(se){return hl(se,e)}Br!==null&&hl(Br,e),Ir!==null&&hl(Ir,e),zr!==null&&hl(zr,e),Ua.forEach(n),Ma.forEach(n);for(var i=0;i<Pr.length;i++){var o=Pr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Pr.length&&(i=Pr[0],i.blockedOn===null);)Xg(i),i.blockedOn===null&&Pr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],y=i[o+1],M=h[tn]||null;if(typeof y=="function")M||Qg(i);else if(M){var P=null;if(y&&y.hasAttribute("formAction")){if(h=y,M=y[tn]||null)P=M.formAction;else if(sf(h)!==null)continue}else P=M.action;typeof P=="function"?i[o+1]=P:(i.splice(o,3),o-=3),Qg(i)}}}function of(e){this._internalRoot=e}pl.prototype.render=of.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,o=gn();Gg(i,o,e,n,null,null)},pl.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gg(e.current,2,null,e,null,null),Yo(),n[Ai]=null}};function pl(e){this._internalRoot=e}pl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hs();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Pr.length&&n!==0&&n<Pr[i].priority;i++);Pr.splice(i,0,e),i===0&&Xg(e)}};var Jg=t.version;if(Jg!=="19.1.1")throw Error(a(527,Jg,"19.1.1"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=d(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var U1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Ce=ml.inject(U1),De=ml}catch{}}return za.createRoot=function(e,n){if(!l(e))throw Error(a(299));var i=!1,o="",h=mm,y=gm,M=ym,P=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=qg(e,1,!1,null,null,i,o,h,y,M,P,null),e[Ai]=n.current,Hc(e),new of(n)},za.hydrateRoot=function(e,n,i){if(!l(e))throw Error(a(299));var o=!1,h="",y=mm,M=gm,P=ym,se=null,we=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(M=i.onCaughtError),i.onRecoverableError!==void 0&&(P=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(se=i.unstable_transitionCallbacks),i.formState!==void 0&&(we=i.formState)),n=qg(e,1,!0,n,i??null,o,h,y,M,P,se,we),n.context=$g(null),i=n.current,o=gn(),o=Yr(o),h=Sr(o),h.callback=null,Er(i,h,o),i=o,n.current.lanes=i,en(n,i),Kn(n),e[Ai]=n.current,Hc(e),new pl(n)},za.version="19.1.1",za}var u0;function G1(){if(u0)return cf.exports;u0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),cf.exports=$1(),cf.exports}var K1=G1();const V1=Pl(K1),W1=(s,t)=>{let r=s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");if(r||(r="section"),t.has(r)){let a=2,l=`${r}-${a}`;for(;t.has(l);)a++,l=`${r}-${a}`;r=l}return t.add(r),r},c0=(s,t)=>ye.useMemo(()=>{const r=s.split(`
`),a=[],l=[];r.forEach((c,f)=>{const d=c.match(/^# (.*)/);d&&l.push({title:d[1].trim(),startLine:f})}),l.length===0&&l.push({title:"Project Overview",startLine:0});const u=new Set;return l.forEach((c,f)=>{const d=c.startLine,p=f+1<l.length?l[f+1].startLine-1:r.length-1,m=r.slice(d,p+1),b=[],_=[],S=/^- \[( |x)\] (.*)/,j=/\s\(@([a-zA-Z0-9_]+)\)/,E=/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/,O=/\s\(\$(\d+(\.\d{1,2})?)\)/,x=/\s\+([0-9]{4}-[0-9]{2}-[0-9]{2})/,N=/\s!([0-9]{4}-[0-9]{2}-[0-9]{2})/,U=/^  - (\d{4}-\d{2}-\d{2}): (.*)/;let z=0;for(;z<m.length;){const le=m[z],L=d+z,oe=le.match(/^(#+) (.*)/);if(oe){const I=oe[1].length,te=oe[2].trim();I<=3&&_.push({text:te,slug:W1(te,u),level:I,line:L})}const he=le.match(S);if(he){let I=he[2],te=null,D=null,re=null,W,X=null;const me=I.match(E);me&&(D=me[1],I=I.replace(E,"").trim());const ue=I.match(O);ue&&(W=parseFloat(ue[1]),I=I.replace(O,"").trim());const G=I.match(j);G&&(te=G[1],I=I.replace(j,"").trim());const $=I.match(x);$&&(re=$[1],I=I.replace(x,"").trim());const B=I.match(N);B&&(X=B[1],I=I.replace(N,"").trim());const Y=[];let J=z+1;for(;J<m.length;){const fe=m[J],Q=fe.match(U);if(Q){let R=Q[2].trim(),k=null;const ie=R.match(j);ie&&(k=ie[1],R=R.replace(j,"").trim()),Y.push({lineIndex:d+J,date:Q[1],text:R,assigneeAlias:k}),J++}else{if(fe.trim()!=="")break;J++}}b.push({lineIndex:L,text:I,completed:he[1]==="x",assigneeAlias:te,creationDate:re,completionDate:D,dueDate:X,updates:Y,projectTitle:c.title,cost:W}),z=J}else z++}const q=t.reduce((le,L)=>({...le,[L.alias]:{user:L,tasks:[]}}),{}),ae=[];let ne=0;b.forEach(le=>{le.cost&&(ne+=le.cost),le.assigneeAlias&&q[le.assigneeAlias]?q[le.assigneeAlias].tasks.push(le):ae.push(le)}),a.push({title:c.title,groupedTasks:q,unassignedTasks:ae,totalCost:ne,startLine:d,endLine:p,headings:_})}),a},[s,t]),f0="md-tasker-email-settings",pf={senderAlias:null,emailSubject:"Task Update for project: {projectTitle}",emailPreamble:`Hi {userName},

This is a friendly reminder about your outstanding tasks for the project. Please see the list below:`,emailPostamble:`Please provide an update when you can.

Best regards,`,emailSignature:"{senderName}",reminderMessage:"Reminder sent.",emailCreationDateLabel:"Created:",ccAlias:null,supabaseUrl:null,supabaseAnonKey:null,supabaseEmail:null},Y1=()=>{const[s,t]=ye.useState(pf);ye.useEffect(()=>{try{const a=localStorage.getItem(f0);a&&t({...pf,...JSON.parse(a)})}catch(a){console.error("Failed to load settings from localStorage",a),t(pf)}},[]);const r=ye.useCallback(a=>{t(l=>{const u={...l,...a};try{localStorage.setItem(f0,JSON.stringify(u))}catch(c){console.error("Failed to save settings to localStorage",c)}return u})},[]);return[s,r]},X1=[{name:"Alice",alias:"alice",email:"alice@example.com",avatarUrl:"https://picsum.photos/seed/alice/40/40"},{name:"Bob",alias:"bob",email:"bob@example.com",avatarUrl:"https://picsum.photos/seed/bob/40/40"},{name:"Charlie",alias:"charlie",email:"charlie@example.com,engineering@example.com",avatarUrl:"https://picsum.photos/seed/charlie/40/40"},{name:"Diana",alias:"diana",email:"diana@example.com",avatarUrl:"https://picsum.photos/seed/diana/40/40"},{name:"Ethan",alias:"ethan",email:"ethan@example.com,product@example.com",avatarUrl:"https://picsum.photos/seed/ethan/40/40"}],Z1=`# Project Titan Launch 🚀

This is a self-contained project file. Manage assignees in the "Manage Assignees" tab.
Use H1 headings (e.g., '# My Project') to create separate projects within this file.

## Phase 1: Design

- [ ] Wireframing and user flows !2024-08-10 (@alice) ($1500)
  - 2024-07-26: Initial sketches completed. (@alice)
  - 2024-07-27: Discussed with the product team, got feedback.
- [x] UI/UX Design system (@alice) ~2024-07-20 ($2500)
- [ ] Create brand style guide !2024-08-15 ($500)

## Phase 2: Development

- [ ] Setup CI/CD pipeline !2024-09-01 (@bob) ($2000)
- [ ] Develop core API endpoints !2024-08-25 (@charlie) ($4000)
- [ ] Frontend component library (@diana) ($3500)
- [ ] Implement user authentication ($1200)

# Project Phoenix: Q4 Initiatives 🦅

This is a second project within the same file. You can switch between projects using the dropdown in the header.

## Marketing & Outreach

- [ ] Plan social media campaign !2024-10-15 (@ethan) ($1800)
- [ ] Write blog posts for new features (@diana) ($750)

## Infrastructure Update

- [ ] Migrate database to new server !2024-11-01 (@bob) ($3000)
- [ ] Update server dependencies ($400)`,vh=`# Archived Sections

This is where your archived sections will be stored, organized by their original project.`,Zy="md-tasker-project-state-v2",Q1=()=>{try{const s=localStorage.getItem(Zy);if(s){const t=JSON.parse(s);if(t&&typeof t.markdown=="string"&&Array.isArray(t.users))return{markdown:t.markdown,users:t.users,archiveMarkdown:t.archiveMarkdown||vh}}}catch(s){console.error("Failed to load project from localStorage:",s)}return{markdown:Z1,users:X1,archiveMarkdown:vh}},Qy=ye.createContext(void 0),J1=({children:s})=>{const t=ye.useMemo(()=>Q1(),[]),[r,a]=ye.useState(t.markdown),[l,u]=ye.useState(t.archiveMarkdown),[c,f]=ye.useState(t.users),[d,p]=Y1(),m=c0(r,c),b=c0(l,c);ye.useEffect(()=>{try{const oe={markdown:r,archiveMarkdown:l,users:c};localStorage.setItem(Zy,JSON.stringify(oe))}catch(oe){console.error("Failed to save project to localStorage:",oe)}},[r,l,c]);const _=ye.useCallback((oe,he,I,te)=>{(te?u:a)(re=>{const W=re.split(`
`),X=W.slice(0,oe),me=W.slice(he+1),ue=I.split(`
`);return[...X,...ue,...me].join(`
`)})},[]),S=ye.useCallback((oe,he,I,te)=>{(te?u:a)(re=>{const W=re.split(`
`),X=W.slice(0,oe),me=W.slice(oe+he),ue=I.split(`
`);return[...X,...ue,...me].join(`
`)})},[]),j=ye.useCallback((oe,he)=>{a(I=>{const te=I.split(`
`);if(oe>=te.length)return I;const D=te[oe],re=/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/;let W=D.replace(re,"");if(he){const me=new Date().toISOString().split("T")[0];W=`${W.trim()} ~${me}`}const X=/^- \[( |x)\]/;return W=W.replace(X,`- [${he?"x":" "}]`),te[oe]=W,te.join(`
`)})},[]),E=ye.useCallback((oe,he)=>{a(I=>{var ue,G;const te=I.split(`
`),D=te.slice(oe.startLine,oe.endLine+1),re=[...te.slice(0,oe.startLine),...te.slice(oe.endLine+1)],W=he>oe.startLine?he-D.length:he,X=[...D];return W>0&&((ue=re[W-1])==null?void 0:ue.trim())!==""&&X.unshift(""),W<re.length&&((G=re[W])==null?void 0:G.trim())!==""&&X.push(""),[...re.slice(0,W),...X,...re.slice(W)].join(`
`)})},[]),O=ye.useCallback((oe,he)=>{a(I=>{const te=I.split(`
`),D=te.slice(oe.startLine,oe.endLine+1);return[...te.slice(0,he),...D,...te.slice(he)].join(`
`)})},[]),x=ye.useCallback(({startLine:oe,endLine:he},I)=>{const te=new Date().toISOString().split("T")[0];let D=[];a(re=>{const W=re.split(`
`);return D=W.slice(oe,he+1),[...W.slice(0,oe),...W.slice(he+1)].join(`
`).replace(/\n\n\n/g,`

`).trim()}),u(re=>{const W=re.split(`
`),X=`# ${I}`;let me=W.findIndex(Y=>Y.trim()===X);const ue=[...D,`_Archived on: ${te}_`];if(me===-1)return[...W,"",X,...ue].join(`
`);let G=W.findIndex((Y,J)=>J>me&&Y.startsWith("# "));G===-1&&(G=W.length);const $=W.slice(0,G),B=W.slice(G);return[...$,"",...ue,...B].join(`
`)})},[]),N=ye.useCallback(({startLine:oe,endLine:he},I)=>{let te=[];u(D=>{const re=D.split(`
`),W=re.slice(oe,he+1);te=W.filter(ue=>!ue.startsWith("_Archived on:"));let X=[...re.slice(0,oe),...re.slice(he+1)];const me=b.find(ue=>ue.title===I);return me&&me.headings.length===1&&me.headings[0].line>=oe&&me.headings[0].line<=he&&(re.slice(me.startLine,me.endLine+1).some($=>$.trim()!==""&&!W.includes($))||(X=[...re.slice(0,me.startLine),...re.slice(me.endLine+1)])),X.join(`
`).replace(/\n\n\n/g,`

`).trim()}),a(D=>{const re=D.split(`
`),W=m.find(ue=>ue.title===I);if(!W)return[...re,"",...te].join(`
`);const X=re.slice(0,W.endLine+1),me=re.slice(W.endLine+1);return[...X,"",...te,...me].join(`
`)})},[m,b]),U=ye.useCallback((oe,he,I)=>{a(te=>{const D=te.split(`
`),re=new Date().toISOString().split("T")[0],W=I?` (@${I})`:"",X=`  - ${re}: ${he}${W}`,me=/^  - \d{4}-\d{2}-\d{2}: .*/,ue=[...oe].sort((G,$)=>$-G);for(const G of ue){let $=G+1;for(;$<D.length&&(me.test(D[$])||D[$].trim()==="")&&me.test(D[$]);)$++;D.splice($,0,X)}return D.join(`
`)})},[]),z=ye.useCallback((oe,he)=>{if(f(I=>I.map(te=>te.alias===oe?he:te)),oe!==he.alias){const I=new RegExp(`\\(@${oe}\\)`,"g"),te=`(@${he.alias})`;a(D=>D.replace(I,te)),u(D=>D.replace(I,te))}},[]),q=ye.useCallback(oe=>{f(I=>I.filter(te=>te.alias!==oe));const he=new RegExp(`\\s\\(@${oe}\\)`,"g");a(I=>I.replace(he,"")),u(I=>I.replace(he,""))},[]),ae=ye.useCallback(oe=>{if(c.some(I=>I.alias===oe.alias)){alert(`Alias "@${oe.alias}" is already taken. Please choose a unique alias.`);return}const he=`https://picsum.photos/seed/${oe.alias}/40/40`;f(I=>[...I,{...oe,avatarUrl:he}])},[c]),ne=ye.useCallback(oe=>{const he=new FileReader;he.onload=I=>{var te;try{const D=(te=I.target)==null?void 0:te.result,re=JSON.parse(D);re&&Array.isArray(re.users)&&typeof re.markdown=="string"?(f(re.users),a(re.markdown),u(re.archiveMarkdown||vh),re.settings&&p(re.settings),alert("Project imported successfully!")):alert("Invalid project file format.")}catch(D){console.error("Failed to parse project file",D),alert("Failed to read or parse the project file.")}},he.readAsText(oe)},[p]),le=ye.useCallback(oe=>{},[]),L={markdown:r,setMarkdown:a,archiveMarkdown:l,users:c,setUsers:f,settings:d,saveSettings:p,projects:m,archiveProjects:b,updateSection:_,toggleTask:j,updateTaskBlock:S,moveSection:E,duplicateSection:O,addBulkTaskUpdates:U,addUser:ae,updateUser:z,deleteUser:q,importProject:ne,handleRequestLocalRestore:le,archiveSection:x,restoreSection:N};return w.jsx(Qy.Provider,{value:L,children:s})},_i=()=>{const s=ye.useContext(Qy);if(s===void 0)throw new Error("useProject must be used within a ProjectProvider");return s},Va=s=>s.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),ex=({user:s,onUpdate:t,onDelete:r})=>{const[a,l]=ye.useState(s.name),[u,c]=ye.useState(s.email),[f,d]=ye.useState(s.alias);ye.useEffect(()=>{l(s.name),c(s.email),d(s.alias)},[s]);const p=()=>{const _={...s,name:a,email:u,alias:Va(f)};t(s.alias,_)},m=_=>{d(Va(_.target.value))},b=a!==s.name||u!==s.email||f!==s.alias;return w.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-slate-800 rounded-lg",children:[w.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-12 w-12 rounded-full flex-shrink-0"}),w.jsxs("div",{className:"flex-grow grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:`name-${s.alias}`,className:"block text-sm font-medium text-slate-400 mb-1",children:"Name / Description"}),w.jsx("input",{id:`name-${s.alias}`,type:"text",value:a,onChange:_=>l(_.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:`alias-${s.alias}`,className:"block text-sm font-medium text-slate-400 mb-1",children:"Alias"}),w.jsx("input",{id:`alias-${s.alias}`,type:"text",value:f,onChange:m,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:`email-${s.alias}`,className:"block text-sm font-medium text-slate-400 mb-1",children:"Email(s)"}),w.jsx("input",{id:`email-${s.alias}`,type:"text",value:u,onChange:_=>c(_.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:p,disabled:!b,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold disabled:bg-slate-600 disabled:cursor-not-allowed",children:"Save"}),w.jsx("button",{onClick:()=>r(s.alias),className:"px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 transition-colors font-semibold",children:"Delete"})]})]})},tx=()=>{const{users:s,addUser:t,updateUser:r,deleteUser:a}=_i(),[l,u]=ye.useState(""),[c,f]=ye.useState(""),[d,p]=ye.useState(""),[m,b]=ye.useState(!1),_=E=>{const O=E.target.value;u(O),m||p(Va(O))},S=E=>{p(Va(E.target.value)),b(!0)},j=E=>{E.preventDefault();const O=Va(d.trim());l.trim()&&c.trim()&&O&&(t({name:l.trim(),email:c.trim(),alias:O}),u(""),f(""),p(""),b(!1))};return w.jsx("div",{className:"p-8 overflow-y-auto h-full text-slate-200 pb-24",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add New Assignee"}),w.jsxs("form",{onSubmit:j,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"new-name",className:"block text-sm font-medium text-slate-400 mb-1",children:"Name / Description"}),w.jsx("input",{id:"new-name",type:"text",value:l,onChange:_,placeholder:"e.g., John Doe or 'Frontend Team'",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"new-alias",className:"block text-sm font-medium text-slate-400 mb-1",children:"Alias"}),w.jsx("input",{id:"new-alias",type:"text",value:d,onChange:S,placeholder:"e.g., john_doe",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"new-email",className:"block text-sm font-medium text-slate-400 mb-1",children:"Email(s)"}),w.jsx("input",{id:"new-email",type:"text",value:c,onChange:E=>f(E.target.value),placeholder:"john.doe@example.com",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]})]}),w.jsx("div",{className:"flex justify-end",children:w.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-green-600 hover:bg-green-700 transition-colors font-semibold",children:"Add Assignee"})})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 border-b border-slate-700 pb-2",children:"Existing Assignees"}),s.length>0?s.map(E=>w.jsx(ex,{user:E,onUpdate:r,onDelete:a},E.alias)):w.jsx("p",{className:"text-slate-400 text-center py-4",children:"No assignees found. Add one using the form above."})]})]})})};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jy=(...s)=>s.filter((t,r,a)=>!!t&&a.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ye.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:c,...f},d)=>ye.createElement("svg",{ref:d,...rx,width:t,height:t,stroke:s,strokeWidth:a?Number(r)*24/Number(t):r,className:Jy("lucide",l),...f},[...c.map(([p,m])=>ye.createElement(p,m)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(s,t)=>{const r=ye.forwardRef(({className:a,...l},u)=>ye.createElement(ix,{ref:u,iconNode:t,className:Jy(`lucide-${nx(s)}`,a),...l}));return r.displayName=`${s}`,r};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=qe("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=qe("ArrowUpToLine",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=qe("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=qe("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=qe("BookUp",[["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=qe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=qe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=qe("CloudDownload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=qe("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=qe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=qe("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=qe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=qe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=qe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=qe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=qe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=qe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=qe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=qe("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qh=({isOpen:s,onClose:t,onConfirm:r,onSecondaryAction:a,title:l,confirmText:u="Confirm",secondaryText:c,children:f})=>s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:l}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"text-slate-300 mb-6",children:f}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[a&&c&&w.jsx("button",{onClick:a,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:c}),w.jsx("button",{onClick:r,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:u})]})]})}):null,Bx=s=>{const t=/\[(.*?)\]\((.*?)\)/g;return s.replace(t,(r,a,l)=>`${a} (${l})`)},Ix=s=>s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).map((r,a)=>{if(!r)return null;if(r.startsWith("**")&&r.endsWith("**"))return w.jsx("strong",{children:r.slice(2,-2)},a);if(r.startsWith("*")&&r.endsWith("*"))return w.jsx("em",{children:r.slice(1,-1)},a);const l=r.match(/\[(.*?)\]\((.*?)\)/);return l?w.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},a):r}),zx=({text:s})=>w.jsx(w.Fragment,{children:Ix(s)}),ov=({task:s,viewScope:t})=>{const a=((l,u)=>{if(!l||u)return null;const c=new Date;c.setHours(0,0,0,0);const d=new Date(`${l}T00:00:00`).getTime()-c.getTime(),p=Math.ceil(d/(1e3*60*60*24));let m="bg-slate-700 text-slate-300";return p<0?m="bg-red-500/20 text-red-400":p===0&&(m="bg-yellow-500/20 text-yellow-400"),{color:m,label:l}})(s.dueDate,s.completed);return w.jsxs("div",{className:"flex items-start space-x-3",children:[s.completed?w.jsx(Hl,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}):w.jsx(rv,{className:"h-5 w-5 text-slate-500 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"flex-grow min-w-0",children:[w.jsx("span",{className:`text-sm ${s.completed?"line-through text-slate-500":"text-slate-300"}`,children:w.jsx(zx,{text:s.text})}),s.cost!==void 0&&w.jsxs("span",{className:"ml-2 text-xs font-semibold bg-slate-700 text-green-400 px-2 py-0.5 rounded-full align-middle",children:["$",s.cost.toFixed(2)]}),a&&w.jsxs("span",{className:`ml-2 text-xs font-semibold px-2 py-0.5 rounded-full align-middle inline-flex items-center ${a.color}`,children:[w.jsx(Fl,{className:"h-3 w-3 mr-1"}),a.label]}),t==="all"&&w.jsx("span",{className:"block text-xs text-indigo-400 font-medium mt-1",children:s.projectTitle}),s.creationDate&&w.jsxs("span",{className:"block text-xs text-slate-400",children:["Created: ",s.creationDate]}),s.completed&&s.completionDate&&w.jsxs("span",{className:"block text-xs text-slate-400",children:["Completed: ",s.completionDate]})]})]})},Px=({value:s})=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between mb-1",children:[w.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Progress"}),w.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[Math.round(s),"%"]})]}),w.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:w.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${s}%`}})})]}),Fx=({user:s,tasks:t,projectTitle:r,viewScope:a})=>{const{users:l,settings:u,addBulkTaskUpdates:c}=_i(),[f,d]=ye.useState(!1),p=t.filter(U=>U.completed).length,m=t.length,b=m>0?p/m*100:0,_=t.filter(U=>!U.completed),S=t.reduce((U,z)=>U+(z.cost??0),0),j=ye.useMemo(()=>l.find(U=>U.alias===u.senderAlias),[l,u.senderAlias]),E=ye.useMemo(()=>l.find(U=>U.alias===u.ccAlias),[l,u.ccAlias]),O=()=>{if(_.length===0){alert(`No incomplete tasks for ${s.name}.`);return}if(!s.email){alert(`${s.name} does not have an email address configured.`);return}const U=u.emailSubject.replace("{projectTitle}",r),z=_.reduce((I,te)=>(I[te.projectTitle]||(I[te.projectTitle]=[]),I[te.projectTitle].push(te),I),{}),q=Object.keys(z),ae=q.map(I=>{const te=z[I].map(D=>{const re=D.cost?` ($${D.cost.toFixed(2)})`:"",W=D.creationDate?` (${u.emailCreationDateLabel} ${new Date(D.creationDate+"T00:00:00").toLocaleDateString()})`:"";return`- [ ] ${Bx(D.text)}${re}${W}`}).join(`
`);return q.length>1?`
Project: ${I}
${te}`:te}).join(""),ne=u.emailPreamble.replace("{userName}",s.name.split(" ")[0]||s.name),le=u.emailSignature.replace("{senderName}",(j==null?void 0:j.name)||"The Team"),L=`${ne}

${ae}

${u.emailPostamble}
${le}`,oe=E!=null&&E.email?`&cc=${encodeURIComponent(E.email)}`:"",he=`mailto:${s.email}?subject=${encodeURIComponent(U)}${oe}&body=${encodeURIComponent(L)}`;window.open(he,"_blank")},x=()=>{const U=_.map(q=>q.lineIndex),z=u.reminderMessage;c(U,z,u.senderAlias),O(),d(!1)},N=()=>{O(),d(!1)};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[w.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-10 w-10 rounded-full flex-shrink-0"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h3",{className:"font-bold text-lg text-slate-100 truncate",children:s.name}),w.jsxs("p",{className:"text-sm text-slate-400",children:[p," of ",m," tasks completed"]}),S>0&&w.jsxs("p",{className:"text-sm text-green-400 font-medium",children:["$",S.toFixed(2)]})]})]}),_.length>0&&s.email&&w.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-full bg-slate-700 hover:bg-indigo-600 text-slate-300 hover:text-white transition-colors flex-shrink-0",title:`Draft an email to ${s.name}`,"aria-label":`Draft an email to ${s.name}`,children:w.jsx(av,{className:"h-5 w-5"})})]}),w.jsx("div",{className:"mb-6",children:w.jsx(Px,{value:b})}),w.jsx("div",{className:"space-y-3 overflow-y-auto flex-grow",children:t.map((U,z)=>w.jsx(ov,{task:U,viewScope:a},z))})]}),w.jsxs(qh,{isOpen:f,onClose:()=>d(!1),onConfirm:x,onSecondaryAction:N,title:"Send Reminder",confirmText:"Yes, add update",secondaryText:"No, just draft email",children:[w.jsxs("p",{children:["Do you want to add an update note to the ",_.length," pending task(s) for ",s.name,"?"]}),j?w.jsxs("p",{className:"text-sm text-slate-400 mt-2",children:["The note will be assigned to ",w.jsx("em",{className:"text-slate-300",children:j.name}),"."]}):w.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"The note will be added without an assignee."})]})]})},yl=({icon:s,title:t,value:r,color:a})=>w.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 flex items-center space-x-4",children:[w.jsx("div",{className:`p-3 rounded-full ${a}`,children:s}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-slate-400",children:t}),w.jsx("p",{className:"text-2xl font-bold text-slate-100",children:r})]})]}),Hx=({groupedTasks:s,unassignedTasks:t,projectTitle:r,viewScope:a,totalCost:l})=>{const u=[...Object.values(s).flatMap(b=>b.tasks),...t],c=u.length,f=u.filter(b=>b.completed).length,d=c>0?f/c*100:0,p=Object.values(s).filter(b=>b.tasks.length>0),m=t.reduce((b,_)=>b+(_.cost??0),0);return w.jsxs("div",{className:"p-8 overflow-y-auto h-full pb-24",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[w.jsx(yl,{icon:w.jsx(Ax,{className:"h-6 w-6 text-white"}),title:"Total Tasks",value:`${c}`,color:"bg-blue-500"}),w.jsx(yl,{icon:w.jsx(Hl,{className:"h-6 w-6 text-white"}),title:"Completed",value:`${f}`,color:"bg-green-500"}),w.jsx(yl,{icon:w.jsx(fx,{className:"h-6 w-6 text-white"}),title:"Progress",value:`${Math.round(d)}%`,color:"bg-indigo-500"}),w.jsx(yl,{icon:w.jsx(wx,{className:"h-6 w-6 text-white"}),title:"Total Cost",value:`$${l.toFixed(2)}`,color:"bg-yellow-500"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[p.map(({user:b,tasks:_})=>w.jsx(Fx,{user:b,tasks:_,projectTitle:r,viewScope:a},b.alias)),t.length>0&&w.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"bg-slate-700 p-2 rounded-full",children:w.jsx(Lx,{className:"h-6 w-6 text-slate-400"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg text-slate-100",children:"Unassigned Tasks"}),w.jsxs("p",{className:"text-sm text-slate-400",children:[t.length," tasks waiting"]})]})]}),m>0&&w.jsxs("p",{className:"text-lg text-green-400 font-bold",children:["$",m.toFixed(2)]})]}),w.jsx("div",{className:"space-y-3",children:t.map((b,_)=>w.jsx(ov,{task:b,viewScope:a},_))})]})]}),p.length===0&&t.length===0&&w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[w.jsx("h2",{className:"text-2xl font-semibold",children:"No Tasks Found"}),w.jsx("p",{children:"Your markdown file doesn't seem to have any tasks."}),w.jsx("p",{children:"Try adding a task like `- [ ] My new task` in the editor."})]})]})};var qx=Object.defineProperty,$x=Object.defineProperties,Gx=Object.getOwnPropertyDescriptors,d0=Object.getOwnPropertySymbols,Kx=Object.prototype.hasOwnProperty,Vx=Object.prototype.propertyIsEnumerable,wh=(s,t,r)=>t in s?qx(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,rt=(s,t)=>{for(var r in t||(t={}))Kx.call(t,r)&&wh(s,r,t[r]);if(d0)for(var r of d0(t))Vx.call(t,r)&&wh(s,r,t[r]);return s},Za=(s,t)=>$x(s,Gx(t)),je=(s,t,r)=>(wh(s,typeof t!="symbol"?t+"":t,r),r),vl=(s,t,r)=>new Promise((a,l)=>{var u=d=>{try{f(r.next(d))}catch(p){l(p)}},c=d=>{try{f(r.throw(d))}catch(p){l(p)}},f=d=>d.done?a(d.value):Promise.resolve(d.value).then(u,c);f((r=r.apply(s,t)).next())});class Ml{constructor(t){je(this,"rootKey"),this.rootKey=t}}const Wx=Object.seal({});class Re extends Ml{constructor(t){super(t),je(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const a=this.root.map(l=>l instanceof Ml?l.prepForXml(t):l).filter(l=>l!==void 0);return t.stack.pop(),{[this.rootKey]:a.length?a.length===1&&((r=a[0])!=null&&r._attr)?a[0]:a:Wx}}addChildElement(t){return this.root.push(t),this}}class $l extends Re{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Fe extends Ml{constructor(t){super("_attr"),je(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.keys(this.root).forEach(a=>{const l=this.root[a];if(l!==void 0){const u=this.xmlKeys&&this.xmlKeys[a]||a;r[u]=l}}),{_attr:r}}}class Ja extends Ml{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:a})=>a!==void 0).reduce((a,{key:l,value:u})=>Za(rt({},a),{[l]:u}),{})}}}class Rt extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uv={},$h={exports:{}},As=typeof Reflect=="object"?Reflect:null,p0=As&&typeof As.apply=="function"?As.apply:function(t,r,a){return Function.prototype.apply.call(t,r,a)},Ol;As&&typeof As.ownKeys=="function"?Ol=As.ownKeys:Object.getOwnPropertySymbols?Ol=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ol=function(t){return Object.getOwnPropertyNames(t)};function Yx(s){console&&console.warn&&console.warn(s)}var cv=Number.isNaN||function(t){return t!==t};function ht(){ht.init.call(this)}$h.exports=ht;$h.exports.once=Jx;ht.EventEmitter=ht;ht.prototype._events=void 0;ht.prototype._eventsCount=0;ht.prototype._maxListeners=void 0;var m0=10;function Gl(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(ht,"defaultMaxListeners",{enumerable:!0,get:function(){return m0},set:function(s){if(typeof s!="number"||s<0||cv(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");m0=s}});ht.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ht.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||cv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fv(s){return s._maxListeners===void 0?ht.defaultMaxListeners:s._maxListeners}ht.prototype.getMaxListeners=function(){return fv(this)};ht.prototype.emit=function(t){for(var r=[],a=1;a<arguments.length;a++)r.push(arguments[a]);var l=t==="error",u=this._events;if(u!==void 0)l=l&&u.error===void 0;else if(!l)return!1;if(l){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var f=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw f.context=c,f}var d=u[t];if(d===void 0)return!1;if(typeof d=="function")p0(d,this,r);else for(var p=d.length,m=gv(d,p),a=0;a<p;++a)p0(m[a],this,r);return!0};function hv(s,t,r,a){var l,u,c;if(Gl(r),u=s._events,u===void 0?(u=s._events=Object.create(null),s._eventsCount=0):(u.newListener!==void 0&&(s.emit("newListener",t,r.listener?r.listener:r),u=s._events),c=u[t]),c===void 0)c=u[t]=r,++s._eventsCount;else if(typeof c=="function"?c=u[t]=a?[r,c]:[c,r]:a?c.unshift(r):c.push(r),l=fv(s),l>0&&c.length>l&&!c.warned){c.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=s,f.type=t,f.count=c.length,Yx(f)}return s}ht.prototype.addListener=function(t,r){return hv(this,t,r,!1)};ht.prototype.on=ht.prototype.addListener;ht.prototype.prependListener=function(t,r){return hv(this,t,r,!0)};function Xx(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dv(s,t,r){var a={fired:!1,wrapFn:void 0,target:s,type:t,listener:r},l=Xx.bind(a);return l.listener=r,a.wrapFn=l,l}ht.prototype.once=function(t,r){return Gl(r),this.on(t,dv(this,t,r)),this};ht.prototype.prependOnceListener=function(t,r){return Gl(r),this.prependListener(t,dv(this,t,r)),this};ht.prototype.removeListener=function(t,r){var a,l,u,c,f;if(Gl(r),l=this._events,l===void 0)return this;if(a=l[t],a===void 0)return this;if(a===r||a.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete l[t],l.removeListener&&this.emit("removeListener",t,a.listener||r));else if(typeof a!="function"){for(u=-1,c=a.length-1;c>=0;c--)if(a[c]===r||a[c].listener===r){f=a[c].listener,u=c;break}if(u<0)return this;u===0?a.shift():Zx(a,u),a.length===1&&(l[t]=a[0]),l.removeListener!==void 0&&this.emit("removeListener",t,f||r)}return this};ht.prototype.off=ht.prototype.removeListener;ht.prototype.removeAllListeners=function(t){var r,a,l;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var u=Object.keys(a),c;for(l=0;l<u.length;++l)c=u[l],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=a[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(l=r.length-1;l>=0;l--)this.removeListener(t,r[l]);return this};function pv(s,t,r){var a=s._events;if(a===void 0)return[];var l=a[t];return l===void 0?[]:typeof l=="function"?r?[l.listener||l]:[l]:r?Qx(l):gv(l,l.length)}ht.prototype.listeners=function(t){return pv(this,t,!0)};ht.prototype.rawListeners=function(t){return pv(this,t,!1)};ht.listenerCount=function(s,t){return typeof s.listenerCount=="function"?s.listenerCount(t):mv.call(s,t)};ht.prototype.listenerCount=mv;function mv(s){var t=this._events;if(t!==void 0){var r=t[s];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ht.prototype.eventNames=function(){return this._eventsCount>0?Ol(this._events):[]};function gv(s,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=s[a];return r}function Zx(s,t){for(;t+1<s.length;t++)s[t]=s[t+1];s.pop()}function Qx(s){for(var t=new Array(s.length),r=0;r<t.length;++r)t[r]=s[r].listener||s[r];return t}function Jx(s,t){return new Promise(function(r,a){function l(c){s.removeListener(t,u),a(c)}function u(){typeof s.removeListener=="function"&&s.removeListener("error",l),r([].slice.call(arguments))}yv(s,t,u,{once:!0}),t!=="error"&&e_(s,l,{once:!0})})}function e_(s,t,r){typeof s.on=="function"&&yv(s,"error",t,r)}function yv(s,t,r,a){if(typeof s.on=="function")a.once?s.once(t,r):s.on(t,r);else if(typeof s.addEventListener=="function")s.addEventListener(t,function l(u){a.once&&s.removeEventListener(t,l),r(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}var Gh=$h.exports,bh={exports:{}};typeof Object.create=="function"?bh.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:bh.exports=function(t,r){if(r){t.super_=r;var a=function(){};a.prototype=r.prototype,t.prototype=new a,t.prototype.constructor=t}};var Si=bh.exports;function t_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var vv={exports:{}},Ct=vv.exports={},Yn,Xn;function xh(){throw new Error("setTimeout has not been defined")}function _h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yn=setTimeout:Yn=xh}catch{Yn=xh}try{typeof clearTimeout=="function"?Xn=clearTimeout:Xn=_h}catch{Xn=_h}})();function wv(s){if(Yn===setTimeout)return setTimeout(s,0);if((Yn===xh||!Yn)&&setTimeout)return Yn=setTimeout,setTimeout(s,0);try{return Yn(s,0)}catch{try{return Yn.call(null,s,0)}catch{return Yn.call(this,s,0)}}}function n_(s){if(Xn===clearTimeout)return clearTimeout(s);if((Xn===_h||!Xn)&&clearTimeout)return Xn=clearTimeout,clearTimeout(s);try{return Xn(s)}catch{try{return Xn.call(null,s)}catch{return Xn.call(this,s)}}}var gr=[],ks=!1,bi,Dl=-1;function r_(){!ks||!bi||(ks=!1,bi.length?gr=bi.concat(gr):Dl=-1,gr.length&&bv())}function bv(){if(!ks){var s=wv(r_);ks=!0;for(var t=gr.length;t;){for(bi=gr,gr=[];++Dl<t;)bi&&bi[Dl].run();Dl=-1,t=gr.length}bi=null,ks=!1,n_(s)}}Ct.nextTick=function(s){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];gr.push(new xv(s,t)),gr.length===1&&!ks&&wv(bv)};function xv(s,t){this.fun=s,this.array=t}xv.prototype.run=function(){this.fun.apply(null,this.array)};Ct.title="browser";Ct.browser=!0;Ct.env={};Ct.argv=[];Ct.version="";Ct.versions={};function yr(){}Ct.on=yr;Ct.addListener=yr;Ct.once=yr;Ct.off=yr;Ct.removeListener=yr;Ct.removeAllListeners=yr;Ct.emit=yr;Ct.prependListener=yr;Ct.prependOnceListener=yr;Ct.listeners=function(s){return[]};Ct.binding=function(s){throw new Error("process.binding is not supported")};Ct.cwd=function(){return"/"};Ct.chdir=function(s){throw new Error("process.chdir is not supported")};Ct.umask=function(){return 0};var i_=vv.exports;const Ye=t_(i_);var mf,g0;function _v(){return g0||(g0=1,mf=Gh.EventEmitter),mf}var gf={},Pa={},y0;function s_(){if(y0)return Pa;y0=1,Pa.byteLength=f,Pa.toByteArray=p,Pa.fromByteArray=_;for(var s=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=a.length;l<u;++l)s[l]=a[l],t[a.charCodeAt(l)]=l;t[45]=62,t[95]=63;function c(S){var j=S.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=S.indexOf("=");E===-1&&(E=j);var O=E===j?0:4-E%4;return[E,O]}function f(S){var j=c(S),E=j[0],O=j[1];return(E+O)*3/4-O}function d(S,j,E){return(j+E)*3/4-E}function p(S){var j,E=c(S),O=E[0],x=E[1],N=new r(d(S,O,x)),U=0,z=x>0?O-4:O,q;for(q=0;q<z;q+=4)j=t[S.charCodeAt(q)]<<18|t[S.charCodeAt(q+1)]<<12|t[S.charCodeAt(q+2)]<<6|t[S.charCodeAt(q+3)],N[U++]=j>>16&255,N[U++]=j>>8&255,N[U++]=j&255;return x===2&&(j=t[S.charCodeAt(q)]<<2|t[S.charCodeAt(q+1)]>>4,N[U++]=j&255),x===1&&(j=t[S.charCodeAt(q)]<<10|t[S.charCodeAt(q+1)]<<4|t[S.charCodeAt(q+2)]>>2,N[U++]=j>>8&255,N[U++]=j&255),N}function m(S){return s[S>>18&63]+s[S>>12&63]+s[S>>6&63]+s[S&63]}function b(S,j,E){for(var O,x=[],N=j;N<E;N+=3)O=(S[N]<<16&16711680)+(S[N+1]<<8&65280)+(S[N+2]&255),x.push(m(O));return x.join("")}function _(S){for(var j,E=S.length,O=E%3,x=[],N=16383,U=0,z=E-O;U<z;U+=N)x.push(b(S,U,U+N>z?z:U+N));return O===1?(j=S[E-1],x.push(s[j>>2]+s[j<<4&63]+"==")):O===2&&(j=(S[E-2]<<8)+S[E-1],x.push(s[j>>10]+s[j>>4&63]+s[j<<2&63]+"=")),x.join("")}return Pa}var wl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var v0;function a_(){return v0||(v0=1,wl.read=function(s,t,r,a,l){var u,c,f=l*8-a-1,d=(1<<f)-1,p=d>>1,m=-7,b=r?l-1:0,_=r?-1:1,S=s[t+b];for(b+=_,u=S&(1<<-m)-1,S>>=-m,m+=f;m>0;u=u*256+s[t+b],b+=_,m-=8);for(c=u&(1<<-m)-1,u>>=-m,m+=a;m>0;c=c*256+s[t+b],b+=_,m-=8);if(u===0)u=1-p;else{if(u===d)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,a),u=u-p}return(S?-1:1)*c*Math.pow(2,u-a)},wl.write=function(s,t,r,a,l,u){var c,f,d,p=u*8-l-1,m=(1<<p)-1,b=m>>1,_=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=a?0:u-1,j=a?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,c=m):(c=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+b>=1?t+=_/d:t+=_*Math.pow(2,1-b),t*d>=2&&(c++,d/=2),c+b>=m?(f=0,c=m):c+b>=1?(f=(t*d-1)*Math.pow(2,l),c=c+b):(f=t*Math.pow(2,b-1)*Math.pow(2,l),c=0));l>=8;s[r+S]=f&255,S+=j,f/=256,l-=8);for(c=c<<l|f,p+=l;p>0;s[r+S]=c&255,S+=j,c/=256,p-=8);s[r+S-j]|=E*128}),wl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var w0;function Kl(){return w0||(w0=1,(function(s){var t=s_(),r=a_(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=f,s.SlowBuffer=N,s.INSPECT_MAX_BYTES=50;var l=2147483647;s.kMaxLength=l,f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var C=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(C,g),C.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(C){if(C>l)throw new RangeError('The value "'+C+'" is invalid for option "size"');var g=new Uint8Array(C);return Object.setPrototypeOf(g,f.prototype),g}function f(C,g,v){if(typeof C=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(C)}return d(C,g,v)}f.poolSize=8192;function d(C,g,v){if(typeof C=="string")return _(C,g);if(ArrayBuffer.isView(C))return j(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(be(C,ArrayBuffer)||C&&be(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(C,SharedArrayBuffer)||C&&be(C.buffer,SharedArrayBuffer)))return E(C,g,v);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=C.valueOf&&C.valueOf();if(T!=null&&T!==C)return f.from(T,g,v);var H=O(C);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return f.from(C[Symbol.toPrimitive]("string"),g,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}f.from=function(C,g,v){return d(C,g,v)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function p(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function m(C,g,v){return p(C),C<=0?c(C):g!==void 0?typeof v=="string"?c(C).fill(g,v):c(C).fill(g):c(C)}f.alloc=function(C,g,v){return m(C,g,v)};function b(C){return p(C),c(C<0?0:x(C)|0)}f.allocUnsafe=function(C){return b(C)},f.allocUnsafeSlow=function(C){return b(C)};function _(C,g){if((typeof g!="string"||g==="")&&(g="utf8"),!f.isEncoding(g))throw new TypeError("Unknown encoding: "+g);var v=U(C,g)|0,T=c(v),H=T.write(C,g);return H!==v&&(T=T.slice(0,H)),T}function S(C){for(var g=C.length<0?0:x(C.length)|0,v=c(g),T=0;T<g;T+=1)v[T]=C[T]&255;return v}function j(C){if(be(C,Uint8Array)){var g=new Uint8Array(C);return E(g.buffer,g.byteOffset,g.byteLength)}return S(C)}function E(C,g,v){if(g<0||C.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<g+(v||0))throw new RangeError('"length" is outside of buffer bounds');var T;return g===void 0&&v===void 0?T=new Uint8Array(C):v===void 0?T=new Uint8Array(C,g):T=new Uint8Array(C,g,v),Object.setPrototypeOf(T,f.prototype),T}function O(C){if(f.isBuffer(C)){var g=x(C.length)|0,v=c(g);return v.length===0||C.copy(v,0,0,g),v}if(C.length!==void 0)return typeof C.length!="number"||A(C.length)?c(0):S(C);if(C.type==="Buffer"&&Array.isArray(C.data))return S(C.data)}function x(C){if(C>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return C|0}function N(C){return+C!=C&&(C=0),f.alloc(+C)}f.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==f.prototype},f.compare=function(g,v){if(be(g,Uint8Array)&&(g=f.from(g,g.offset,g.byteLength)),be(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(g)||!f.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===v)return 0;for(var T=g.length,H=v.length,ee=0,V=Math.min(T,H);ee<V;++ee)if(g[ee]!==v[ee]){T=g[ee],H=v[ee];break}return T<H?-1:H<T?1:0},f.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(g,v){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return f.alloc(0);var T;if(v===void 0)for(v=0,T=0;T<g.length;++T)v+=g[T].length;var H=f.allocUnsafe(v),ee=0;for(T=0;T<g.length;++T){var V=g[T];if(be(V,Uint8Array))ee+V.length>H.length?f.from(V).copy(H,ee):Uint8Array.prototype.set.call(H,V,ee);else if(f.isBuffer(V))V.copy(H,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=V.length}return H};function U(C,g){if(f.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||be(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var v=C.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&v===0)return 0;for(var H=!1;;)switch(g){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return k(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return F(C).length;default:if(H)return T?-1:k(C).length;g=(""+g).toLowerCase(),H=!0}}f.byteLength=U;function z(C,g,v){var T=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,g>>>=0,v<=g))return"";for(C||(C="utf8");;)switch(C){case"hex":return ue(this,g,v);case"utf8":case"utf-8":return D(this,g,v);case"ascii":return X(this,g,v);case"latin1":case"binary":return me(this,g,v);case"base64":return te(this,g,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,g,v);default:if(T)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),T=!0}}f.prototype._isBuffer=!0;function q(C,g,v){var T=C[g];C[g]=C[v],C[v]=T}f.prototype.swap16=function(){var g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<g;v+=2)q(this,v,v+1);return this},f.prototype.swap32=function(){var g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<g;v+=4)q(this,v,v+3),q(this,v+1,v+2);return this},f.prototype.swap64=function(){var g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<g;v+=8)q(this,v,v+7),q(this,v+1,v+6),q(this,v+2,v+5),q(this,v+3,v+4);return this},f.prototype.toString=function(){var g=this.length;return g===0?"":arguments.length===0?D(this,0,g):z.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(g){if(!f.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:f.compare(this,g)===0},f.prototype.inspect=function(){var g="",v=s.INSPECT_MAX_BYTES;return g=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(g+=" ... "),"<Buffer "+g+">"},a&&(f.prototype[a]=f.prototype.inspect),f.prototype.compare=function(g,v,T,H,ee){if(be(g,Uint8Array)&&(g=f.from(g,g.offset,g.byteLength)),!f.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(v===void 0&&(v=0),T===void 0&&(T=g?g.length:0),H===void 0&&(H=0),ee===void 0&&(ee=this.length),v<0||T>g.length||H<0||ee>this.length)throw new RangeError("out of range index");if(H>=ee&&v>=T)return 0;if(H>=ee)return-1;if(v>=T)return 1;if(v>>>=0,T>>>=0,H>>>=0,ee>>>=0,this===g)return 0;for(var V=ee-H,de=T-v,Te=Math.min(V,de),Se=this.slice(H,ee),Ce=g.slice(v,T),De=0;De<Te;++De)if(Se[De]!==Ce[De]){V=Se[De],de=Ce[De];break}return V<de?-1:de<V?1:0};function ae(C,g,v,T,H){if(C.length===0)return-1;if(typeof v=="string"?(T=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,A(v)&&(v=H?0:C.length-1),v<0&&(v=C.length+v),v>=C.length){if(H)return-1;v=C.length-1}else if(v<0)if(H)v=0;else return-1;if(typeof g=="string"&&(g=f.from(g,T)),f.isBuffer(g))return g.length===0?-1:ne(C,g,v,T,H);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(C,g,v):Uint8Array.prototype.lastIndexOf.call(C,g,v):ne(C,[g],v,T,H);throw new TypeError("val must be string, number or Buffer")}function ne(C,g,v,T,H){var ee=1,V=C.length,de=g.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(C.length<2||g.length<2)return-1;ee=2,V/=2,de/=2,v/=2}function Te(Ge,it){return ee===1?Ge[it]:Ge.readUInt16BE(it*ee)}var Se;if(H){var Ce=-1;for(Se=v;Se<V;Se++)if(Te(C,Se)===Te(g,Ce===-1?0:Se-Ce)){if(Ce===-1&&(Ce=Se),Se-Ce+1===de)return Ce*ee}else Ce!==-1&&(Se-=Se-Ce),Ce=-1}else for(v+de>V&&(v=V-de),Se=v;Se>=0;Se--){for(var De=!0,Ue=0;Ue<de;Ue++)if(Te(C,Se+Ue)!==Te(g,Ue)){De=!1;break}if(De)return Se}return-1}f.prototype.includes=function(g,v,T){return this.indexOf(g,v,T)!==-1},f.prototype.indexOf=function(g,v,T){return ae(this,g,v,T,!0)},f.prototype.lastIndexOf=function(g,v,T){return ae(this,g,v,T,!1)};function le(C,g,v,T){v=Number(v)||0;var H=C.length-v;T?(T=Number(T),T>H&&(T=H)):T=H;var ee=g.length;T>ee/2&&(T=ee/2);for(var V=0;V<T;++V){var de=parseInt(g.substr(V*2,2),16);if(A(de))return V;C[v+V]=de}return V}function L(C,g,v,T){return K(k(g,C.length-v),C,v,T)}function oe(C,g,v,T){return K(ie(g),C,v,T)}function he(C,g,v,T){return K(F(g),C,v,T)}function I(C,g,v,T){return K(Z(g,C.length-v),C,v,T)}f.prototype.write=function(g,v,T,H){if(v===void 0)H="utf8",T=this.length,v=0;else if(T===void 0&&typeof v=="string")H=v,T=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(T)?(T=T>>>0,H===void 0&&(H="utf8")):(H=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-v;if((T===void 0||T>ee)&&(T=ee),g.length>0&&(T<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var V=!1;;)switch(H){case"hex":return le(this,g,v,T);case"utf8":case"utf-8":return L(this,g,v,T);case"ascii":case"latin1":case"binary":return oe(this,g,v,T);case"base64":return he(this,g,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,g,v,T);default:if(V)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),V=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(C,g,v){return g===0&&v===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(g,v))}function D(C,g,v){v=Math.min(C.length,v);for(var T=[],H=g;H<v;){var ee=C[H],V=null,de=ee>239?4:ee>223?3:ee>191?2:1;if(H+de<=v){var Te,Se,Ce,De;switch(de){case 1:ee<128&&(V=ee);break;case 2:Te=C[H+1],(Te&192)===128&&(De=(ee&31)<<6|Te&63,De>127&&(V=De));break;case 3:Te=C[H+1],Se=C[H+2],(Te&192)===128&&(Se&192)===128&&(De=(ee&15)<<12|(Te&63)<<6|Se&63,De>2047&&(De<55296||De>57343)&&(V=De));break;case 4:Te=C[H+1],Se=C[H+2],Ce=C[H+3],(Te&192)===128&&(Se&192)===128&&(Ce&192)===128&&(De=(ee&15)<<18|(Te&63)<<12|(Se&63)<<6|Ce&63,De>65535&&De<1114112&&(V=De))}}V===null?(V=65533,de=1):V>65535&&(V-=65536,T.push(V>>>10&1023|55296),V=56320|V&1023),T.push(V),H+=de}return W(T)}var re=4096;function W(C){var g=C.length;if(g<=re)return String.fromCharCode.apply(String,C);for(var v="",T=0;T<g;)v+=String.fromCharCode.apply(String,C.slice(T,T+=re));return v}function X(C,g,v){var T="";v=Math.min(C.length,v);for(var H=g;H<v;++H)T+=String.fromCharCode(C[H]&127);return T}function me(C,g,v){var T="";v=Math.min(C.length,v);for(var H=g;H<v;++H)T+=String.fromCharCode(C[H]);return T}function ue(C,g,v){var T=C.length;(!g||g<0)&&(g=0),(!v||v<0||v>T)&&(v=T);for(var H="",ee=g;ee<v;++ee)H+=ge[C[ee]];return H}function G(C,g,v){for(var T=C.slice(g,v),H="",ee=0;ee<T.length-1;ee+=2)H+=String.fromCharCode(T[ee]+T[ee+1]*256);return H}f.prototype.slice=function(g,v){var T=this.length;g=~~g,v=v===void 0?T:~~v,g<0?(g+=T,g<0&&(g=0)):g>T&&(g=T),v<0?(v+=T,v<0&&(v=0)):v>T&&(v=T),v<g&&(v=g);var H=this.subarray(g,v);return Object.setPrototypeOf(H,f.prototype),H};function $(C,g,v){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+g>v)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(g,v,T){g=g>>>0,v=v>>>0,T||$(g,v,this.length);for(var H=this[g],ee=1,V=0;++V<v&&(ee*=256);)H+=this[g+V]*ee;return H},f.prototype.readUintBE=f.prototype.readUIntBE=function(g,v,T){g=g>>>0,v=v>>>0,T||$(g,v,this.length);for(var H=this[g+--v],ee=1;v>0&&(ee*=256);)H+=this[g+--v]*ee;return H},f.prototype.readUint8=f.prototype.readUInt8=function(g,v){return g=g>>>0,v||$(g,1,this.length),this[g]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(g,v){return g=g>>>0,v||$(g,2,this.length),this[g]|this[g+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(g,v){return g=g>>>0,v||$(g,2,this.length),this[g]<<8|this[g+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(g,v){return g=g>>>0,v||$(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(g,v){return g=g>>>0,v||$(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},f.prototype.readIntLE=function(g,v,T){g=g>>>0,v=v>>>0,T||$(g,v,this.length);for(var H=this[g],ee=1,V=0;++V<v&&(ee*=256);)H+=this[g+V]*ee;return ee*=128,H>=ee&&(H-=Math.pow(2,8*v)),H},f.prototype.readIntBE=function(g,v,T){g=g>>>0,v=v>>>0,T||$(g,v,this.length);for(var H=v,ee=1,V=this[g+--H];H>0&&(ee*=256);)V+=this[g+--H]*ee;return ee*=128,V>=ee&&(V-=Math.pow(2,8*v)),V},f.prototype.readInt8=function(g,v){return g=g>>>0,v||$(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},f.prototype.readInt16LE=function(g,v){g=g>>>0,v||$(g,2,this.length);var T=this[g]|this[g+1]<<8;return T&32768?T|4294901760:T},f.prototype.readInt16BE=function(g,v){g=g>>>0,v||$(g,2,this.length);var T=this[g+1]|this[g]<<8;return T&32768?T|4294901760:T},f.prototype.readInt32LE=function(g,v){return g=g>>>0,v||$(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},f.prototype.readInt32BE=function(g,v){return g=g>>>0,v||$(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},f.prototype.readFloatLE=function(g,v){return g=g>>>0,v||$(g,4,this.length),r.read(this,g,!0,23,4)},f.prototype.readFloatBE=function(g,v){return g=g>>>0,v||$(g,4,this.length),r.read(this,g,!1,23,4)},f.prototype.readDoubleLE=function(g,v){return g=g>>>0,v||$(g,8,this.length),r.read(this,g,!0,52,8)},f.prototype.readDoubleBE=function(g,v){return g=g>>>0,v||$(g,8,this.length),r.read(this,g,!1,52,8)};function B(C,g,v,T,H,ee){if(!f.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>H||g<ee)throw new RangeError('"value" argument is out of bounds');if(v+T>C.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(g,v,T,H){if(g=+g,v=v>>>0,T=T>>>0,!H){var ee=Math.pow(2,8*T)-1;B(this,g,v,T,ee,0)}var V=1,de=0;for(this[v]=g&255;++de<T&&(V*=256);)this[v+de]=g/V&255;return v+T},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(g,v,T,H){if(g=+g,v=v>>>0,T=T>>>0,!H){var ee=Math.pow(2,8*T)-1;B(this,g,v,T,ee,0)}var V=T-1,de=1;for(this[v+V]=g&255;--V>=0&&(de*=256);)this[v+V]=g/de&255;return v+T},f.prototype.writeUint8=f.prototype.writeUInt8=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,1,255,0),this[v]=g&255,v+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,2,65535,0),this[v]=g&255,this[v+1]=g>>>8,v+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,2,65535,0),this[v]=g>>>8,this[v+1]=g&255,v+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,4,4294967295,0),this[v+3]=g>>>24,this[v+2]=g>>>16,this[v+1]=g>>>8,this[v]=g&255,v+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,4,4294967295,0),this[v]=g>>>24,this[v+1]=g>>>16,this[v+2]=g>>>8,this[v+3]=g&255,v+4},f.prototype.writeIntLE=function(g,v,T,H){if(g=+g,v=v>>>0,!H){var ee=Math.pow(2,8*T-1);B(this,g,v,T,ee-1,-ee)}var V=0,de=1,Te=0;for(this[v]=g&255;++V<T&&(de*=256);)g<0&&Te===0&&this[v+V-1]!==0&&(Te=1),this[v+V]=(g/de>>0)-Te&255;return v+T},f.prototype.writeIntBE=function(g,v,T,H){if(g=+g,v=v>>>0,!H){var ee=Math.pow(2,8*T-1);B(this,g,v,T,ee-1,-ee)}var V=T-1,de=1,Te=0;for(this[v+V]=g&255;--V>=0&&(de*=256);)g<0&&Te===0&&this[v+V+1]!==0&&(Te=1),this[v+V]=(g/de>>0)-Te&255;return v+T},f.prototype.writeInt8=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,1,127,-128),g<0&&(g=255+g+1),this[v]=g&255,v+1},f.prototype.writeInt16LE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,2,32767,-32768),this[v]=g&255,this[v+1]=g>>>8,v+2},f.prototype.writeInt16BE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,2,32767,-32768),this[v]=g>>>8,this[v+1]=g&255,v+2},f.prototype.writeInt32LE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,4,2147483647,-2147483648),this[v]=g&255,this[v+1]=g>>>8,this[v+2]=g>>>16,this[v+3]=g>>>24,v+4},f.prototype.writeInt32BE=function(g,v,T){return g=+g,v=v>>>0,T||B(this,g,v,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[v]=g>>>24,this[v+1]=g>>>16,this[v+2]=g>>>8,this[v+3]=g&255,v+4};function Y(C,g,v,T,H,ee){if(v+T>C.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function J(C,g,v,T,H){return g=+g,v=v>>>0,H||Y(C,g,v,4),r.write(C,g,v,T,23,4),v+4}f.prototype.writeFloatLE=function(g,v,T){return J(this,g,v,!0,T)},f.prototype.writeFloatBE=function(g,v,T){return J(this,g,v,!1,T)};function fe(C,g,v,T,H){return g=+g,v=v>>>0,H||Y(C,g,v,8),r.write(C,g,v,T,52,8),v+8}f.prototype.writeDoubleLE=function(g,v,T){return fe(this,g,v,!0,T)},f.prototype.writeDoubleBE=function(g,v,T){return fe(this,g,v,!1,T)},f.prototype.copy=function(g,v,T,H){if(!f.isBuffer(g))throw new TypeError("argument should be a Buffer");if(T||(T=0),!H&&H!==0&&(H=this.length),v>=g.length&&(v=g.length),v||(v=0),H>0&&H<T&&(H=T),H===T||g.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),g.length-v<H-T&&(H=g.length-v+T);var ee=H-T;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,T,H):Uint8Array.prototype.set.call(g,this.subarray(T,H),v),ee},f.prototype.fill=function(g,v,T,H){if(typeof g=="string"){if(typeof v=="string"?(H=v,v=0,T=this.length):typeof T=="string"&&(H=T,T=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!f.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(g.length===1){var ee=g.charCodeAt(0);(H==="utf8"&&ee<128||H==="latin1")&&(g=ee)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(v<0||this.length<v||this.length<T)throw new RangeError("Out of range index");if(T<=v)return this;v=v>>>0,T=T===void 0?this.length:T>>>0,g||(g=0);var V;if(typeof g=="number")for(V=v;V<T;++V)this[V]=g;else{var de=f.isBuffer(g)?g:f.from(g,H),Te=de.length;if(Te===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(V=0;V<T-v;++V)this[V+v]=de[V%Te]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function R(C){if(C=C.split("=")[0],C=C.trim().replace(Q,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function k(C,g){g=g||1/0;for(var v,T=C.length,H=null,ee=[],V=0;V<T;++V){if(v=C.charCodeAt(V),v>55295&&v<57344){if(!H){if(v>56319){(g-=3)>-1&&ee.push(239,191,189);continue}else if(V+1===T){(g-=3)>-1&&ee.push(239,191,189);continue}H=v;continue}if(v<56320){(g-=3)>-1&&ee.push(239,191,189),H=v;continue}v=(H-55296<<10|v-56320)+65536}else H&&(g-=3)>-1&&ee.push(239,191,189);if(H=null,v<128){if((g-=1)<0)break;ee.push(v)}else if(v<2048){if((g-=2)<0)break;ee.push(v>>6|192,v&63|128)}else if(v<65536){if((g-=3)<0)break;ee.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((g-=4)<0)break;ee.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return ee}function ie(C){for(var g=[],v=0;v<C.length;++v)g.push(C.charCodeAt(v)&255);return g}function Z(C,g){for(var v,T,H,ee=[],V=0;V<C.length&&!((g-=2)<0);++V)v=C.charCodeAt(V),T=v>>8,H=v%256,ee.push(H),ee.push(T);return ee}function F(C){return t.toByteArray(R(C))}function K(C,g,v,T){for(var H=0;H<T&&!(H+v>=g.length||H>=C.length);++H)g[H+v]=C[H];return H}function be(C,g){return C instanceof g||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===g.name}function A(C){return C!==C}var ge=(function(){for(var C="0123456789abcdef",g=new Array(256),v=0;v<16;++v)for(var T=v*16,H=0;H<16;++H)g[T+H]=C[v]+C[H];return g})()})(gf)),gf}var yf={},vf={},wf,b0;function Sv(){return b0||(b0=1,wf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),a=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var l=42;t[r]=l;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==l||c.enumerable!==!0)return!1}return!0}),wf}var bf,x0;function Kh(){if(x0)return bf;x0=1;var s=Sv();return bf=function(){return s()&&!!Symbol.toStringTag},bf}var xf,_0;function o_(){if(_0)return xf;_0=1;var s=typeof Symbol<"u"&&Symbol,t=Sv();return xf=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},xf}var _f,S0;function l_(){if(S0)return _f;S0=1;var s={foo:{}},t=Object;return _f=function(){return{__proto__:s}.foo===s.foo&&!({__proto__:null}instanceof t)},_f}var Sf,E0;function u_(){if(E0)return Sf;E0=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,a="[object Function]",l=function(d,p){for(var m=[],b=0;b<d.length;b+=1)m[b]=d[b];for(var _=0;_<p.length;_+=1)m[_+d.length]=p[_];return m},u=function(d,p){for(var m=[],b=p,_=0;b<d.length;b+=1,_+=1)m[_]=d[b];return m},c=function(f,d){for(var p="",m=0;m<f.length;m+=1)p+=f[m],m+1<f.length&&(p+=d);return p};return Sf=function(d){var p=this;if(typeof p!="function"||t.apply(p)!==a)throw new TypeError(s+p);for(var m=u(arguments,1),b,_=function(){if(this instanceof b){var x=p.apply(this,l(m,arguments));return Object(x)===x?x:this}return p.apply(d,l(m,arguments))},S=r(0,p.length-m.length),j=[],E=0;E<S;E++)j[E]="$"+E;if(b=Function("binder","return function ("+c(j,",")+"){ return binder.apply(this,arguments); }")(_),p.prototype){var O=function(){};O.prototype=p.prototype,b.prototype=new O,O.prototype=null}return b},Sf}var Ef,T0;function Vh(){if(T0)return Ef;T0=1;var s=u_();return Ef=Function.prototype.bind||s,Ef}var Tf,A0;function c_(){if(A0)return Tf;A0=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Vh();return Tf=r.call(s,t),Tf}var Af,k0;function Bs(){if(k0)return Af;k0=1;var s,t=SyntaxError,r=Function,a=TypeError,l=function(I){try{return r('"use strict"; return ('+I+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var c=function(){throw new a},f=u?(function(){try{return arguments.callee,c}catch{try{return u(arguments,"callee").get}catch{return c}}})():c,d=o_()(),p=l_()(),m=Object.getPrototypeOf||(p?function(I){return I.__proto__}:null),b={},_=typeof Uint8Array>"u"||!m?s:m(Uint8Array),S={"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":d&&m?m([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&m?m(m([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!m?s:m(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!m?s:m(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&m?m(""[Symbol.iterator]()):s,"%Symbol%":d?Symbol:s,"%SyntaxError%":t,"%ThrowTypeError%":f,"%TypedArray%":_,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet};if(m)try{null.error}catch(I){var j=m(m(I));S["%Error.prototype%"]=j}var E=function I(te){var D;if(te==="%AsyncFunction%")D=l("async function () {}");else if(te==="%GeneratorFunction%")D=l("function* () {}");else if(te==="%AsyncGeneratorFunction%")D=l("async function* () {}");else if(te==="%AsyncGenerator%"){var re=I("%AsyncGeneratorFunction%");re&&(D=re.prototype)}else if(te==="%AsyncIteratorPrototype%"){var W=I("%AsyncGenerator%");W&&m&&(D=m(W.prototype))}return S[te]=D,D},O={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=Vh(),N=c_(),U=x.call(Function.call,Array.prototype.concat),z=x.call(Function.apply,Array.prototype.splice),q=x.call(Function.call,String.prototype.replace),ae=x.call(Function.call,String.prototype.slice),ne=x.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,oe=function(te){var D=ae(te,0,1),re=ae(te,-1);if(D==="%"&&re!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&D!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var W=[];return q(te,le,function(X,me,ue,G){W[W.length]=ue?q(G,L,"$1"):me||X}),W},he=function(te,D){var re=te,W;if(N(O,re)&&(W=O[re],re="%"+W[0]+"%"),N(S,re)){var X=S[re];if(X===b&&(X=E(re)),typeof X>"u"&&!D)throw new a("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:W,name:re,value:X}}throw new t("intrinsic "+te+" does not exist!")};return Af=function(te,D){if(typeof te!="string"||te.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new a('"allowMissing" argument must be a boolean');if(ne(/^%?[^%]*%?$/,te)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=oe(te),W=re.length>0?re[0]:"",X=he("%"+W+"%",D),me=X.name,ue=X.value,G=!1,$=X.alias;$&&(W=$[0],z(re,U([0,1],$)));for(var B=1,Y=!0;B<re.length;B+=1){var J=re[B],fe=ae(J,0,1),Q=ae(J,-1);if((fe==='"'||fe==="'"||fe==="`"||Q==='"'||Q==="'"||Q==="`")&&fe!==Q)throw new t("property names with quotes must have matching quotes");if((J==="constructor"||!Y)&&(G=!0),W+="."+J,me="%"+W+"%",N(S,me))ue=S[me];else if(ue!=null){if(!(J in ue)){if(!D)throw new a("base intrinsic for "+te+" exists, but the property is not available.");return}if(u&&B+1>=re.length){var R=u(ue,J);Y=!!R,Y&&"get"in R&&!("originalValue"in R.get)?ue=R.get:ue=ue[J]}else Y=N(ue,J),ue=ue[J];Y&&!G&&(S[me]=ue)}}return ue},Af}var kf={exports:{}},jf,j0;function Ev(){if(j0)return jf;j0=1;var s=Bs(),t=s("%Object.defineProperty%",!0),r=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},jf=r,jf}var Nf,N0;function Wh(){if(N0)return Nf;N0=1;var s=Bs(),t=s("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Nf=t,Nf}var Rf,R0;function f_(){if(R0)return Rf;R0=1;var s=Ev()(),t=Bs(),r=s&&t("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var a=t("%SyntaxError%"),l=t("%TypeError%"),u=Wh();return Rf=function(f,d,p){if(!f||typeof f!="object"&&typeof f!="function")throw new l("`obj` must be an object or a function`");if(typeof d!="string"&&typeof d!="symbol")throw new l("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new l("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new l("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new l("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new l("`loose`, if provided, must be a boolean");var m=arguments.length>3?arguments[3]:null,b=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,S=arguments.length>6?arguments[6]:!1,j=!!u&&u(f,d);if(r)r(f,d,{configurable:_===null&&j?j.configurable:!_,enumerable:m===null&&j?j.enumerable:!m,value:p,writable:b===null&&j?j.writable:!b});else if(S||!m&&!b&&!_)f[d]=p;else throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Rf}var Cf,C0;function h_(){if(C0)return Cf;C0=1;var s=Bs(),t=f_(),r=Ev()(),a=Wh(),l=s("%TypeError%"),u=s("%Math.floor%");return Cf=function(f,d){if(typeof f!="function")throw new l("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||u(d)!==d)throw new l("`length` must be a positive 32-bit integer");var p=arguments.length>2&&!!arguments[2],m=!0,b=!0;if("length"in f&&a){var _=a(f,"length");_&&!_.configurable&&(m=!1),_&&!_.writable&&(b=!1)}return(m||b||!p)&&(r?t(f,"length",d,!0,!0):t(f,"length",d)),f},Cf}var O0;function Tv(){return O0||(O0=1,(function(s){var t=Vh(),r=Bs(),a=h_(),l=r("%TypeError%"),u=r("%Function.prototype.apply%"),c=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(c,u),d=r("%Object.defineProperty%",!0),p=r("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}s.exports=function(_){if(typeof _!="function")throw new l("a function is required");var S=f(t,c,arguments);return a(S,1+p(0,_.length-(arguments.length-1)),!0)};var m=function(){return f(t,u,arguments)};d?d(s.exports,"apply",{value:m}):s.exports.apply=m})(kf)),kf.exports}var Of,D0;function Av(){if(D0)return Of;D0=1;var s=Bs(),t=Tv(),r=t(s("String.prototype.indexOf"));return Of=function(l,u){var c=s(l,!!u);return typeof c=="function"&&r(l,".prototype.")>-1?t(c):c},Of}var Df,U0;function d_(){if(U0)return Df;U0=1;var s=Kh()(),t=Av(),r=t("Object.prototype.toString"),a=function(f){return s&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:r(f)==="[object Arguments]"},l=function(f){return a(f)?!0:f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&r(f)!=="[object Array]"&&r(f.callee)==="[object Function]"},u=(function(){return a(arguments)})();return a.isLegacyArguments=l,Df=u?a:l,Df}var Uf,M0;function p_(){if(M0)return Uf;M0=1;var s=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,a=Kh()(),l=Object.getPrototypeOf,u=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch{}},c;return Uf=function(d){if(typeof d!="function")return!1;if(r.test(t.call(d)))return!0;if(!a){var p=s.call(d);return p==="[object GeneratorFunction]"}if(!l)return!1;if(typeof c>"u"){var m=u();c=m?l(m):!1}return l(d)===c},Uf}var Mf,L0;function m_(){if(L0)return Mf;L0=1;var s=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,a;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw a}}),a={},t(function(){throw 42},null,r)}catch(N){N!==a&&(t=null)}else t=null;var l=/^\s*class\b/,u=function(U){try{var z=s.call(U);return l.test(z)}catch{return!1}},c=function(U){try{return u(U)?!1:(s.call(U),!0)}catch{return!1}},f=Object.prototype.toString,d="[object Object]",p="[object Function]",m="[object GeneratorFunction]",b="[object HTMLAllCollection]",_="[object HTML document.all class]",S="[object HTMLCollection]",j=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),O=function(){return!1};if(typeof document=="object"){var x=document.all;f.call(x)===f.call(document.all)&&(O=function(U){if((E||!U)&&(typeof U>"u"||typeof U=="object"))try{var z=f.call(U);return(z===b||z===_||z===S||z===d)&&U("")==null}catch{}return!1})}return Mf=t?function(U){if(O(U))return!0;if(!U||typeof U!="function"&&typeof U!="object")return!1;try{t(U,null,r)}catch(z){if(z!==a)return!1}return!u(U)&&c(U)}:function(U){if(O(U))return!0;if(!U||typeof U!="function"&&typeof U!="object")return!1;if(j)return c(U);if(u(U))return!1;var z=f.call(U);return z!==p&&z!==m&&!/^\[object HTML/.test(z)?!1:c(U)},Mf}var Lf,B0;function g_(){if(B0)return Lf;B0=1;var s=m_(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,a=function(d,p,m){for(var b=0,_=d.length;b<_;b++)r.call(d,b)&&(m==null?p(d[b],b,d):p.call(m,d[b],b,d))},l=function(d,p,m){for(var b=0,_=d.length;b<_;b++)m==null?p(d.charAt(b),b,d):p.call(m,d.charAt(b),b,d)},u=function(d,p,m){for(var b in d)r.call(d,b)&&(m==null?p(d[b],b,d):p.call(m,d[b],b,d))},c=function(d,p,m){if(!s(p))throw new TypeError("iterator must be a function");var b;arguments.length>=3&&(b=m),t.call(d)==="[object Array]"?a(d,p,b):typeof d=="string"?l(d,p,b):u(d,p,b)};return Lf=c,Lf}var Bf,I0;function y_(){if(I0)return Bf;I0=1;var s=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?Qn:globalThis;return Bf=function(){for(var a=[],l=0;l<s.length;l++)typeof t[s[l]]=="function"&&(a[a.length]=s[l]);return a},Bf}var If,z0;function kv(){if(z0)return If;z0=1;var s=g_(),t=y_(),r=Tv(),a=Av(),l=Wh(),u=a("Object.prototype.toString"),c=Kh()(),f=typeof globalThis>"u"?Qn:globalThis,d=t(),p=a("String.prototype.slice"),m=Object.getPrototypeOf,b=a("Array.prototype.indexOf",!0)||function(O,x){for(var N=0;N<O.length;N+=1)if(O[N]===x)return N;return-1},_={__proto__:null};c&&l&&m?s(d,function(E){var O=new f[E];if(Symbol.toStringTag in O){var x=m(O),N=l(x,Symbol.toStringTag);if(!N){var U=m(x);N=l(U,Symbol.toStringTag)}_["$"+E]=r(N.get)}}):s(d,function(E){var O=new f[E],x=O.slice||O.set;x&&(_["$"+E]=r(x))});var S=function(O){var x=!1;return s(_,function(N,U){if(!x)try{"$"+N(O)===U&&(x=p(U,1))}catch{}}),x},j=function(O){var x=!1;return s(_,function(N,U){if(!x)try{N(O),x=p(U,1)}catch{}}),x};return If=function(O){if(!O||typeof O!="object")return!1;if(!c){var x=p(u(O),8,-1);return b(d,x)>-1?x:x!=="Object"?!1:j(O)}return l?S(O):null},If}var zf,P0;function v_(){if(P0)return zf;P0=1;var s=kv();return zf=function(r){return!!s(r)},zf}var F0;function w_(){return F0||(F0=1,(function(s){var t=d_(),r=p_(),a=kv(),l=v_();function u(T){return T.call.bind(T)}var c=typeof BigInt<"u",f=typeof Symbol<"u",d=u(Object.prototype.toString),p=u(Number.prototype.valueOf),m=u(String.prototype.valueOf),b=u(Boolean.prototype.valueOf);if(c)var _=u(BigInt.prototype.valueOf);if(f)var S=u(Symbol.prototype.valueOf);function j(T,H){if(typeof T!="object")return!1;try{return H(T),!0}catch{return!1}}s.isArgumentsObject=t,s.isGeneratorFunction=r,s.isTypedArray=l;function E(T){return typeof Promise<"u"&&T instanceof Promise||T!==null&&typeof T=="object"&&typeof T.then=="function"&&typeof T.catch=="function"}s.isPromise=E;function O(T){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(T):l(T)||Y(T)}s.isArrayBufferView=O;function x(T){return a(T)==="Uint8Array"}s.isUint8Array=x;function N(T){return a(T)==="Uint8ClampedArray"}s.isUint8ClampedArray=N;function U(T){return a(T)==="Uint16Array"}s.isUint16Array=U;function z(T){return a(T)==="Uint32Array"}s.isUint32Array=z;function q(T){return a(T)==="Int8Array"}s.isInt8Array=q;function ae(T){return a(T)==="Int16Array"}s.isInt16Array=ae;function ne(T){return a(T)==="Int32Array"}s.isInt32Array=ne;function le(T){return a(T)==="Float32Array"}s.isFloat32Array=le;function L(T){return a(T)==="Float64Array"}s.isFloat64Array=L;function oe(T){return a(T)==="BigInt64Array"}s.isBigInt64Array=oe;function he(T){return a(T)==="BigUint64Array"}s.isBigUint64Array=he;function I(T){return d(T)==="[object Map]"}I.working=typeof Map<"u"&&I(new Map);function te(T){return typeof Map>"u"?!1:I.working?I(T):T instanceof Map}s.isMap=te;function D(T){return d(T)==="[object Set]"}D.working=typeof Set<"u"&&D(new Set);function re(T){return typeof Set>"u"?!1:D.working?D(T):T instanceof Set}s.isSet=re;function W(T){return d(T)==="[object WeakMap]"}W.working=typeof WeakMap<"u"&&W(new WeakMap);function X(T){return typeof WeakMap>"u"?!1:W.working?W(T):T instanceof WeakMap}s.isWeakMap=X;function me(T){return d(T)==="[object WeakSet]"}me.working=typeof WeakSet<"u"&&me(new WeakSet);function ue(T){return me(T)}s.isWeakSet=ue;function G(T){return d(T)==="[object ArrayBuffer]"}G.working=typeof ArrayBuffer<"u"&&G(new ArrayBuffer);function $(T){return typeof ArrayBuffer>"u"?!1:G.working?G(T):T instanceof ArrayBuffer}s.isArrayBuffer=$;function B(T){return d(T)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function Y(T){return typeof DataView>"u"?!1:B.working?B(T):T instanceof DataView}s.isDataView=Y;var J=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function fe(T){return d(T)==="[object SharedArrayBuffer]"}function Q(T){return typeof J>"u"?!1:(typeof fe.working>"u"&&(fe.working=fe(new J)),fe.working?fe(T):T instanceof J)}s.isSharedArrayBuffer=Q;function R(T){return d(T)==="[object AsyncFunction]"}s.isAsyncFunction=R;function k(T){return d(T)==="[object Map Iterator]"}s.isMapIterator=k;function ie(T){return d(T)==="[object Set Iterator]"}s.isSetIterator=ie;function Z(T){return d(T)==="[object Generator]"}s.isGeneratorObject=Z;function F(T){return d(T)==="[object WebAssembly.Module]"}s.isWebAssemblyCompiledModule=F;function K(T){return j(T,p)}s.isNumberObject=K;function be(T){return j(T,m)}s.isStringObject=be;function A(T){return j(T,b)}s.isBooleanObject=A;function ge(T){return c&&j(T,_)}s.isBigIntObject=ge;function C(T){return f&&j(T,S)}s.isSymbolObject=C;function g(T){return K(T)||be(T)||A(T)||ge(T)||C(T)}s.isBoxedPrimitive=g;function v(T){return typeof Uint8Array<"u"&&($(T)||Q(T))}s.isAnyArrayBuffer=v,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(T){Object.defineProperty(s,T,{enumerable:!1,value:function(){throw new Error(T+" is not supported in userland")}})})})(vf)),vf}var Pf,H0;function b_(){return H0||(H0=1,Pf=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Pf}var q0;function jv(){return q0||(q0=1,(function(s){var t=Object.getOwnPropertyDescriptors||function(Y){for(var J=Object.keys(Y),fe={},Q=0;Q<J.length;Q++)fe[J[Q]]=Object.getOwnPropertyDescriptor(Y,J[Q]);return fe},r=/%[sdj%]/g;s.format=function(B){if(!q(B)){for(var Y=[],J=0;J<arguments.length;J++)Y.push(c(arguments[J]));return Y.join(" ")}for(var J=1,fe=arguments,Q=fe.length,R=String(B).replace(r,function(ie){if(ie==="%%")return"%";if(J>=Q)return ie;switch(ie){case"%s":return String(fe[J++]);case"%d":return Number(fe[J++]);case"%j":try{return JSON.stringify(fe[J++])}catch{return"[Circular]"}default:return ie}}),k=fe[J];J<Q;k=fe[++J])N(k)||!L(k)?R+=" "+k:R+=" "+c(k);return R},s.deprecate=function(B,Y){if(typeof Ye<"u"&&Ye.noDeprecation===!0)return B;if(typeof Ye>"u")return function(){return s.deprecate(B,Y).apply(this,arguments)};var J=!1;function fe(){if(!J){if(Ye.throwDeprecation)throw new Error(Y);Ye.traceDeprecation?console.trace(Y):console.error(Y),J=!0}return B.apply(this,arguments)}return fe};var a={},l=/^$/;if(Ye.env.NODE_DEBUG){var u=Ye.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+u+"$","i")}s.debuglog=function(B){if(B=B.toUpperCase(),!a[B])if(l.test(B)){var Y=Ye.pid;a[B]=function(){var J=s.format.apply(s,arguments);console.error("%s %d: %s",B,Y,J)}}else a[B]=function(){};return a[B]};function c(B,Y){var J={seen:[],stylize:d};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),x(Y)?J.showHidden=Y:Y&&s._extend(J,Y),ne(J.showHidden)&&(J.showHidden=!1),ne(J.depth)&&(J.depth=2),ne(J.colors)&&(J.colors=!1),ne(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=f),m(J,B,J.depth)}s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(B,Y){var J=c.styles[Y];return J?"\x1B["+c.colors[J][0]+"m"+B+"\x1B["+c.colors[J][1]+"m":B}function d(B,Y){return B}function p(B){var Y={};return B.forEach(function(J,fe){Y[J]=!0}),Y}function m(B,Y,J){if(B.customInspect&&Y&&I(Y.inspect)&&Y.inspect!==s.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var fe=Y.inspect(J,B);return q(fe)||(fe=m(B,fe,J)),fe}var Q=b(B,Y);if(Q)return Q;var R=Object.keys(Y),k=p(R);if(B.showHidden&&(R=Object.getOwnPropertyNames(Y)),he(Y)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return _(Y);if(R.length===0){if(I(Y)){var ie=Y.name?": "+Y.name:"";return B.stylize("[Function"+ie+"]","special")}if(le(Y))return B.stylize(RegExp.prototype.toString.call(Y),"regexp");if(oe(Y))return B.stylize(Date.prototype.toString.call(Y),"date");if(he(Y))return _(Y)}var Z="",F=!1,K=["{","}"];if(O(Y)&&(F=!0,K=["[","]"]),I(Y)){var be=Y.name?": "+Y.name:"";Z=" [Function"+be+"]"}if(le(Y)&&(Z=" "+RegExp.prototype.toString.call(Y)),oe(Y)&&(Z=" "+Date.prototype.toUTCString.call(Y)),he(Y)&&(Z=" "+_(Y)),R.length===0&&(!F||Y.length==0))return K[0]+Z+K[1];if(J<0)return le(Y)?B.stylize(RegExp.prototype.toString.call(Y),"regexp"):B.stylize("[Object]","special");B.seen.push(Y);var A;return F?A=S(B,Y,J,k,R):A=R.map(function(ge){return j(B,Y,J,k,ge,F)}),B.seen.pop(),E(A,Z,K)}function b(B,Y){if(ne(Y))return B.stylize("undefined","undefined");if(q(Y)){var J="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(J,"string")}if(z(Y))return B.stylize(""+Y,"number");if(x(Y))return B.stylize(""+Y,"boolean");if(N(Y))return B.stylize("null","null")}function _(B){return"["+Error.prototype.toString.call(B)+"]"}function S(B,Y,J,fe,Q){for(var R=[],k=0,ie=Y.length;k<ie;++k)me(Y,String(k))?R.push(j(B,Y,J,fe,String(k),!0)):R.push("");return Q.forEach(function(Z){Z.match(/^\d+$/)||R.push(j(B,Y,J,fe,Z,!0))}),R}function j(B,Y,J,fe,Q,R){var k,ie,Z;if(Z=Object.getOwnPropertyDescriptor(Y,Q)||{value:Y[Q]},Z.get?Z.set?ie=B.stylize("[Getter/Setter]","special"):ie=B.stylize("[Getter]","special"):Z.set&&(ie=B.stylize("[Setter]","special")),me(fe,Q)||(k="["+Q+"]"),ie||(B.seen.indexOf(Z.value)<0?(N(J)?ie=m(B,Z.value,null):ie=m(B,Z.value,J-1),ie.indexOf(`
`)>-1&&(R?ie=ie.split(`
`).map(function(F){return"  "+F}).join(`
`).slice(2):ie=`
`+ie.split(`
`).map(function(F){return"   "+F}).join(`
`))):ie=B.stylize("[Circular]","special")),ne(k)){if(R&&Q.match(/^\d+$/))return ie;k=JSON.stringify(""+Q),k.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.slice(1,-1),k=B.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=B.stylize(k,"string"))}return k+": "+ie}function E(B,Y,J){var fe=B.reduce(function(Q,R){return R.indexOf(`
`)>=0,Q+R.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?J[0]+(Y===""?"":Y+`
 `)+" "+B.join(`,
  `)+" "+J[1]:J[0]+Y+" "+B.join(", ")+" "+J[1]}s.types=w_();function O(B){return Array.isArray(B)}s.isArray=O;function x(B){return typeof B=="boolean"}s.isBoolean=x;function N(B){return B===null}s.isNull=N;function U(B){return B==null}s.isNullOrUndefined=U;function z(B){return typeof B=="number"}s.isNumber=z;function q(B){return typeof B=="string"}s.isString=q;function ae(B){return typeof B=="symbol"}s.isSymbol=ae;function ne(B){return B===void 0}s.isUndefined=ne;function le(B){return L(B)&&D(B)==="[object RegExp]"}s.isRegExp=le,s.types.isRegExp=le;function L(B){return typeof B=="object"&&B!==null}s.isObject=L;function oe(B){return L(B)&&D(B)==="[object Date]"}s.isDate=oe,s.types.isDate=oe;function he(B){return L(B)&&(D(B)==="[object Error]"||B instanceof Error)}s.isError=he,s.types.isNativeError=he;function I(B){return typeof B=="function"}s.isFunction=I;function te(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}s.isPrimitive=te,s.isBuffer=b_();function D(B){return Object.prototype.toString.call(B)}function re(B){return B<10?"0"+B.toString(10):B.toString(10)}var W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var B=new Date,Y=[re(B.getHours()),re(B.getMinutes()),re(B.getSeconds())].join(":");return[B.getDate(),W[B.getMonth()],Y].join(" ")}s.log=function(){console.log("%s - %s",X(),s.format.apply(s,arguments))},s.inherits=Si,s._extend=function(B,Y){if(!Y||!L(Y))return B;for(var J=Object.keys(Y),fe=J.length;fe--;)B[J[fe]]=Y[J[fe]];return B};function me(B,Y){return Object.prototype.hasOwnProperty.call(B,Y)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;s.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&Y[ue]){var J=Y[ue];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,ue,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var fe,Q,R=new Promise(function(Z,F){fe=Z,Q=F}),k=[],ie=0;ie<arguments.length;ie++)k.push(arguments[ie]);k.push(function(Z,F){Z?Q(Z):fe(F)});try{Y.apply(this,k)}catch(Z){Q(Z)}return R}return Object.setPrototypeOf(J,Object.getPrototypeOf(Y)),ue&&Object.defineProperty(J,ue,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,t(Y))},s.promisify.custom=ue;function G(B,Y){if(!B){var J=new Error("Promise was rejected with a falsy value");J.reason=B,B=J}return Y(B)}function $(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var J=[],fe=0;fe<arguments.length;fe++)J.push(arguments[fe]);var Q=J.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var R=this,k=function(){return Q.apply(R,arguments)};B.apply(this,J).then(function(ie){Ye.nextTick(k.bind(null,null,ie))},function(ie){Ye.nextTick(G.bind(null,ie,k))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(B)),Object.defineProperties(Y,t(B)),Y}s.callbackify=$})(yf)),yf}var Ff,$0;function x_(){if($0)return Ff;$0=1;function s(_,S){var j=Object.keys(_);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(_);S&&(E=E.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),j.push.apply(j,E)}return j}function t(_){for(var S=1;S<arguments.length;S++){var j=arguments[S]!=null?arguments[S]:{};S%2?s(Object(j),!0).forEach(function(E){r(_,E,j[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(j)):s(Object(j)).forEach(function(E){Object.defineProperty(_,E,Object.getOwnPropertyDescriptor(j,E))})}return _}function r(_,S,j){return S in _?Object.defineProperty(_,S,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[S]=j,_}function a(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function l(_,S){for(var j=0;j<S.length;j++){var E=S[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}function u(_,S,j){return S&&l(_.prototype,S),_}var c=Kl(),f=c.Buffer,d=jv(),p=d.inspect,m=p&&p.custom||"inspect";function b(_,S,j){f.prototype.copy.call(_,S,j)}return Ff=(function(){function _(){a(this,_),this.head=null,this.tail=null,this.length=0}return u(_,[{key:"push",value:function(j){var E={data:j,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(j){var E={data:j,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var E=this.head,O=""+E.data;E=E.next;)O+=j+E.data;return O}},{key:"concat",value:function(j){if(this.length===0)return f.alloc(0);for(var E=f.allocUnsafe(j>>>0),O=this.head,x=0;O;)b(O.data,E,x),x+=O.data.length,O=O.next;return E}},{key:"consume",value:function(j,E){var O;return j<this.head.data.length?(O=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?O=this.shift():O=E?this._getString(j):this._getBuffer(j),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var E=this.head,O=1,x=E.data;for(j-=x.length;E=E.next;){var N=E.data,U=j>N.length?N.length:j;if(U===N.length?x+=N:x+=N.slice(0,j),j-=U,j===0){U===N.length?(++O,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=N.slice(U));break}++O}return this.length-=O,x}},{key:"_getBuffer",value:function(j){var E=f.allocUnsafe(j),O=this.head,x=1;for(O.data.copy(E),j-=O.data.length;O=O.next;){var N=O.data,U=j>N.length?N.length:j;if(N.copy(E,E.length-j,0,U),j-=U,j===0){U===N.length?(++x,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=N.slice(U));break}++x}return this.length-=x,E}},{key:m,value:function(j,E){return p(this,t({},E,{depth:0,customInspect:!1}))}}]),_})(),Ff}var Hf,G0;function Nv(){if(G0)return Hf;G0=1;function s(c,f){var d=this,p=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return p||m?(f?f(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ye.nextTick(l,this,c)):Ye.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(b){!f&&b?d._writableState?d._writableState.errorEmitted?Ye.nextTick(r,d):(d._writableState.errorEmitted=!0,Ye.nextTick(t,d,b)):Ye.nextTick(t,d,b):f?(Ye.nextTick(r,d),f(b)):Ye.nextTick(r,d)}),this)}function t(c,f){l(c,f),r(c)}function r(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,f){c.emit("error",f)}function u(c,f){var d=c._readableState,p=c._writableState;d&&d.autoDestroy||p&&p.autoDestroy?c.destroy(f):c.emit("error",f)}return Hf={destroy:s,undestroy:a,errorOrDestroy:u},Hf}var qf={},K0;function Is(){if(K0)return qf;K0=1;function s(f,d){f.prototype=Object.create(d.prototype),f.prototype.constructor=f,f.__proto__=d}var t={};function r(f,d,p){p||(p=Error);function m(_,S,j){return typeof d=="string"?d:d(_,S,j)}var b=(function(_){s(S,_);function S(j,E,O){return _.call(this,m(j,E,O))||this}return S})(p);b.prototype.name=p.name,b.prototype.code=f,t[f]=b}function a(f,d){if(Array.isArray(f)){var p=f.length;return f=f.map(function(m){return String(m)}),p>2?"one of ".concat(d," ").concat(f.slice(0,p-1).join(", "),", or ")+f[p-1]:p===2?"one of ".concat(d," ").concat(f[0]," or ").concat(f[1]):"of ".concat(d," ").concat(f[0])}else return"of ".concat(d," ").concat(String(f))}function l(f,d,p){return f.substr(0,d.length)===d}function u(f,d,p){return(p===void 0||p>f.length)&&(p=f.length),f.substring(p-d.length,p)===d}function c(f,d,p){return typeof p!="number"&&(p=0),p+d.length>f.length?!1:f.indexOf(d,p)!==-1}return r("ERR_INVALID_OPT_VALUE",function(f,d){return'The value "'+d+'" is invalid for option "'+f+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(f,d,p){var m;typeof d=="string"&&l(d,"not ")?(m="must not be",d=d.replace(/^not /,"")):m="must be";var b;if(u(f," argument"))b="The ".concat(f," ").concat(m," ").concat(a(d,"type"));else{var _=c(f,".")?"property":"argument";b='The "'.concat(f,'" ').concat(_," ").concat(m," ").concat(a(d,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),qf.codes=t,qf}var $f,V0;function Rv(){if(V0)return $f;V0=1;var s=Is().codes.ERR_INVALID_OPT_VALUE;function t(a,l,u){return a.highWaterMark!=null?a.highWaterMark:l?a[u]:null}function r(a,l,u,c){var f=t(l,c,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var d=c?u:"highWaterMark";throw new s(d,f)}return Math.floor(f)}return a.objectMode?16:16*1024}return $f={getHighWaterMark:r},$f}var Gf,W0;function __(){if(W0)return Gf;W0=1,Gf=s;function s(r,a){if(t("noDeprecation"))return r;var l=!1;function u(){if(!l){if(t("throwDeprecation"))throw new Error(a);t("traceDeprecation")?console.trace(a):console.warn(a),l=!0}return r.apply(this,arguments)}return u}function t(r){try{if(!Qn.localStorage)return!1}catch{return!1}var a=Qn.localStorage[r];return a==null?!1:String(a).toLowerCase()==="true"}return Gf}var Kf,Y0;function Cv(){if(Y0)return Kf;Y0=1,Kf=le;function s(Q){var R=this;this.next=null,this.entry=null,this.finish=function(){fe(R,Q)}}var t;le.WritableState=ae;var r={deprecate:__()},a=_v(),l=Kl().Buffer,u=Qn.Uint8Array||function(){};function c(Q){return l.from(Q)}function f(Q){return l.isBuffer(Q)||Q instanceof u}var d=Nv(),p=Rv(),m=p.getHighWaterMark,b=Is().codes,_=b.ERR_INVALID_ARG_TYPE,S=b.ERR_METHOD_NOT_IMPLEMENTED,j=b.ERR_MULTIPLE_CALLBACK,E=b.ERR_STREAM_CANNOT_PIPE,O=b.ERR_STREAM_DESTROYED,x=b.ERR_STREAM_NULL_VALUES,N=b.ERR_STREAM_WRITE_AFTER_END,U=b.ERR_UNKNOWN_ENCODING,z=d.errorOrDestroy;Si(le,a);function q(){}function ae(Q,R,k){t=t||Cs(),Q=Q||{},typeof k!="boolean"&&(k=R instanceof t),this.objectMode=!!Q.objectMode,k&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=m(this,Q,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=Q.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){W(R,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}ae.prototype.getBuffer=function(){for(var R=this.bufferedRequest,k=[];R;)k.push(R),R=R.next;return k},(function(){try{Object.defineProperty(ae.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(R){return ne.call(this,R)?!0:this!==le?!1:R&&R._writableState instanceof ae}})):ne=function(R){return R instanceof this};function le(Q){t=t||Cs();var R=this instanceof t;if(!R&&!ne.call(le,this))return new le(Q);this._writableState=new ae(Q,this,R),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),a.call(this)}le.prototype.pipe=function(){z(this,new E)};function L(Q,R){var k=new N;z(Q,k),Ye.nextTick(R,k)}function oe(Q,R,k,ie){var Z;return k===null?Z=new x:typeof k!="string"&&!R.objectMode&&(Z=new _("chunk",["string","Buffer"],k)),Z?(z(Q,Z),Ye.nextTick(ie,Z),!1):!0}le.prototype.write=function(Q,R,k){var ie=this._writableState,Z=!1,F=!ie.objectMode&&f(Q);return F&&!l.isBuffer(Q)&&(Q=c(Q)),typeof R=="function"&&(k=R,R=null),F?R="buffer":R||(R=ie.defaultEncoding),typeof k!="function"&&(k=q),ie.ending?L(this,k):(F||oe(this,ie,Q,k))&&(ie.pendingcb++,Z=I(this,ie,F,Q,R,k)),Z},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&ue(this,Q))},le.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new U(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function he(Q,R,k){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof R=="string"&&(R=l.from(R,k)),R}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(Q,R,k,ie,Z,F){if(!k){var K=he(R,ie,Z);ie!==K&&(k=!0,Z="buffer",ie=K)}var be=R.objectMode?1:ie.length;R.length+=be;var A=R.length<R.highWaterMark;if(A||(R.needDrain=!0),R.writing||R.corked){var ge=R.lastBufferedRequest;R.lastBufferedRequest={chunk:ie,encoding:Z,isBuf:k,callback:F,next:null},ge?ge.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else te(Q,R,!1,be,ie,Z,F);return A}function te(Q,R,k,ie,Z,F,K){R.writelen=ie,R.writecb=K,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new O("write")):k?Q._writev(Z,R.onwrite):Q._write(Z,F,R.onwrite),R.sync=!1}function D(Q,R,k,ie,Z){--R.pendingcb,k?(Ye.nextTick(Z,ie),Ye.nextTick(Y,Q,R),Q._writableState.errorEmitted=!0,z(Q,ie)):(Z(ie),Q._writableState.errorEmitted=!0,z(Q,ie),Y(Q,R))}function re(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function W(Q,R){var k=Q._writableState,ie=k.sync,Z=k.writecb;if(typeof Z!="function")throw new j;if(re(k),R)D(Q,k,ie,R,Z);else{var F=G(k)||Q.destroyed;!F&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&ue(Q,k),ie?Ye.nextTick(X,Q,k,F,Z):X(Q,k,F,Z)}}function X(Q,R,k,ie){k||me(Q,R),R.pendingcb--,ie(),Y(Q,R)}function me(Q,R){R.length===0&&R.needDrain&&(R.needDrain=!1,Q.emit("drain"))}function ue(Q,R){R.bufferProcessing=!0;var k=R.bufferedRequest;if(Q._writev&&k&&k.next){var ie=R.bufferedRequestCount,Z=new Array(ie),F=R.corkedRequestsFree;F.entry=k;for(var K=0,be=!0;k;)Z[K]=k,k.isBuf||(be=!1),k=k.next,K+=1;Z.allBuffers=be,te(Q,R,!0,R.length,Z,"",F.finish),R.pendingcb++,R.lastBufferedRequest=null,F.next?(R.corkedRequestsFree=F.next,F.next=null):R.corkedRequestsFree=new s(R),R.bufferedRequestCount=0}else{for(;k;){var A=k.chunk,ge=k.encoding,C=k.callback,g=R.objectMode?1:A.length;if(te(Q,R,!1,g,A,ge,C),k=k.next,R.bufferedRequestCount--,R.writing)break}k===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=k,R.bufferProcessing=!1}le.prototype._write=function(Q,R,k){k(new S("_write()"))},le.prototype._writev=null,le.prototype.end=function(Q,R,k){var ie=this._writableState;return typeof Q=="function"?(k=Q,Q=null,R=null):typeof R=="function"&&(k=R,R=null),Q!=null&&this.write(Q,R),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||J(this,ie,k),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function $(Q,R){Q._final(function(k){R.pendingcb--,k&&z(Q,k),R.prefinished=!0,Q.emit("prefinish"),Y(Q,R)})}function B(Q,R){!R.prefinished&&!R.finalCalled&&(typeof Q._final=="function"&&!R.destroyed?(R.pendingcb++,R.finalCalled=!0,Ye.nextTick($,Q,R)):(R.prefinished=!0,Q.emit("prefinish")))}function Y(Q,R){var k=G(R);if(k&&(B(Q,R),R.pendingcb===0&&(R.finished=!0,Q.emit("finish"),R.autoDestroy))){var ie=Q._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&Q.destroy()}return k}function J(Q,R,k){R.ending=!0,Y(Q,R),k&&(R.finished?Ye.nextTick(k):Q.once("finish",k)),R.ended=!0,Q.writable=!1}function fe(Q,R,k){var ie=Q.entry;for(Q.entry=null;ie;){var Z=ie.callback;R.pendingcb--,Z(k),ie=ie.next}R.corkedRequestsFree.next=Q}return Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),le.prototype.destroy=d.destroy,le.prototype._undestroy=d.undestroy,le.prototype._destroy=function(Q,R){R(Q)},Kf}var Vf,X0;function Cs(){if(X0)return Vf;X0=1;var s=Object.keys||function(p){var m=[];for(var b in p)m.push(b);return m};Vf=c;var t=Ov(),r=Cv();Si(c,t);for(var a=s(r.prototype),l=0;l<a.length;l++){var u=a[l];c.prototype[u]||(c.prototype[u]=r.prototype[u])}function c(p){if(!(this instanceof c))return new c(p);t.call(this,p),r.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||Ye.nextTick(d,this)}function d(p){p.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),Vf}var Wf={},bl={exports:{}},Z0;function S_(){return Z0||(Z0=1,(function(s,t){var r=Kl(),a=r.Buffer;function l(c,f){for(var d in c)f[d]=c[d]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?s.exports=r:(l(r,t),t.Buffer=u);function u(c,f,d){return a(c,f,d)}l(a,u),u.from=function(c,f,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,f,d)},u.alloc=function(c,f,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=a(c);return f!==void 0?typeof d=="string"?p.fill(f,d):p.fill(f):p.fill(0),p},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(bl,bl.exports)),bl.exports}var Q0;function Sh(){if(Q0)return Wf;Q0=1;var s=S_().Buffer,t=s.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(x){if(!x)return"utf8";for(var N;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(N)return;x=(""+x).toLowerCase(),N=!0}}function a(x){var N=r(x);if(typeof N!="string"&&(s.isEncoding===t||!t(x)))throw new Error("Unknown encoding: "+x);return N||x}Wf.StringDecoder=l;function l(x){this.encoding=a(x);var N;switch(this.encoding){case"utf16le":this.text=b,this.end=_,N=4;break;case"utf8":this.fillLast=d,N=4;break;case"base64":this.text=S,this.end=j,N=3;break;default:this.write=E,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(N)}l.prototype.write=function(x){if(x.length===0)return"";var N,U;if(this.lastNeed){if(N=this.fillLast(x),N===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<x.length?N?N+this.text(x,U):this.text(x,U):N||""},l.prototype.end=m,l.prototype.text=p,l.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function u(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function c(x,N,U){var z=N.length-1;if(z<U)return 0;var q=u(N[z]);return q>=0?(q>0&&(x.lastNeed=q-1),q):--z<U||q===-2?0:(q=u(N[z]),q>=0?(q>0&&(x.lastNeed=q-2),q):--z<U||q===-2?0:(q=u(N[z]),q>=0?(q>0&&(q===2?q=0:x.lastNeed=q-3),q):0))}function f(x,N,U){if((N[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return x.lastNeed=2,"�"}}function d(x){var N=this.lastTotal-this.lastNeed,U=f(this,x);if(U!==void 0)return U;if(this.lastNeed<=x.length)return x.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,N,0,x.length),this.lastNeed-=x.length}function p(x,N){var U=c(this,x,N);if(!this.lastNeed)return x.toString("utf8",N);this.lastTotal=U;var z=x.length-(U-this.lastNeed);return x.copy(this.lastChar,0,z),x.toString("utf8",N,z)}function m(x){var N=x&&x.length?this.write(x):"";return this.lastNeed?N+"�":N}function b(x,N){if((x.length-N)%2===0){var U=x.toString("utf16le",N);if(U){var z=U.charCodeAt(U.length-1);if(z>=55296&&z<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",N,x.length-1)}function _(x){var N=x&&x.length?this.write(x):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,U)}return N}function S(x,N){var U=(x.length-N)%3;return U===0?x.toString("base64",N):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",N,x.length-U))}function j(x){var N=x&&x.length?this.write(x):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function E(x){return x.toString(this.encoding)}function O(x){return x&&x.length?this.write(x):""}return Wf}var Yf,J0;function Yh(){if(J0)return Yf;J0=1;var s=Is().codes.ERR_STREAM_PREMATURE_CLOSE;function t(u){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];u.apply(this,d)}}}function r(){}function a(u){return u.setHeader&&typeof u.abort=="function"}function l(u,c,f){if(typeof c=="function")return l(u,null,c);c||(c={}),f=t(f||r);var d=c.readable||c.readable!==!1&&u.readable,p=c.writable||c.writable!==!1&&u.writable,m=function(){u.writable||_()},b=u._writableState&&u._writableState.finished,_=function(){p=!1,b=!0,d||f.call(u)},S=u._readableState&&u._readableState.endEmitted,j=function(){d=!1,S=!0,p||f.call(u)},E=function(U){f.call(u,U)},O=function(){var U;if(d&&!S)return(!u._readableState||!u._readableState.ended)&&(U=new s),f.call(u,U);if(p&&!b)return(!u._writableState||!u._writableState.ended)&&(U=new s),f.call(u,U)},x=function(){u.req.on("finish",_)};return a(u)?(u.on("complete",_),u.on("abort",O),u.req?x():u.on("request",x)):p&&!u._writableState&&(u.on("end",m),u.on("close",m)),u.on("end",j),u.on("finish",_),c.error!==!1&&u.on("error",E),u.on("close",O),function(){u.removeListener("complete",_),u.removeListener("abort",O),u.removeListener("request",x),u.req&&u.req.removeListener("finish",_),u.removeListener("end",m),u.removeListener("close",m),u.removeListener("finish",_),u.removeListener("end",j),u.removeListener("error",E),u.removeListener("close",O)}}return Yf=l,Yf}var Xf,ey;function E_(){if(ey)return Xf;ey=1;var s;function t(x,N,U){return N in x?Object.defineProperty(x,N,{value:U,enumerable:!0,configurable:!0,writable:!0}):x[N]=U,x}var r=Yh(),a=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function m(x,N){return{value:x,done:N}}function b(x){var N=x[a];if(N!==null){var U=x[p].read();U!==null&&(x[f]=null,x[a]=null,x[l]=null,N(m(U,!1)))}}function _(x){Ye.nextTick(b,x)}function S(x,N){return function(U,z){x.then(function(){if(N[c]){U(m(void 0,!0));return}N[d](U,z)},z)}}var j=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((s={get stream(){return this[p]},next:function(){var N=this,U=this[u];if(U!==null)return Promise.reject(U);if(this[c])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(ne,le){Ye.nextTick(function(){N[u]?le(N[u]):ne(m(void 0,!0))})});var z=this[f],q;if(z)q=new Promise(S(z,this));else{var ae=this[p].read();if(ae!==null)return Promise.resolve(m(ae,!1));q=new Promise(this[d])}return this[f]=q,q}},t(s,Symbol.asyncIterator,function(){return this}),t(s,"return",function(){var N=this;return new Promise(function(U,z){N[p].destroy(null,function(q){if(q){z(q);return}U(m(void 0,!0))})})}),s),j),O=function(N){var U,z=Object.create(E,(U={},t(U,p,{value:N,writable:!0}),t(U,a,{value:null,writable:!0}),t(U,l,{value:null,writable:!0}),t(U,u,{value:null,writable:!0}),t(U,c,{value:N._readableState.endEmitted,writable:!0}),t(U,d,{value:function(ae,ne){var le=z[p].read();le?(z[f]=null,z[a]=null,z[l]=null,ae(m(le,!1))):(z[a]=ae,z[l]=ne)},writable:!0}),U));return z[f]=null,r(N,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ae=z[l];ae!==null&&(z[f]=null,z[a]=null,z[l]=null,ae(q)),z[u]=q;return}var ne=z[a];ne!==null&&(z[f]=null,z[a]=null,z[l]=null,ne(m(void 0,!0))),z[c]=!0}),N.on("readable",_.bind(null,z)),z};return Xf=O,Xf}var Zf,ty;function T_(){return ty||(ty=1,Zf=function(){throw new Error("Readable.from is not available in the browser")}),Zf}var Qf,ny;function Ov(){if(ny)return Qf;ny=1,Qf=L;var s;L.ReadableState=le,Gh.EventEmitter;var t=function(K,be){return K.listeners(be).length},r=_v(),a=Kl().Buffer,l=Qn.Uint8Array||function(){};function u(F){return a.from(F)}function c(F){return a.isBuffer(F)||F instanceof l}var f=jv(),d;f&&f.debuglog?d=f.debuglog("stream"):d=function(){};var p=x_(),m=Nv(),b=Rv(),_=b.getHighWaterMark,S=Is().codes,j=S.ERR_INVALID_ARG_TYPE,E=S.ERR_STREAM_PUSH_AFTER_EOF,O=S.ERR_METHOD_NOT_IMPLEMENTED,x=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,U,z;Si(L,r);var q=m.errorOrDestroy,ae=["error","close","destroy","pause","resume"];function ne(F,K,be){if(typeof F.prependListener=="function")return F.prependListener(K,be);!F._events||!F._events[K]?F.on(K,be):Array.isArray(F._events[K])?F._events[K].unshift(be):F._events[K]=[be,F._events[K]]}function le(F,K,be){s=s||Cs(),F=F||{},typeof be!="boolean"&&(be=K instanceof s),this.objectMode=!!F.objectMode,be&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=_(this,F,"readableHighWaterMark",be),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(N||(N=Sh().StringDecoder),this.decoder=new N(F.encoding),this.encoding=F.encoding)}function L(F){if(s=s||Cs(),!(this instanceof L))return new L(F);var K=this instanceof s;this._readableState=new le(F,this,K),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),r.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),L.prototype.destroy=m.destroy,L.prototype._undestroy=m.undestroy,L.prototype._destroy=function(F,K){K(F)},L.prototype.push=function(F,K){var be=this._readableState,A;return be.objectMode?A=!0:typeof F=="string"&&(K=K||be.defaultEncoding,K!==be.encoding&&(F=a.from(F,K),K=""),A=!0),oe(this,F,K,!1,A)},L.prototype.unshift=function(F){return oe(this,F,null,!0,!1)};function oe(F,K,be,A,ge){d("readableAddChunk",K);var C=F._readableState;if(K===null)C.reading=!1,W(F,C);else{var g;if(ge||(g=I(C,K)),g)q(F,g);else if(C.objectMode||K&&K.length>0)if(typeof K!="string"&&!C.objectMode&&Object.getPrototypeOf(K)!==a.prototype&&(K=u(K)),A)C.endEmitted?q(F,new x):he(F,C,K,!0);else if(C.ended)q(F,new E);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!be?(K=C.decoder.write(K),C.objectMode||K.length!==0?he(F,C,K,!1):ue(F,C)):he(F,C,K,!1)}else A||(C.reading=!1,ue(F,C))}return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function he(F,K,be,A){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,F.emit("data",be)):(K.length+=K.objectMode?1:be.length,A?K.buffer.unshift(be):K.buffer.push(be),K.needReadable&&X(F)),ue(F,K)}function I(F,K){var be;return!c(K)&&typeof K!="string"&&K!==void 0&&!F.objectMode&&(be=new j("chunk",["string","Buffer","Uint8Array"],K)),be}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(F){N||(N=Sh().StringDecoder);var K=new N(F);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,A="";be!==null;)A+=K.write(be.data),be=be.next;return this._readableState.buffer.clear(),A!==""&&this._readableState.buffer.push(A),this._readableState.length=A.length,this};var te=1073741824;function D(F){return F>=te?F=te:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function re(F,K){return F<=0||K.length===0&&K.ended?0:K.objectMode?1:F!==F?K.flowing&&K.length?K.buffer.head.data.length:K.length:(F>K.highWaterMark&&(K.highWaterMark=D(F)),F<=K.length?F:K.ended?K.length:(K.needReadable=!0,0))}L.prototype.read=function(F){d("read",F),F=parseInt(F,10);var K=this._readableState,be=F;if(F!==0&&(K.emittedReadable=!1),F===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return d("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?k(this):X(this),null;if(F=re(F,K),F===0&&K.ended)return K.length===0&&k(this),null;var A=K.needReadable;d("need readable",A),(K.length===0||K.length-F<K.highWaterMark)&&(A=!0,d("length less than watermark",A)),K.ended||K.reading?(A=!1,d("reading or ended",A)):A&&(d("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(F=re(be,K)));var ge;return F>0?ge=R(F,K):ge=null,ge===null?(K.needReadable=K.length<=K.highWaterMark,F=0):(K.length-=F,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),be!==F&&K.ended&&k(this)),ge!==null&&this.emit("data",ge),ge};function W(F,K){if(d("onEofChunk"),!K.ended){if(K.decoder){var be=K.decoder.end();be&&be.length&&(K.buffer.push(be),K.length+=K.objectMode?1:be.length)}K.ended=!0,K.sync?X(F):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,me(F)))}}function X(F){var K=F._readableState;d("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(d("emitReadable",K.flowing),K.emittedReadable=!0,Ye.nextTick(me,F))}function me(F){var K=F._readableState;d("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(F.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Q(F)}function ue(F,K){K.readingMore||(K.readingMore=!0,Ye.nextTick(G,F,K))}function G(F,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var be=K.length;if(d("maybeReadMore read 0"),F.read(0),be===K.length)break}K.readingMore=!1}L.prototype._read=function(F){q(this,new O("_read()"))},L.prototype.pipe=function(F,K){var be=this,A=this._readableState;switch(A.pipesCount){case 0:A.pipes=F;break;case 1:A.pipes=[A.pipes,F];break;default:A.pipes.push(F);break}A.pipesCount+=1,d("pipe count=%d opts=%j",A.pipesCount,K);var ge=(!K||K.end!==!1)&&F!==Ye.stdout&&F!==Ye.stderr,C=ge?v:Ce;A.endEmitted?Ye.nextTick(C):be.once("end",C),F.on("unpipe",g);function g(De,Ue){d("onunpipe"),De===be&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,ee())}function v(){d("onend"),F.end()}var T=$(be);F.on("drain",T);var H=!1;function ee(){d("cleanup"),F.removeListener("close",Te),F.removeListener("finish",Se),F.removeListener("drain",T),F.removeListener("error",de),F.removeListener("unpipe",g),be.removeListener("end",v),be.removeListener("end",Ce),be.removeListener("data",V),H=!0,A.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&T()}be.on("data",V);function V(De){d("ondata");var Ue=F.write(De);d("dest.write",Ue),Ue===!1&&((A.pipesCount===1&&A.pipes===F||A.pipesCount>1&&Z(A.pipes,F)!==-1)&&!H&&(d("false write response, pause",A.awaitDrain),A.awaitDrain++),be.pause())}function de(De){d("onerror",De),Ce(),F.removeListener("error",de),t(F,"error")===0&&q(F,De)}ne(F,"error",de);function Te(){F.removeListener("finish",Se),Ce()}F.once("close",Te);function Se(){d("onfinish"),F.removeListener("close",Te),Ce()}F.once("finish",Se);function Ce(){d("unpipe"),be.unpipe(F)}return F.emit("pipe",be),A.flowing||(d("pipe resume"),be.resume()),F};function $(F){return function(){var be=F._readableState;d("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&t(F,"data")&&(be.flowing=!0,Q(F))}}L.prototype.unpipe=function(F){var K=this._readableState,be={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return F&&F!==K.pipes?this:(F||(F=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,F&&F.emit("unpipe",this,be),this);if(!F){var A=K.pipes,ge=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var C=0;C<ge;C++)A[C].emit("unpipe",this,{hasUnpiped:!1});return this}var g=Z(K.pipes,F);return g===-1?this:(K.pipes.splice(g,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),F.emit("unpipe",this,be),this)},L.prototype.on=function(F,K){var be=r.prototype.on.call(this,F,K),A=this._readableState;return F==="data"?(A.readableListening=this.listenerCount("readable")>0,A.flowing!==!1&&this.resume()):F==="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,d("on readable",A.length,A.reading),A.length?X(this):A.reading||Ye.nextTick(Y,this)),be},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(F,K){var be=r.prototype.removeListener.call(this,F,K);return F==="readable"&&Ye.nextTick(B,this),be},L.prototype.removeAllListeners=function(F){var K=r.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&Ye.nextTick(B,this),K};function B(F){var K=F._readableState;K.readableListening=F.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:F.listenerCount("data")>0&&F.resume()}function Y(F){d("readable nexttick read 0"),F.read(0)}L.prototype.resume=function(){var F=this._readableState;return F.flowing||(d("resume"),F.flowing=!F.readableListening,J(this,F)),F.paused=!1,this};function J(F,K){K.resumeScheduled||(K.resumeScheduled=!0,Ye.nextTick(fe,F,K))}function fe(F,K){d("resume",K.reading),K.reading||F.read(0),K.resumeScheduled=!1,F.emit("resume"),Q(F),K.flowing&&!K.reading&&F.read(0)}L.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(F){var K=F._readableState;for(d("flow",K.flowing);K.flowing&&F.read()!==null;);}L.prototype.wrap=function(F){var K=this,be=this._readableState,A=!1;F.on("end",function(){if(d("wrapped end"),be.decoder&&!be.ended){var g=be.decoder.end();g&&g.length&&K.push(g)}K.push(null)}),F.on("data",function(g){if(d("wrapped data"),be.decoder&&(g=be.decoder.write(g)),!(be.objectMode&&g==null)&&!(!be.objectMode&&(!g||!g.length))){var v=K.push(g);v||(A=!0,F.pause())}});for(var ge in F)this[ge]===void 0&&typeof F[ge]=="function"&&(this[ge]=(function(v){return function(){return F[v].apply(F,arguments)}})(ge));for(var C=0;C<ae.length;C++)F.on(ae[C],this.emit.bind(this,ae[C]));return this._read=function(g){d("wrapped _read",g),A&&(A=!1,F.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=E_()),U(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),L._fromList=R,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function R(F,K){if(K.length===0)return null;var be;return K.objectMode?be=K.buffer.shift():!F||F>=K.length?(K.decoder?be=K.buffer.join(""):K.buffer.length===1?be=K.buffer.first():be=K.buffer.concat(K.length),K.buffer.clear()):be=K.buffer.consume(F,K.decoder),be}function k(F){var K=F._readableState;d("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,Ye.nextTick(ie,K,F))}function ie(F,K){if(d("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,K.readable=!1,K.emit("end"),F.autoDestroy)){var be=K._writableState;(!be||be.autoDestroy&&be.finished)&&K.destroy()}}typeof Symbol=="function"&&(L.from=function(F,K){return z===void 0&&(z=T_()),z(L,F,K)});function Z(F,K){for(var be=0,A=F.length;be<A;be++)if(F[be]===K)return be;return-1}return Qf}var Jf,ry;function Dv(){if(ry)return Jf;ry=1,Jf=f;var s=Is().codes,t=s.ERR_METHOD_NOT_IMPLEMENTED,r=s.ERR_MULTIPLE_CALLBACK,a=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=s.ERR_TRANSFORM_WITH_LENGTH_0,u=Cs();Si(f,u);function c(m,b){var _=this._transformState;_.transforming=!1;var S=_.writecb;if(S===null)return this.emit("error",new r);_.writechunk=null,_.writecb=null,b!=null&&this.push(b),S(m);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function f(m){if(!(this instanceof f))return new f(m);u.call(this,m),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",d)}function d(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,_){p(m,b,_)}):p(this,null,null)}f.prototype.push=function(m,b){return this._transformState.needTransform=!1,u.prototype.push.call(this,m,b)},f.prototype._transform=function(m,b,_){_(new t("_transform()"))},f.prototype._write=function(m,b,_){var S=this._transformState;if(S.writecb=_,S.writechunk=m,S.writeencoding=b,!S.transforming){var j=this._readableState;(S.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},f.prototype._read=function(m){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},f.prototype._destroy=function(m,b){u.prototype._destroy.call(this,m,function(_){b(_)})};function p(m,b,_){if(b)return m.emit("error",b);if(_!=null&&m.push(_),m._writableState.length)throw new l;if(m._transformState.transforming)throw new a;return m.push(null)}return Jf}var eh,iy;function A_(){if(iy)return eh;iy=1,eh=t;var s=Dv();Si(t,s);function t(r){if(!(this instanceof t))return new t(r);s.call(this,r)}return t.prototype._transform=function(r,a,l){l(null,r)},eh}var th,sy;function k_(){if(sy)return th;sy=1;var s;function t(_){var S=!1;return function(){S||(S=!0,_.apply(void 0,arguments))}}var r=Is().codes,a=r.ERR_MISSING_ARGS,l=r.ERR_STREAM_DESTROYED;function u(_){if(_)throw _}function c(_){return _.setHeader&&typeof _.abort=="function"}function f(_,S,j,E){E=t(E);var O=!1;_.on("close",function(){O=!0}),s===void 0&&(s=Yh()),s(_,{readable:S,writable:j},function(N){if(N)return E(N);O=!0,E()});var x=!1;return function(N){if(!O&&!x){if(x=!0,c(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();E(N||new l("pipe"))}}}function d(_){_()}function p(_,S){return _.pipe(S)}function m(_){return!_.length||typeof _[_.length-1]!="function"?u:_.pop()}function b(){for(var _=arguments.length,S=new Array(_),j=0;j<_;j++)S[j]=arguments[j];var E=m(S);if(Array.isArray(S[0])&&(S=S[0]),S.length<2)throw new a("streams");var O,x=S.map(function(N,U){var z=U<S.length-1,q=U>0;return f(N,z,q,function(ae){O||(O=ae),ae&&x.forEach(d),!z&&(x.forEach(d),E(O))})});return S.reduce(p)}return th=b,th}var Xh=Dn,Zh=Gh.EventEmitter,j_=Si;j_(Dn,Zh);Dn.Readable=Ov();Dn.Writable=Cv();Dn.Duplex=Cs();Dn.Transform=Dv();Dn.PassThrough=A_();Dn.finished=Yh();Dn.pipeline=k_();Dn.Stream=Dn;function Dn(){Zh.call(this)}Dn.prototype.pipe=function(s,t){var r=this;function a(m){s.writable&&s.write(m)===!1&&r.pause&&r.pause()}r.on("data",a);function l(){r.readable&&r.resume&&r.resume()}s.on("drain",l),!s._isStdio&&(!t||t.end!==!1)&&(r.on("end",c),r.on("close",f));var u=!1;function c(){u||(u=!0,s.end())}function f(){u||(u=!0,typeof s.destroy=="function"&&s.destroy())}function d(m){if(p(),Zh.listenerCount(this,"error")===0)throw m}r.on("error",d),s.on("error",d);function p(){r.removeListener("data",a),s.removeListener("drain",l),r.removeListener("end",c),r.removeListener("close",f),r.removeListener("error",d),s.removeListener("error",d),r.removeListener("end",p),r.removeListener("close",p),s.removeListener("close",p)}return r.on("end",p),r.on("close",p),s.on("close",p),s.emit("pipe",r),s};(function(s){(function(t){t.parser=function(R,k){return new a(R,k)},t.SAXParser=a,t.SAXStream=m,t.createStream=p,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function a(R,k){if(!(this instanceof a))return new a(R,k);var ie=this;u(ie),ie.q=ie.c="",ie.bufferCheckPosition=t.MAX_BUFFER_LENGTH,ie.opt=k||{},ie.opt.lowercase=ie.opt.lowercase||ie.opt.lowercasetags,ie.looseCase=ie.opt.lowercase?"toLowerCase":"toUpperCase",ie.tags=[],ie.closed=ie.closedRoot=ie.sawRoot=!1,ie.tag=ie.error=null,ie.strict=!!R,ie.noscript=!!(R||ie.opt.noscript),ie.state=L.BEGIN,ie.strictEntities=ie.opt.strictEntities,ie.ENTITIES=ie.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),ie.attribList=[],ie.opt.xmlns&&(ie.ns=Object.create(E)),ie.trackPosition=ie.opt.position!==!1,ie.trackPosition&&(ie.position=ie.line=ie.column=0),he(ie,"onready")}Object.create||(Object.create=function(R){function k(){}k.prototype=R;var ie=new k;return ie}),Object.keys||(Object.keys=function(R){var k=[];for(var ie in R)R.hasOwnProperty(ie)&&k.push(ie);return k});function l(R){for(var k=Math.max(t.MAX_BUFFER_LENGTH,10),ie=0,Z=0,F=r.length;Z<F;Z++){var K=R[r[Z]].length;if(K>k)switch(r[Z]){case"textNode":te(R);break;case"cdata":I(R,"oncdata",R.cdata),R.cdata="";break;case"script":I(R,"onscript",R.script),R.script="";break;default:re(R,"Max buffer length exceeded: "+r[Z])}ie=Math.max(ie,K)}var be=t.MAX_BUFFER_LENGTH-ie;R.bufferCheckPosition=be+R.position}function u(R){for(var k=0,ie=r.length;k<ie;k++)R[r[k]]=""}function c(R){te(R),R.cdata!==""&&(I(R,"oncdata",R.cdata),R.cdata=""),R.script!==""&&(I(R,"onscript",R.script),R.script="")}a.prototype={end:function(){W(this)},write:Q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){c(this)}};var f;try{f=Xh.Stream}catch{f=function(){}}var d=t.EVENTS.filter(function(R){return R!=="error"&&R!=="end"});function p(R,k){return new m(R,k)}function m(R,k){if(!(this instanceof m))return new m(R,k);f.apply(this),this._parser=new a(R,k),this.writable=!0,this.readable=!0;var ie=this;this._parser.onend=function(){ie.emit("end")},this._parser.onerror=function(Z){ie.emit("error",Z),ie._parser.error=null},this._decoder=null,d.forEach(function(Z){Object.defineProperty(ie,"on"+Z,{get:function(){return ie._parser["on"+Z]},set:function(F){if(!F)return ie.removeAllListeners(Z),ie._parser["on"+Z]=F,F;ie.on(Z,F)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(f.prototype,{constructor:{value:m}}),m.prototype.write=function(R){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(R)){if(!this._decoder){var k=Sh().StringDecoder;this._decoder=new k("utf8")}R=this._decoder.write(R)}return this._parser.write(R.toString()),this.emit("data",R),!0},m.prototype.end=function(R){return R&&R.length&&this.write(R),this._parser.end(),!0},m.prototype.on=function(R,k){var ie=this;return!ie._parser["on"+R]&&d.indexOf(R)!==-1&&(ie._parser["on"+R]=function(){var Z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Z.splice(0,0,R),ie.emit.apply(ie,Z)}),f.prototype.on.call(ie,R,k)};var b="[CDATA[",_="DOCTYPE",S="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",E={xml:S,xmlns:j},O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function z(R){return R===" "||R===`
`||R==="\r"||R==="	"}function q(R){return R==='"'||R==="'"}function ae(R){return R===">"||z(R)}function ne(R,k){return R.test(k)}function le(R,k){return!ne(R,k)}var L=0;t.STATE={BEGIN:L++,BEGIN_WHITESPACE:L++,TEXT:L++,TEXT_ENTITY:L++,OPEN_WAKA:L++,SGML_DECL:L++,SGML_DECL_QUOTED:L++,DOCTYPE:L++,DOCTYPE_QUOTED:L++,DOCTYPE_DTD:L++,DOCTYPE_DTD_QUOTED:L++,COMMENT_STARTING:L++,COMMENT:L++,COMMENT_ENDING:L++,COMMENT_ENDED:L++,CDATA:L++,CDATA_ENDING:L++,CDATA_ENDING_2:L++,PROC_INST:L++,PROC_INST_BODY:L++,PROC_INST_ENDING:L++,OPEN_TAG:L++,OPEN_TAG_SLASH:L++,ATTRIB:L++,ATTRIB_NAME:L++,ATTRIB_NAME_SAW_WHITE:L++,ATTRIB_VALUE:L++,ATTRIB_VALUE_QUOTED:L++,ATTRIB_VALUE_CLOSED:L++,ATTRIB_VALUE_UNQUOTED:L++,ATTRIB_VALUE_ENTITY_Q:L++,ATTRIB_VALUE_ENTITY_U:L++,CLOSE_TAG:L++,CLOSE_TAG_SAW_WHITE:L++,SCRIPT:L++,SCRIPT_ENDING:L++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(R){var k=t.ENTITIES[R],ie=typeof k=="number"?String.fromCharCode(k):k;t.ENTITIES[R]=ie});for(var oe in t.STATE)t.STATE[t.STATE[oe]]=oe;L=t.STATE;function he(R,k,ie){R[k]&&R[k](ie)}function I(R,k,ie){R.textNode&&te(R),he(R,k,ie)}function te(R){R.textNode=D(R.opt,R.textNode),R.textNode&&he(R,"ontext",R.textNode),R.textNode=""}function D(R,k){return R.trim&&(k=k.trim()),R.normalize&&(k=k.replace(/\s+/g," ")),k}function re(R,k){return te(R),R.trackPosition&&(k+=`
Line: `+R.line+`
Column: `+R.column+`
Char: `+R.c),k=new Error(k),R.error=k,he(R,"onerror",k),R}function W(R){return R.sawRoot&&!R.closedRoot&&X(R,"Unclosed root tag"),R.state!==L.BEGIN&&R.state!==L.BEGIN_WHITESPACE&&R.state!==L.TEXT&&re(R,"Unexpected end"),te(R),R.c="",R.closed=!0,he(R,"onend"),a.call(R,R.strict,R.opt),R}function X(R,k){if(typeof R!="object"||!(R instanceof a))throw new Error("bad call to strictFail");R.strict&&re(R,k)}function me(R){R.strict||(R.tagName=R.tagName[R.looseCase]());var k=R.tags[R.tags.length-1]||R,ie=R.tag={name:R.tagName,attributes:{}};R.opt.xmlns&&(ie.ns=k.ns),R.attribList.length=0,I(R,"onopentagstart",ie)}function ue(R,k){var ie=R.indexOf(":"),Z=ie<0?["",R]:R.split(":"),F=Z[0],K=Z[1];return k&&R==="xmlns"&&(F="xmlns",K=""),{prefix:F,local:K}}function G(R){if(R.strict||(R.attribName=R.attribName[R.looseCase]()),R.attribList.indexOf(R.attribName)!==-1||R.tag.attributes.hasOwnProperty(R.attribName)){R.attribName=R.attribValue="";return}if(R.opt.xmlns){var k=ue(R.attribName,!0),ie=k.prefix,Z=k.local;if(ie==="xmlns")if(Z==="xml"&&R.attribValue!==S)X(R,"xml: prefix must be bound to "+S+`
Actual: `+R.attribValue);else if(Z==="xmlns"&&R.attribValue!==j)X(R,"xmlns: prefix must be bound to "+j+`
Actual: `+R.attribValue);else{var F=R.tag,K=R.tags[R.tags.length-1]||R;F.ns===K.ns&&(F.ns=Object.create(K.ns)),F.ns[Z]=R.attribValue}R.attribList.push([R.attribName,R.attribValue])}else R.tag.attributes[R.attribName]=R.attribValue,I(R,"onattribute",{name:R.attribName,value:R.attribValue});R.attribName=R.attribValue=""}function $(R,k){if(R.opt.xmlns){var ie=R.tag,Z=ue(R.tagName);ie.prefix=Z.prefix,ie.local=Z.local,ie.uri=ie.ns[Z.prefix]||"",ie.prefix&&!ie.uri&&(X(R,"Unbound namespace prefix: "+JSON.stringify(R.tagName)),ie.uri=Z.prefix);var F=R.tags[R.tags.length-1]||R;ie.ns&&F.ns!==ie.ns&&Object.keys(ie.ns).forEach(function(V){I(R,"onopennamespace",{prefix:V,uri:ie.ns[V]})});for(var K=0,be=R.attribList.length;K<be;K++){var A=R.attribList[K],ge=A[0],C=A[1],g=ue(ge,!0),v=g.prefix,T=g.local,H=v===""?"":ie.ns[v]||"",ee={name:ge,value:C,prefix:v,local:T,uri:H};v&&v!=="xmlns"&&!H&&(X(R,"Unbound namespace prefix: "+JSON.stringify(v)),ee.uri=v),R.tag.attributes[ge]=ee,I(R,"onattribute",ee)}R.attribList.length=0}R.tag.isSelfClosing=!!k,R.sawRoot=!0,R.tags.push(R.tag),I(R,"onopentag",R.tag),k||(!R.noscript&&R.tagName.toLowerCase()==="script"?R.state=L.SCRIPT:R.state=L.TEXT,R.tag=null,R.tagName=""),R.attribName=R.attribValue="",R.attribList.length=0}function B(R){if(!R.tagName){X(R,"Weird empty close tag."),R.textNode+="</>",R.state=L.TEXT;return}if(R.script){if(R.tagName!=="script"){R.script+="</"+R.tagName+">",R.tagName="",R.state=L.SCRIPT;return}I(R,"onscript",R.script),R.script=""}var k=R.tags.length,ie=R.tagName;R.strict||(ie=ie[R.looseCase]());for(var Z=ie;k--;){var F=R.tags[k];if(F.name!==Z)X(R,"Unexpected close tag");else break}if(k<0){X(R,"Unmatched closing tag: "+R.tagName),R.textNode+="</"+R.tagName+">",R.state=L.TEXT;return}R.tagName=ie;for(var K=R.tags.length;K-- >k;){var be=R.tag=R.tags.pop();R.tagName=R.tag.name,I(R,"onclosetag",R.tagName);var A={};for(var ge in be.ns)A[ge]=be.ns[ge];var C=R.tags[R.tags.length-1]||R;R.opt.xmlns&&be.ns!==C.ns&&Object.keys(be.ns).forEach(function(g){var v=be.ns[g];I(R,"onclosenamespace",{prefix:g,uri:v})})}k===0&&(R.closedRoot=!0),R.tagName=R.attribValue=R.attribName="",R.attribList.length=0,R.state=L.TEXT}function Y(R){var k=R.entity,ie=k.toLowerCase(),Z,F="";return R.ENTITIES[k]?R.ENTITIES[k]:R.ENTITIES[ie]?R.ENTITIES[ie]:(k=ie,k.charAt(0)==="#"&&(k.charAt(1)==="x"?(k=k.slice(2),Z=parseInt(k,16),F=Z.toString(16)):(k=k.slice(1),Z=parseInt(k,10),F=Z.toString(10))),k=k.replace(/^0+/,""),isNaN(Z)||F.toLowerCase()!==k?(X(R,"Invalid character entity"),"&"+R.entity+";"):String.fromCodePoint(Z))}function J(R,k){k==="<"?(R.state=L.OPEN_WAKA,R.startTagPosition=R.position):z(k)||(X(R,"Non-whitespace before first tag."),R.textNode=k,R.state=L.TEXT)}function fe(R,k){var ie="";return k<R.length&&(ie=R.charAt(k)),ie}function Q(R){var k=this;if(this.error)throw this.error;if(k.closed)return re(k,"Cannot write after close. Assign an onready handler.");if(R===null)return W(k);typeof R=="object"&&(R=R.toString());for(var ie=0,Z="";Z=fe(R,ie++),k.c=Z,!!Z;)switch(k.trackPosition&&(k.position++,Z===`
`?(k.line++,k.column=0):k.column++),k.state){case L.BEGIN:if(k.state=L.BEGIN_WHITESPACE,Z==="\uFEFF")continue;J(k,Z);continue;case L.BEGIN_WHITESPACE:J(k,Z);continue;case L.TEXT:if(k.sawRoot&&!k.closedRoot){for(var F=ie-1;Z&&Z!=="<"&&Z!=="&";)Z=fe(R,ie++),Z&&k.trackPosition&&(k.position++,Z===`
`?(k.line++,k.column=0):k.column++);k.textNode+=R.substring(F,ie-1)}Z==="<"&&!(k.sawRoot&&k.closedRoot&&!k.strict)?(k.state=L.OPEN_WAKA,k.startTagPosition=k.position):(!z(Z)&&(!k.sawRoot||k.closedRoot)&&X(k,"Text data outside of root node."),Z==="&"?k.state=L.TEXT_ENTITY:k.textNode+=Z);continue;case L.SCRIPT:Z==="<"?k.state=L.SCRIPT_ENDING:k.script+=Z;continue;case L.SCRIPT_ENDING:Z==="/"?k.state=L.CLOSE_TAG:(k.script+="<"+Z,k.state=L.SCRIPT);continue;case L.OPEN_WAKA:if(Z==="!")k.state=L.SGML_DECL,k.sgmlDecl="";else if(!z(Z))if(ne(O,Z))k.state=L.OPEN_TAG,k.tagName=Z;else if(Z==="/")k.state=L.CLOSE_TAG,k.tagName="";else if(Z==="?")k.state=L.PROC_INST,k.procInstName=k.procInstBody="";else{if(X(k,"Unencoded <"),k.startTagPosition+1<k.position){var K=k.position-k.startTagPosition;Z=new Array(K).join(" ")+Z}k.textNode+="<"+Z,k.state=L.TEXT}continue;case L.SGML_DECL:(k.sgmlDecl+Z).toUpperCase()===b?(I(k,"onopencdata"),k.state=L.CDATA,k.sgmlDecl="",k.cdata=""):k.sgmlDecl+Z==="--"?(k.state=L.COMMENT,k.comment="",k.sgmlDecl=""):(k.sgmlDecl+Z).toUpperCase()===_?(k.state=L.DOCTYPE,(k.doctype||k.sawRoot)&&X(k,"Inappropriately located doctype declaration"),k.doctype="",k.sgmlDecl=""):Z===">"?(I(k,"onsgmldeclaration",k.sgmlDecl),k.sgmlDecl="",k.state=L.TEXT):(q(Z)&&(k.state=L.SGML_DECL_QUOTED),k.sgmlDecl+=Z);continue;case L.SGML_DECL_QUOTED:Z===k.q&&(k.state=L.SGML_DECL,k.q=""),k.sgmlDecl+=Z;continue;case L.DOCTYPE:Z===">"?(k.state=L.TEXT,I(k,"ondoctype",k.doctype),k.doctype=!0):(k.doctype+=Z,Z==="["?k.state=L.DOCTYPE_DTD:q(Z)&&(k.state=L.DOCTYPE_QUOTED,k.q=Z));continue;case L.DOCTYPE_QUOTED:k.doctype+=Z,Z===k.q&&(k.q="",k.state=L.DOCTYPE);continue;case L.DOCTYPE_DTD:k.doctype+=Z,Z==="]"?k.state=L.DOCTYPE:q(Z)&&(k.state=L.DOCTYPE_DTD_QUOTED,k.q=Z);continue;case L.DOCTYPE_DTD_QUOTED:k.doctype+=Z,Z===k.q&&(k.state=L.DOCTYPE_DTD,k.q="");continue;case L.COMMENT:Z==="-"?k.state=L.COMMENT_ENDING:k.comment+=Z;continue;case L.COMMENT_ENDING:Z==="-"?(k.state=L.COMMENT_ENDED,k.comment=D(k.opt,k.comment),k.comment&&I(k,"oncomment",k.comment),k.comment=""):(k.comment+="-"+Z,k.state=L.COMMENT);continue;case L.COMMENT_ENDED:Z!==">"?(X(k,"Malformed comment"),k.comment+="--"+Z,k.state=L.COMMENT):k.state=L.TEXT;continue;case L.CDATA:Z==="]"?k.state=L.CDATA_ENDING:k.cdata+=Z;continue;case L.CDATA_ENDING:Z==="]"?k.state=L.CDATA_ENDING_2:(k.cdata+="]"+Z,k.state=L.CDATA);continue;case L.CDATA_ENDING_2:Z===">"?(k.cdata&&I(k,"oncdata",k.cdata),I(k,"onclosecdata"),k.cdata="",k.state=L.TEXT):Z==="]"?k.cdata+="]":(k.cdata+="]]"+Z,k.state=L.CDATA);continue;case L.PROC_INST:Z==="?"?k.state=L.PROC_INST_ENDING:z(Z)?k.state=L.PROC_INST_BODY:k.procInstName+=Z;continue;case L.PROC_INST_BODY:if(!k.procInstBody&&z(Z))continue;Z==="?"?k.state=L.PROC_INST_ENDING:k.procInstBody+=Z;continue;case L.PROC_INST_ENDING:Z===">"?(I(k,"onprocessinginstruction",{name:k.procInstName,body:k.procInstBody}),k.procInstName=k.procInstBody="",k.state=L.TEXT):(k.procInstBody+="?"+Z,k.state=L.PROC_INST_BODY);continue;case L.OPEN_TAG:ne(x,Z)?k.tagName+=Z:(me(k),Z===">"?$(k):Z==="/"?k.state=L.OPEN_TAG_SLASH:(z(Z)||X(k,"Invalid character in tag name"),k.state=L.ATTRIB));continue;case L.OPEN_TAG_SLASH:Z===">"?($(k,!0),B(k)):(X(k,"Forward-slash in opening tag not followed by >"),k.state=L.ATTRIB);continue;case L.ATTRIB:if(z(Z))continue;Z===">"?$(k):Z==="/"?k.state=L.OPEN_TAG_SLASH:ne(O,Z)?(k.attribName=Z,k.attribValue="",k.state=L.ATTRIB_NAME):X(k,"Invalid attribute name");continue;case L.ATTRIB_NAME:Z==="="?k.state=L.ATTRIB_VALUE:Z===">"?(X(k,"Attribute without value"),k.attribValue=k.attribName,G(k),$(k)):z(Z)?k.state=L.ATTRIB_NAME_SAW_WHITE:ne(x,Z)?k.attribName+=Z:X(k,"Invalid attribute name");continue;case L.ATTRIB_NAME_SAW_WHITE:if(Z==="=")k.state=L.ATTRIB_VALUE;else{if(z(Z))continue;X(k,"Attribute without value"),k.tag.attributes[k.attribName]="",k.attribValue="",I(k,"onattribute",{name:k.attribName,value:""}),k.attribName="",Z===">"?$(k):ne(O,Z)?(k.attribName=Z,k.state=L.ATTRIB_NAME):(X(k,"Invalid attribute name"),k.state=L.ATTRIB)}continue;case L.ATTRIB_VALUE:if(z(Z))continue;q(Z)?(k.q=Z,k.state=L.ATTRIB_VALUE_QUOTED):(X(k,"Unquoted attribute value"),k.state=L.ATTRIB_VALUE_UNQUOTED,k.attribValue=Z);continue;case L.ATTRIB_VALUE_QUOTED:if(Z!==k.q){Z==="&"?k.state=L.ATTRIB_VALUE_ENTITY_Q:k.attribValue+=Z;continue}G(k),k.q="",k.state=L.ATTRIB_VALUE_CLOSED;continue;case L.ATTRIB_VALUE_CLOSED:z(Z)?k.state=L.ATTRIB:Z===">"?$(k):Z==="/"?k.state=L.OPEN_TAG_SLASH:ne(O,Z)?(X(k,"No whitespace between attributes"),k.attribName=Z,k.attribValue="",k.state=L.ATTRIB_NAME):X(k,"Invalid attribute name");continue;case L.ATTRIB_VALUE_UNQUOTED:if(!ae(Z)){Z==="&"?k.state=L.ATTRIB_VALUE_ENTITY_U:k.attribValue+=Z;continue}G(k),Z===">"?$(k):k.state=L.ATTRIB;continue;case L.CLOSE_TAG:if(k.tagName)Z===">"?B(k):ne(x,Z)?k.tagName+=Z:k.script?(k.script+="</"+k.tagName,k.tagName="",k.state=L.SCRIPT):(z(Z)||X(k,"Invalid tagname in closing tag"),k.state=L.CLOSE_TAG_SAW_WHITE);else{if(z(Z))continue;le(O,Z)?k.script?(k.script+="</"+Z,k.state=L.SCRIPT):X(k,"Invalid tagname in closing tag."):k.tagName=Z}continue;case L.CLOSE_TAG_SAW_WHITE:if(z(Z))continue;Z===">"?B(k):X(k,"Invalid characters in closing tag");continue;case L.TEXT_ENTITY:case L.ATTRIB_VALUE_ENTITY_Q:case L.ATTRIB_VALUE_ENTITY_U:var be,A;switch(k.state){case L.TEXT_ENTITY:be=L.TEXT,A="textNode";break;case L.ATTRIB_VALUE_ENTITY_Q:be=L.ATTRIB_VALUE_QUOTED,A="attribValue";break;case L.ATTRIB_VALUE_ENTITY_U:be=L.ATTRIB_VALUE_UNQUOTED,A="attribValue";break}Z===";"?(k[A]+=Y(k),k.entity="",k.state=be):ne(k.entity.length?U:N,Z)?k.entity+=Z:(X(k,"Invalid character in entity name"),k[A]+="&"+k.entity+Z,k.entity="",k.state=be);continue;default:throw new Error(k,"Unknown state: "+k.state)}return k.position>=k.bufferCheckPosition&&l(k),k}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var R=String.fromCharCode,k=Math.floor,ie=function(){var Z=16384,F=[],K,be,A=-1,ge=arguments.length;if(!ge)return"";for(var C="";++A<ge;){var g=Number(arguments[A]);if(!isFinite(g)||g<0||g>1114111||k(g)!==g)throw RangeError("Invalid code point: "+g);g<=65535?F.push(g):(g-=65536,K=(g>>10)+55296,be=g%1024+56320,F.push(K,be)),(A+1===ge||F.length>Z)&&(C+=R.apply(null,F),F.length=0)}return C};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ie,configurable:!0,writable:!0}):String.fromCodePoint=ie})()})(s)})(uv);var Qh={isArray:function(s){return Array.isArray?Array.isArray(s):Object.prototype.toString.call(s)==="[object Array]"}},N_=Qh.isArray,Jh={copyOptions:function(s){var t,r={};for(t in s)s.hasOwnProperty(t)&&(r[t]=s[t]);return r},ensureFlagExists:function(s,t){(!(s in t)||typeof t[s]!="boolean")&&(t[s]=!1)},ensureSpacesExists:function(s){(!("spaces"in s)||typeof s.spaces!="number"&&typeof s.spaces!="string")&&(s.spaces=0)},ensureAlwaysArrayExists:function(s){(!("alwaysArray"in s)||typeof s.alwaysArray!="boolean"&&!N_(s.alwaysArray))&&(s.alwaysArray=!1)},ensureKeyExists:function(s,t){(!(s+"Key"in t)||typeof t[s+"Key"]!="string")&&(t[s+"Key"]=t.compact?"_"+s:s)},checkFnExists:function(s,t){return s+"Fn"in t}},R_=uv,lt=Jh,js=Qh.isArray,Ee,He;function C_(s){return Ee=lt.copyOptions(s),lt.ensureFlagExists("ignoreDeclaration",Ee),lt.ensureFlagExists("ignoreInstruction",Ee),lt.ensureFlagExists("ignoreAttributes",Ee),lt.ensureFlagExists("ignoreText",Ee),lt.ensureFlagExists("ignoreComment",Ee),lt.ensureFlagExists("ignoreCdata",Ee),lt.ensureFlagExists("ignoreDoctype",Ee),lt.ensureFlagExists("compact",Ee),lt.ensureFlagExists("alwaysChildren",Ee),lt.ensureFlagExists("addParent",Ee),lt.ensureFlagExists("trim",Ee),lt.ensureFlagExists("nativeType",Ee),lt.ensureFlagExists("nativeTypeAttributes",Ee),lt.ensureFlagExists("sanitize",Ee),lt.ensureFlagExists("instructionHasAttributes",Ee),lt.ensureFlagExists("captureSpacesBetweenElements",Ee),lt.ensureAlwaysArrayExists(Ee),lt.ensureKeyExists("declaration",Ee),lt.ensureKeyExists("instruction",Ee),lt.ensureKeyExists("attributes",Ee),lt.ensureKeyExists("text",Ee),lt.ensureKeyExists("comment",Ee),lt.ensureKeyExists("cdata",Ee),lt.ensureKeyExists("doctype",Ee),lt.ensureKeyExists("type",Ee),lt.ensureKeyExists("name",Ee),lt.ensureKeyExists("elements",Ee),lt.ensureKeyExists("parent",Ee),Ee}function Uv(s){var t=Number(s);if(!isNaN(t))return t;var r=s.toLowerCase();return r==="true"?!0:r==="false"?!1:s}function eo(s,t){var r;if(Ee.compact){if(!He[Ee[s+"Key"]]&&(js(Ee.alwaysArray)?Ee.alwaysArray.indexOf(Ee[s+"Key"])!==-1:Ee.alwaysArray)&&(He[Ee[s+"Key"]]=[]),He[Ee[s+"Key"]]&&!js(He[Ee[s+"Key"]])&&(He[Ee[s+"Key"]]=[He[Ee[s+"Key"]]]),s+"Fn"in Ee&&typeof t=="string"&&(t=Ee[s+"Fn"](t,He)),s==="instruction"&&("instructionFn"in Ee||"instructionNameFn"in Ee)){for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in Ee)t[r]=Ee.instructionFn(t[r],r,He);else{var a=t[r];delete t[r],t[Ee.instructionNameFn(r,a,He)]=a}}js(He[Ee[s+"Key"]])?He[Ee[s+"Key"]].push(t):He[Ee[s+"Key"]]=t}else{He[Ee.elementsKey]||(He[Ee.elementsKey]=[]);var l={};if(l[Ee.typeKey]=s,s==="instruction"){for(r in t)if(t.hasOwnProperty(r))break;l[Ee.nameKey]="instructionNameFn"in Ee?Ee.instructionNameFn(r,t,He):r,Ee.instructionHasAttributes?(l[Ee.attributesKey]=t[r][Ee.attributesKey],"instructionFn"in Ee&&(l[Ee.attributesKey]=Ee.instructionFn(l[Ee.attributesKey],r,He))):("instructionFn"in Ee&&(t[r]=Ee.instructionFn(t[r],r,He)),l[Ee.instructionKey]=t[r])}else s+"Fn"in Ee&&(t=Ee[s+"Fn"](t,He)),l[Ee[s+"Key"]]=t;Ee.addParent&&(l[Ee.parentKey]=He),He[Ee.elementsKey].push(l)}}function Mv(s){if("attributesFn"in Ee&&s&&(s=Ee.attributesFn(s,He)),(Ee.trim||"attributeValueFn"in Ee||"attributeNameFn"in Ee||Ee.nativeTypeAttributes)&&s){var t;for(t in s)if(s.hasOwnProperty(t)&&(Ee.trim&&(s[t]=s[t].trim()),Ee.nativeTypeAttributes&&(s[t]=Uv(s[t])),"attributeValueFn"in Ee&&(s[t]=Ee.attributeValueFn(s[t],t,He)),"attributeNameFn"in Ee)){var r=s[t];delete s[t],s[Ee.attributeNameFn(t,s[t],He)]=r}}return s}function O_(s){var t={};if(s.body&&(s.name.toLowerCase()==="xml"||Ee.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,a;(a=r.exec(s.body))!==null;)t[a[1]]=a[2]||a[3]||a[4];t=Mv(t)}if(s.name.toLowerCase()==="xml"){if(Ee.ignoreDeclaration)return;He[Ee.declarationKey]={},Object.keys(t).length&&(He[Ee.declarationKey][Ee.attributesKey]=t),Ee.addParent&&(He[Ee.declarationKey][Ee.parentKey]=He)}else{if(Ee.ignoreInstruction)return;Ee.trim&&(s.body=s.body.trim());var l={};Ee.instructionHasAttributes&&Object.keys(t).length?(l[s.name]={},l[s.name][Ee.attributesKey]=t):l[s.name]=s.body,eo("instruction",l)}}function D_(s,t){var r;if(typeof s=="object"&&(t=s.attributes,s=s.name),t=Mv(t),"elementNameFn"in Ee&&(s=Ee.elementNameFn(s,He)),Ee.compact){if(r={},!Ee.ignoreAttributes&&t&&Object.keys(t).length){r[Ee.attributesKey]={};var a;for(a in t)t.hasOwnProperty(a)&&(r[Ee.attributesKey][a]=t[a])}!(s in He)&&(js(Ee.alwaysArray)?Ee.alwaysArray.indexOf(s)!==-1:Ee.alwaysArray)&&(He[s]=[]),He[s]&&!js(He[s])&&(He[s]=[He[s]]),js(He[s])?He[s].push(r):He[s]=r}else He[Ee.elementsKey]||(He[Ee.elementsKey]=[]),r={},r[Ee.typeKey]="element",r[Ee.nameKey]=s,!Ee.ignoreAttributes&&t&&Object.keys(t).length&&(r[Ee.attributesKey]=t),Ee.alwaysChildren&&(r[Ee.elementsKey]=[]),He[Ee.elementsKey].push(r);r[Ee.parentKey]=He,He=r}function U_(s){Ee.ignoreText||!s.trim()&&!Ee.captureSpacesBetweenElements||(Ee.trim&&(s=s.trim()),Ee.nativeType&&(s=Uv(s)),Ee.sanitize&&(s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),eo("text",s))}function M_(s){Ee.ignoreComment||(Ee.trim&&(s=s.trim()),eo("comment",s))}function L_(s){var t=He[Ee.parentKey];Ee.addParent||delete He[Ee.parentKey],He=t}function B_(s){Ee.ignoreCdata||(Ee.trim&&(s=s.trim()),eo("cdata",s))}function I_(s){Ee.ignoreDoctype||(s=s.replace(/^ /,""),Ee.trim&&(s=s.trim()),eo("doctype",s))}function z_(s){s.note=s}var Lv=function(s,t){var r=R_.parser(!0,{}),a={};if(He=a,Ee=C_(t),r.opt={strictEntities:!0},r.onopentag=D_,r.ontext=U_,r.oncomment=M_,r.onclosetag=L_,r.onerror=z_,r.oncdata=B_,r.ondoctype=I_,r.onprocessinginstruction=O_,r.write(s).close(),a[Ee.elementsKey]){var l=a[Ee.elementsKey];delete a[Ee.elementsKey],a[Ee.elementsKey]=l,delete a.text}return a},ay=Jh,P_=Lv;function F_(s){var t=ay.copyOptions(s);return ay.ensureSpacesExists(t),t}var H_=function(s,t){var r,a,l,u;return r=F_(t),a=P_(s,r),u="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?l=JSON.stringify(a,function(c,f){return c===u?"_":f},r.spaces):l=JSON.stringify(a,null,r.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},gt=Jh,q_=Qh.isArray,Xt,Zt;function $_(s){var t=gt.copyOptions(s);return gt.ensureFlagExists("ignoreDeclaration",t),gt.ensureFlagExists("ignoreInstruction",t),gt.ensureFlagExists("ignoreAttributes",t),gt.ensureFlagExists("ignoreText",t),gt.ensureFlagExists("ignoreComment",t),gt.ensureFlagExists("ignoreCdata",t),gt.ensureFlagExists("ignoreDoctype",t),gt.ensureFlagExists("compact",t),gt.ensureFlagExists("indentText",t),gt.ensureFlagExists("indentCdata",t),gt.ensureFlagExists("indentAttributes",t),gt.ensureFlagExists("indentInstruction",t),gt.ensureFlagExists("fullTagEmptyElement",t),gt.ensureFlagExists("noQuotesForNativeAttributes",t),gt.ensureSpacesExists(t),typeof t.spaces=="number"&&(t.spaces=Array(t.spaces+1).join(" ")),gt.ensureKeyExists("declaration",t),gt.ensureKeyExists("instruction",t),gt.ensureKeyExists("attributes",t),gt.ensureKeyExists("text",t),gt.ensureKeyExists("comment",t),gt.ensureKeyExists("cdata",t),gt.ensureKeyExists("doctype",t),gt.ensureKeyExists("type",t),gt.ensureKeyExists("name",t),gt.ensureKeyExists("elements",t),t}function Zn(s,t,r){return(!r&&s.spaces?`
`:"")+Array(t+1).join(s.spaces)}function Vl(s,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(s=t.attributesFn(s,Zt,Xt));var a,l,u,c,f=[];for(a in s)s.hasOwnProperty(a)&&s[a]!==null&&s[a]!==void 0&&(c=t.noQuotesForNativeAttributes&&typeof s[a]!="string"?"":'"',l=""+s[a],l=l.replace(/"/g,"&quot;"),u="attributeNameFn"in t?t.attributeNameFn(a,l,Zt,Xt):a,f.push(t.spaces&&t.indentAttributes?Zn(t,r+1,!1):" "),f.push(u+"="+c+("attributeValueFn"in t?t.attributeValueFn(l,a,Zt,Xt):l)+c));return s&&Object.keys(s).length&&t.spaces&&t.indentAttributes&&f.push(Zn(t,r,!1)),f.join("")}function Bv(s,t,r){return Xt=s,Zt="xml",t.ignoreDeclaration?"":"<?xml"+Vl(s[t.attributesKey],t,r)+"?>"}function Iv(s,t,r){if(t.ignoreInstruction)return"";var a;for(a in s)if(s.hasOwnProperty(a))break;var l="instructionNameFn"in t?t.instructionNameFn(a,s[a],Zt,Xt):a;if(typeof s[a]=="object")return Xt=s,Zt=l,"<?"+l+Vl(s[a][t.attributesKey],t,r)+"?>";var u=s[a]?s[a]:"";return"instructionFn"in t&&(u=t.instructionFn(u,a,Zt,Xt)),"<?"+l+(u?" "+u:"")+"?>"}function zv(s,t){return t.ignoreComment?"":"<!--"+("commentFn"in t?t.commentFn(s,Zt,Xt):s)+"-->"}function Pv(s,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(s,Zt,Xt):s.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Fv(s,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(s,Zt,Xt):s)+">"}function ed(s,t){return t.ignoreText?"":(s=""+s,s=s.replace(/&amp;/g,"&"),s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(s,Zt,Xt):s)}function G_(s,t){var r;if(s.elements&&s.elements.length)for(r=0;r<s.elements.length;++r)switch(s.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function K_(s,t,r){Xt=s,Zt=s.name;var a=[],l="elementNameFn"in t?t.elementNameFn(s.name,s):s.name;a.push("<"+l),s[t.attributesKey]&&a.push(Vl(s[t.attributesKey],t,r));var u=s[t.elementsKey]&&s[t.elementsKey].length||s[t.attributesKey]&&s[t.attributesKey]["xml:space"]==="preserve";return u||("fullTagEmptyElementFn"in t?u=t.fullTagEmptyElementFn(s.name,s):u=t.fullTagEmptyElement),u?(a.push(">"),s[t.elementsKey]&&s[t.elementsKey].length&&(a.push(Hv(s[t.elementsKey],t,r+1)),Xt=s,Zt=s.name),a.push(t.spaces&&G_(s,t)?`
`+Array(r+1).join(t.spaces):""),a.push("</"+l+">")):a.push("/>"),a.join("")}function Hv(s,t,r,a){return s.reduce(function(l,u){var c=Zn(t,r,a&&!l);switch(u.type){case"element":return l+c+K_(u,t,r);case"comment":return l+c+zv(u[t.commentKey],t);case"doctype":return l+c+Fv(u[t.doctypeKey],t);case"cdata":return l+(t.indentCdata?c:"")+Pv(u[t.cdataKey],t);case"text":return l+(t.indentText?c:"")+ed(u[t.textKey],t);case"instruction":var f={};return f[u[t.nameKey]]=u[t.attributesKey]?u:u[t.instructionKey],l+(t.indentInstruction?c:"")+Iv(f,t,r)}},"")}function qv(s,t,r){var a;for(a in s)if(s.hasOwnProperty(a))switch(a){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:return!0;default:return!0}return!1}function V_(s,t,r,a,l){Xt=s,Zt=t;var u="elementNameFn"in r?r.elementNameFn(t,s):t;if(typeof s>"u"||s===null||s==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,s)||r.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var c=[];if(t){if(c.push("<"+u),typeof s!="object")return c.push(">"+ed(s,r)+"</"+u+">"),c.join("");s[r.attributesKey]&&c.push(Vl(s[r.attributesKey],r,a));var f=qv(s,r,!0)||s[r.attributesKey]&&s[r.attributesKey]["xml:space"]==="preserve";if(f||("fullTagEmptyElementFn"in r?f=r.fullTagEmptyElementFn(t,s):f=r.fullTagEmptyElement),f)c.push(">");else return c.push("/>"),c.join("")}return c.push($v(s,r,a+1,!1)),Xt=s,Zt=t,t&&c.push((l?Zn(r,a,!1):"")+"</"+u+">"),c.join("")}function $v(s,t,r,a){var l,u,c,f=[];for(u in s)if(s.hasOwnProperty(u))for(c=q_(s[u])?s[u]:[s[u]],l=0;l<c.length;++l){switch(u){case t.declarationKey:f.push(Bv(c[l],t,r));break;case t.instructionKey:f.push((t.indentInstruction?Zn(t,r,a):"")+Iv(c[l],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:f.push((t.indentText?Zn(t,r,a):"")+ed(c[l],t));break;case t.cdataKey:f.push((t.indentCdata?Zn(t,r,a):"")+Pv(c[l],t));break;case t.doctypeKey:f.push(Zn(t,r,a)+Fv(c[l],t));break;case t.commentKey:f.push(Zn(t,r,a)+zv(c[l],t));break;default:f.push(Zn(t,r,a)+V_(c[l],u,t,r,qv(c[l],t)))}a=a&&!f.length}return f.join("")}var Gv=function(s,t){t=$_(t);var r=[];return Xt=s,Zt="_root_",t.compact?r.push($v(s,t,0,!0)):(s[t.declarationKey]&&r.push(Bv(s[t.declarationKey],t,0)),s[t.elementsKey]&&s[t.elementsKey].length&&r.push(Hv(s[t.elementsKey],t,0,!r.length))),r.join("")},W_=Gv,Y_=function(s,t){s instanceof Buffer&&(s=s.toString());var r=null;if(typeof s=="string")try{r=JSON.parse(s)}catch{throw new Error("The JSON structure is invalid")}else r=s;return W_(r,t)},X_=Lv,Z_=H_,Q_=Gv,J_=Y_,Kv={xml2js:X_,xml2json:Z_,js2xml:Q_,json2xml:J_};const td=s=>{switch(s.type){case void 0:case"element":const t=new tS(s.name,s.attributes),r=s.elements||[];for(const a of r){const l=td(a);l!==void 0&&t.push(l)}return t;case"text":return s.text;default:return}};class eS extends Fe{}class tS extends Re{static fromXmlString(t){const r=Kv.xml2js(t,{compact:!1});return td(r)}constructor(t,r){super(t),r&&this.root.push(new eS(r))}push(t){this.root.push(t)}}class nS extends Re{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class Vv extends Re{constructor(t,r){super(t),r&&(this.root=r.root)}}const ln=s=>{if(isNaN(s))throw new Error(`Invalid value '${s}' specified. Must be an integer.`);return Math.floor(s)},Wl=s=>{const t=ln(s);if(t<0)throw new Error(`Invalid value '${s}' specified. Must be a positive integer.`);return t},Wv=(s,t)=>{const r=t*2;if(s.length!==r||isNaN(+`0x${s}`))throw new Error(`Invalid hex value '${s}'. Expected ${r} digit hex value`);return s},oy=s=>Wv(s,1),Yv=s=>{const t=s.slice(-2),r=s.substring(0,s.length-2);return`${Number(r)}${t}`},Xv=s=>{const t=Yv(s);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},Os=s=>{if(s==="auto")return s;const t=s.charAt(0)==="#"?s.substring(1):s;return Wv(t,3)},xi=s=>typeof s=="string"?Yv(s):ln(s),rS=s=>typeof s=="string"?Xv(s):Wl(s),zn=s=>typeof s=="string"?Xv(s):Wl(s),iS=Wl,sS=Wl,aS=s=>s.toISOString();class Oe extends Re{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Rt({val:r}))}}class nh extends Re{constructor(t,r){super(t),this.root.push(new Rt({val:rS(r)}))}}class Ns extends Re{constructor(t,r){super(t),this.root.push(new Rt({val:r}))}}const Fa=(s,t)=>new Kr({name:s,attributes:{value:{key:"w:val",value:t}}});class nd extends Re{constructor(t,r){super(t),this.root.push(new Rt({val:r}))}}class di extends Re{constructor(t,r){super(t),this.root.push(r)}}class Kr extends Re{constructor({name:t,attributes:r,children:a}){super(t),r&&this.root.push(new Ja(r)),a&&this.root.push(...a)}}const On={START:"start",CENTER:"center",LEFT:"left"};class oS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class lS extends Re{constructor(t){super("w:jc"),this.root.push(new oS({val:t}))}}class At extends Re{constructor(t,{color:r,size:a,space:l,style:u}){super(t),this.root.push(new uS({style:u,color:r===void 0?void 0:Os(r),size:a===void 0?void 0:iS(a),space:l===void 0?void 0:sS(l)}))}}class uS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const rd={SINGLE:"single",NONE:"none"};class cS extends $l{constructor(t){super("w:pBdr"),t.top&&this.root.push(new At("w:top",t.top)),t.bottom&&this.root.push(new At("w:bottom",t.bottom)),t.left&&this.root.push(new At("w:left",t.left)),t.right&&this.root.push(new At("w:right",t.right))}}class fS extends Re{constructor(){super("w:pBdr");const t=new At("w:bottom",{color:"auto",space:1,style:rd.SINGLE,size:6});this.root.push(t)}}class hS extends Re{constructor({start:t,end:r,left:a,right:l,hanging:u,firstLine:c}){super("w:ind"),this.root.push(new Ja({start:{key:"w:start",value:t===void 0?void 0:xi(t)},end:{key:"w:end",value:r===void 0?void 0:xi(r)},left:{key:"w:left",value:a===void 0?void 0:xi(a)},right:{key:"w:right",value:l===void 0?void 0:xi(l)},hanging:{key:"w:hanging",value:u===void 0?void 0:zn(u)},firstLine:{key:"w:firstLine",value:c===void 0?void 0:zn(c)}}))}}let dS=class extends Re{constructor(){super("w:br")}};const id={BEGIN:"begin",END:"end",SEPARATE:"separate"};class sd extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class xl extends Re{constructor(t){super("w:fldChar"),this.root.push(new sd({type:id.BEGIN,dirty:t}))}}class _l extends Re{constructor(t){super("w:fldChar"),this.root.push(new sd({type:id.SEPARATE,dirty:t}))}}class Sl extends Re{constructor(t){super("w:fldChar"),this.root.push(new sd({type:id.END,dirty:t}))}}const Ds={DEFAULT:"default",PRESERVE:"preserve"};class Us extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{space:"xml:space"})}}class pS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("PAGE")}}class mS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("NUMPAGES")}}class gS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("SECTIONPAGES")}}class yS extends Re{constructor(){super("w:instrText"),this.root.push(new Us({space:Ds.PRESERVE})),this.root.push("SECTION")}}class vS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Zv extends Re{constructor({fill:t,color:r,type:a}){super("w:shd"),this.root.push(new vS({fill:t===void 0?void 0:Os(t),color:r===void 0?void 0:Os(r),type:a}))}}class wS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const bS={DOT:"dot"};class xS extends Re{constructor(t){super("w:em"),this.root.push(new Rt({val:t}))}}class _S extends xS{constructor(t=bS.DOT){super(t)}}class SS extends Re{constructor(t){super("w:spacing"),this.root.push(new Rt({val:xi(t)}))}}class ES extends Re{constructor(t){super("w:color"),this.root.push(new Rt({val:Os(t)}))}}class TS extends Re{constructor(t){super("w:highlight"),this.root.push(new Rt({val:t}))}}class AS extends Re{constructor(t){super("w:highlightCs"),this.root.push(new Rt({val:t}))}}const kS=s=>new Kr({name:"w:lang",attributes:{value:{key:"w:val",value:s.value},eastAsia:{key:"w:eastAsia",value:s.eastAsia},bidirectional:{key:"w:bidi",value:s.bidirectional}}});class ly extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class rh extends Re{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const a=t;this.root.push(new ly({ascii:a,cs:a,eastAsia:a,hAnsi:a,hint:r}))}else{const a=t;this.root.push(new ly(a))}}}let Qv=class extends Re{constructor(t){super("w:vertAlign"),this.root.push(new Rt({val:t}))}};class jS extends Qv{constructor(){super("superscript")}}class NS extends Qv{constructor(){super("subscript")}}const Jv={SINGLE:"single"};class RS extends Re{constructor(t=Jv.SINGLE,r){super("w:u"),this.root.push(new Rt({val:t,color:r===void 0?void 0:Os(r)}))}}class Ei extends $l{constructor(t){var r,a;if(super("w:rPr"),!t)return;t.noProof!==void 0&&this.push(new Oe("w:noProof",t.noProof)),t.bold!==void 0&&this.push(new Oe("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Oe("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Oe("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Oe("w:iCs",(a=t.italicsComplexScript)!=null?a:t.italics)),t.underline&&this.push(new RS(t.underline.type,t.underline.color)),t.effect&&this.push(new Ns("w:effect",t.effect)),t.emphasisMark&&this.push(new _S(t.emphasisMark.type)),t.color&&this.push(new ES(t.color)),t.kern&&this.push(new nh("w:kern",t.kern)),t.position&&this.push(new Ns("w:position",t.position)),t.size!==void 0&&this.push(new nh("w:sz",t.size));const l=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;l&&this.push(new nh("w:szCs",l)),t.rightToLeft!==void 0&&this.push(new Oe("w:rtl",t.rightToLeft)),t.smallCaps!==void 0?this.push(new Oe("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Oe("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Oe("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Oe("w:dstrike",t.doubleStrike)),t.subScript&&this.push(new NS),t.superScript&&this.push(new jS),t.style&&this.push(new Ns("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new rh(t.font)):"name"in t.font?this.push(new rh(t.font.name,t.font.hint)):this.push(new rh(t.font))),t.highlight&&this.push(new TS(t.highlight));const u=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;u&&this.push(new AS(u)),t.characterSpacing&&this.push(new SS(t.characterSpacing)),t.emboss!==void 0&&this.push(new Oe("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Oe("w:imprint",t.imprint)),t.shading&&this.push(new Zv(t.shading)),t.revision&&this.push(new CS(t.revision)),t.border&&this.push(new At("w:bdr",t.border)),t.snapToGrid!==void 0&&this.push(new Oe("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Oe("w:vanish",t.vanish)),t.specVanish&&this.push(new Oe("w:specVanish",t.vanish)),t.scale!==void 0&&this.push(new nd("w:w",t.scale)),t.language&&this.push(kS(t.language)),t.math&&this.push(new Oe("w:oMath",t.math))}push(t){this.root.push(t)}}class CS extends Re{constructor(t){super("w:rPrChange"),this.root.push(new wS({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Ei(t))}}class Eh extends Re{constructor(t){var r;return super("w:t"),typeof t=="string"?(this.root.push(new Us({space:Ds.PRESERVE})),this.root.push(t),this):(this.root.push(new Us({space:(r=t.space)!=null?r:Ds.DEFAULT})),this.root.push(t.text),this)}}const El={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Yl extends Re{constructor(t){if(super("w:r"),je(this,"properties"),this.properties=new Ei(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new dS);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case El.CURRENT:this.root.push(new xl),this.root.push(new pS),this.root.push(new _l),this.root.push(new Sl);break;case El.TOTAL_PAGES:this.root.push(new xl),this.root.push(new mS),this.root.push(new _l),this.root.push(new Sl);break;case El.TOTAL_PAGES_IN_SECTION:this.root.push(new xl),this.root.push(new gS),this.root.push(new _l),this.root.push(new Sl);break;case El.CURRENT_SECTION:this.root.push(new xl),this.root.push(new yS),this.root.push(new _l),this.root.push(new Sl);break;default:this.root.push(new Eh(r));break}continue}this.root.push(r)}else t.text&&this.root.push(new Eh(t.text))}}class vt extends Yl{constructor(t){if(typeof t=="string")return super({}),this.root.push(new Eh(t)),this;super(t)}}let OS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",DS=(s,t=21)=>(r=t)=>{let a="",l=r;for(;l--;)a+=s[Math.random()*s.length|0];return a},US=(s=21)=>{let t="",r=s;for(;r--;)t+=OS[Math.random()*64|0];return t};const Bn=s=>Math.floor(s*72*20),ad=(s=0)=>{let t=s;return()=>++t},MS=()=>ad(),LS=()=>ad(1),BS=()=>ad(),IS=()=>US().toLowerCase(),Ha=s=>DS("1234567890abcdef",s)(),zS=()=>`${Ha(8)}-${Ha(4)}-${Ha(4)}-${Ha(4)}-${Ha(12)}`;class PS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class FS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class HS extends Re{constructor({id:t,initials:r,author:a,date:l=new Date,children:u}){super("w:comment"),this.root.push(new PS({id:t,initials:r,author:a,date:l.toISOString()}));for(const c of u)this.root.push(c)}}class qS extends Re{constructor({children:t}){super("w:comments"),this.root.push(new FS({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new HS(r))}}class $S extends Re{constructor(){super("w:pageBreakBefore")}}const Th={AUTO:"auto"};class GS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class KS extends Re{constructor(t){super("w:spacing"),this.root.push(new GS(t))}}const vn={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",TITLE:"Title"};let Tl=class extends Re{constructor(t){super("w:pStyle"),this.root.push(new Rt({val:t}))}};class VS extends Re{constructor(t){super("w:tabs");for(const r of t)this.root.push(new YS(r))}}const uy={LEFT:"left",RIGHT:"right"};class WS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class YS extends Re{constructor({type:t,position:r,leader:a}){super("w:tab"),this.root.push(new WS({val:t,pos:r,leader:a}))}}class cy extends Re{constructor(t,r){super("w:numPr"),this.root.push(new XS(r)),this.root.push(new ZS(t))}}class XS extends Re{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Rt({val:t}))}}class ZS extends Re{constructor(t){super("w:numId"),this.root.push(new Rt({val:typeof t=="string"?`{${t}}`:t}))}}class QS extends Re{constructor(){super(...arguments),je(this,"fileChild",Symbol())}}class JS extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const eE={EXTERNAL:"External"};class tE extends Re{constructor(t,r,a,l){super("Relationship"),this.root.push(new JS({id:t,type:r,target:a,targetMode:l}))}}class nE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class rE extends Re{constructor(t,r,a){super("w:hyperlink"),je(this,"linkId"),this.linkId=r;const l={history:1,anchor:a||void 0,id:a?void 0:`rId${this.linkId}`},u=new nE(l);this.root.push(u),t.forEach(c=>{this.root.push(c)})}}class ew extends Re{constructor(t){super("w:externalHyperlink"),this.options=t}}class iE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class sE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{id:"w:id"})}}class aE{constructor(t){je(this,"bookmarkUniqueNumericId",BS()),je(this,"start"),je(this,"children"),je(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new oE(t.id,r),this.children=t.children,this.end=new lE(r)}}class oE extends Re{constructor(t,r){super("w:bookmarkStart");const a=new iE({name:t,id:r});this.root.push(a)}}class lE extends Re{constructor(t){super("w:bookmarkEnd");const r=new sE({id:t});this.root.push(r)}}class uE extends Re{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Rt({val:t}))}}class cE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{verticalAlign:"w:val"})}}class fE extends Re{constructor(t){super("w:vAlign"),this.root.push(new cE({verticalAlign:t}))}}const Rs={DEFAULT:"default",FIRST:"first",EVEN:"even"};class hE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const fy={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class ih extends Re{constructor(t,r){super(t),this.root.push(new hE({type:r.type||Rs.DEFAULT,id:`rId${r.id}`}))}}class dE extends Re{constructor({space:t,count:r,separate:a,equalWidth:l,children:u}){super("w:cols"),this.root.push(new Ja({space:{key:"w:space",value:t===void 0?void 0:zn(t)},count:{key:"w:num",value:r===void 0?void 0:ln(r)},separate:{key:"w:sep",value:a},equalWidth:{key:"w:equalWidth",value:l}})),!l&&u&&u.forEach(c=>this.addChildElement(c))}}class pE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class mE extends Re{constructor(t,r,a){super("w:docGrid"),this.root.push(new pE({type:a,linePitch:ln(t),charSpace:r?ln(r):void 0}))}}const gE=({countBy:s,start:t,restart:r,distance:a})=>new Kr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:s===void 0?void 0:ln(s)},start:{key:"w:start",value:t===void 0?void 0:ln(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:a===void 0?void 0:zn(a)}}});class hy extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class yE extends $l{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new hy({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new hy({})),t.pageBorderTop&&this.root.push(new At("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new At("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new At("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new At("w:right",t.pageBorderRight))}}class vE extends Re{constructor(t,r,a,l,u,c,f){super("w:pgMar"),this.root.push(new Ja({top:{key:"w:top",value:xi(t)},right:{key:"w:right",value:zn(r)},bottom:{key:"w:bottom",value:xi(a)},left:{key:"w:left",value:zn(l)},header:{key:"w:header",value:zn(u)},footer:{key:"w:footer",value:zn(c)},gutter:{key:"w:gutter",value:zn(f)}}))}}class wE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class bE extends Re{constructor({start:t,formatType:r,separator:a}){super("w:pgNumType"),this.root.push(new wE({start:t===void 0?void 0:ln(t),formatType:r,separator:a}))}}const tw={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class xE extends Re{constructor(t,r,a){super("w:pgSz");const l=a===tw.LANDSCAPE,u=zn(t),c=zn(r);this.root.push(new Ja({width:{key:"w:w",value:l?c:u},height:{key:"w:h",value:l?u:c},orientation:{key:"w:orient",value:a}}))}}class _E extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class SE extends Re{constructor(t){super("w:textDirection"),this.root.push(new _E({val:t}))}}const EE={NEXT_PAGE:"nextPage"};class TE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class AE extends Re{constructor(t){super("w:type"),this.root.push(new TE({val:t}))}}const pi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},sh={WIDTH:11906,HEIGHT:16838,ORIENTATION:tw.PORTRAIT};class kE extends Re{constructor({page:{size:{width:t=sh.WIDTH,height:r=sh.HEIGHT,orientation:a=sh.ORIENTATION}={},margin:{top:l=pi.TOP,right:u=pi.RIGHT,bottom:c=pi.BOTTOM,left:f=pi.LEFT,header:d=pi.HEADER,footer:p=pi.FOOTER,gutter:m=pi.GUTTER}={},pageNumbers:b={},borders:_,textDirection:S}={},grid:{linePitch:j=360,charSpace:E,type:O}={},headerWrapperGroup:x={},footerWrapperGroup:N={},lineNumbers:U,titlePage:z,verticalAlign:q,column:ae,type:ne}={}){super("w:sectPr"),this.addHeaderFooterGroup(fy.HEADER,x),this.addHeaderFooterGroup(fy.FOOTER,N),ne&&this.root.push(new AE(ne)),this.root.push(new xE(t,r,a)),this.root.push(new vE(l,u,c,f,d,p,m)),_&&this.root.push(new yE(_)),U&&this.root.push(gE(U)),this.root.push(new bE(b)),ae&&this.root.push(new dE(ae)),q&&this.root.push(new fE(q)),z!==void 0&&this.root.push(new Oe("w:titlePg",z)),S&&this.root.push(new SE(S)),this.root.push(new mE(j,E,O))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new ih(t,{type:Rs.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new ih(t,{type:Rs.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new ih(t,{type:Rs.EVEN,id:r.even.View.ReferenceId}))}}class jE extends Re{constructor(){super("w:body"),je(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new kE(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new wt({}),a=new Ms({});return a.push(t),r.addChildElement(a),r}}class to extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class NE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class RE extends Re{constructor(t){super("w:background"),this.root.push(new NE({color:t.color===void 0?void 0:Os(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:oy(t.themeShade),themeTint:t.themeTint===void 0?void 0:oy(t.themeTint)}))}}class CE extends Re{constructor(t){super("w:document"),je(this,"body"),this.root.push(new to({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new jE,t.background&&this.root.push(new RE(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class OE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns"})}}class zs extends Re{constructor(){super("Relationships"),this.root.push(new OE({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,a,l){const u=new tE(`rId${t}`,r,a,l);return this.root.push(u),u}get RelationshipCount(){return this.root.length-1}}class nw{constructor(t){je(this,"document"),je(this,"relationships"),this.document=new CE(t),this.relationships=new zs}get View(){return this.document}get Relationships(){return this.relationships}}class DE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class UE extends Re{constructor(){super("w:wordWrap"),this.root.push(new DE({val:0}))}}const ME=s=>{var t,r;return new Kr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:s.anchorLock},dropCap:{key:"w:dropCap",value:s.dropCap},width:{key:"w:w",value:s.width},height:{key:"w:h",value:s.height},x:{key:"w:x",value:s.position?s.position.x:void 0},y:{key:"w:y",value:s.position?s.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:s.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:s.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=s.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=s.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:s.rule},alignmentX:{key:"w:xAlign",value:s.alignment?s.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:s.alignment?s.alignment.y:void 0},lines:{key:"w:lines",value:s.lines},wrap:{key:"w:wrap",value:s.wrap}}})};class Ms extends $l{constructor(t){var r,a;if(super("w:pPr"),je(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Tl(t.heading)),t.bullet&&this.push(new Tl("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Tl("ListParagraph"))),t.style&&this.push(new Tl(t.style)),t.keepNext!==void 0&&this.push(new Oe("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Oe("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new $S),t.frame&&this.push(ME(t.frame)),t.widowControl!==void 0&&this.push(new Oe("w:widowControl",t.widowControl)),t.bullet&&this.push(new cy(1,t.bullet.level)),t.numbering&&(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new cy(`${t.numbering.reference}-${(a=t.numbering.instance)!=null?a:0}`,t.numbering.level))),t.border&&this.push(new cS(t.border)),t.thematicBreak&&this.push(new fS),t.shading&&this.push(new Zv(t.shading)),t.wordWrap&&this.push(new UE),t.overflowPunctuation&&this.push(new Oe("w:overflowPunct",t.overflowPunctuation));const l=[...t.rightTabStop!==void 0?[{type:uy.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:uy.LEFT,position:t.leftTabStop}]:[]];l.length>0&&this.push(new VS(l)),t.bidirectional!==void 0&&this.push(new Oe("w:bidi",t.bidirectional)),t.spacing&&this.push(new KS(t.spacing)),t.indent&&this.push(new hS(t.indent)),t.contextualSpacing!==void 0&&this.push(new Oe("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new lS(t.alignment)),t.outlineLevel!==void 0&&this.push(new uE(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Oe("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Oe("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Ei(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof nw)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class wt extends QS{constructor(t){if(super("w:p"),je(this,"properties"),typeof t=="string")return this.properties=new Ms({}),this.root.push(this.properties),this.root.push(new vt(t)),this;if(this.properties=new Ms(t),this.root.push(this.properties),t.text&&this.root.push(new vt(t.text)),t.children)for(const r of t.children){if(r instanceof aE){this.root.push(r.start);for(const a of r.children)this.root.push(a);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof ew){const a=this.root.indexOf(r),l=new rE(r.options.children,IS());t.viewWrapper.Relationships.createRelationship(l.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,eE.EXTERNAL),this.root[a]=l}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const fs={style:rd.NONE,size:0,color:"auto"},hs={style:rd.SINGLE,size:4,color:"auto"};class LE extends Re{constructor(t){super("w:tblBorders"),t.top?this.root.push(new At("w:top",t.top)):this.root.push(new At("w:top",hs)),t.left?this.root.push(new At("w:left",t.left)):this.root.push(new At("w:left",hs)),t.bottom?this.root.push(new At("w:bottom",t.bottom)):this.root.push(new At("w:bottom",hs)),t.right?this.root.push(new At("w:right",t.right)):this.root.push(new At("w:right",hs)),t.insideHorizontal?this.root.push(new At("w:insideH",t.insideHorizontal)):this.root.push(new At("w:insideH",hs)),t.insideVertical?this.root.push(new At("w:insideV",t.insideVertical)):this.root.push(new At("w:insideV",hs))}}je(LE,"NONE",{top:fs,bottom:fs,left:fs,right:fs,insideHorizontal:fs,insideVertical:fs});class BE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class IE extends Re{constructor(){super("Properties"),this.root.push(new BE({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class zE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns"})}}class PE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Hr extends Re{constructor(t,r){super("Default"),this.root.push(new PE({contentType:t,extension:r}))}}class FE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Nn extends Re{constructor(t,r){super("Override"),this.root.push(new FE({contentType:t,partName:r}))}}class HE extends Re{constructor(){super("Types"),this.root.push(new zE({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Hr("image/png","png")),this.root.push(new Hr("image/jpeg","jpeg")),this.root.push(new Hr("image/jpeg","jpg")),this.root.push(new Hr("image/bmp","bmp")),this.root.push(new Hr("image/gif","gif")),this.root.push(new Hr("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Hr("application/xml","xml")),this.root.push(new Hr("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Nn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new Nn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class qE extends Re{constructor(t){super("cp:coreProperties"),this.root.push(new to({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),t.title&&this.root.push(new di("dc:title",t.title)),t.subject&&this.root.push(new di("dc:subject",t.subject)),t.creator&&this.root.push(new di("dc:creator",t.creator)),t.keywords&&this.root.push(new di("cp:keywords",t.keywords)),t.description&&this.root.push(new di("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new di("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new di("cp:revision",String(t.revision))),this.root.push(new dy("dcterms:created")),this.root.push(new dy("dcterms:modified"))}}class dy extends Re{constructor(t){super(t),this.root.push(new to({type:"dcterms:W3CDTF"})),this.root.push(aS(new Date))}}class $E extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class GE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class KE extends Re{constructor(t,r){super("property"),this.root.push(new GE({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new VE(r.value))}}class VE extends Re{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class WE extends Re{constructor(t){super("Properties"),je(this,"nextId"),je(this,"properties",[]),this.root.push(new $E({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new KE(this.nextId++,t))}}class YE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let XE=class extends Vv{constructor(t,r){super("w:ftr",r),je(this,"refId"),this.refId=t,r||this.root.push(new YE({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class ZE{constructor(t,r,a){je(this,"footer"),je(this,"relationships"),this.media=t,this.footer=new XE(r,a),this.relationships=new zs}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class QE extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class JE extends Re{constructor(){super("w:footnoteRef")}}class eT extends Yl{constructor(){super({style:"FootnoteReference"}),this.root.push(new JE)}}const py={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class ah extends Re{constructor(t){super("w:footnote"),this.root.push(new QE({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const a=t.children[r];r===0&&a.addRunToFront(new eT),this.root.push(a)}}}class tT extends Re{constructor(){super("w:continuationSeparator")}}class nT extends Yl{constructor(){super({}),this.root.push(new tT)}}class rT extends Re{constructor(){super("w:separator")}}class iT extends Yl{constructor(){super({}),this.root.push(new rT)}}class sT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class aT extends Re{constructor(){super("w:footnotes"),this.root.push(new sT({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new ah({id:-1,type:py.SEPERATOR,children:[new wt({spacing:{after:0,line:240,lineRule:Th.AUTO},children:[new iT]})]});this.root.push(t);const r=new ah({id:0,type:py.CONTINUATION_SEPERATOR,children:[new wt({spacing:{after:0,line:240,lineRule:Th.AUTO},children:[new nT]})]});this.root.push(r)}createFootNote(t,r){const a=new ah({id:t,children:r});this.root.push(a)}}class oT{constructor(){je(this,"footnotess"),je(this,"relationships"),this.footnotess=new aT,this.relationships=new zs}get View(){return this.footnotess}get Relationships(){return this.relationships}}class lT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let uT=class extends Vv{constructor(t,r){super("w:hdr",r),je(this,"refId"),this.refId=t,r||this.root.push(new lT({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class cT{constructor(t,r,a){je(this,"header"),je(this,"relationships"),this.media=t,this.header=new uT(r,a),this.relationships=new zs}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class fT{constructor(){je(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const pr={BULLET:"bullet"};class hT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class dT extends Re{constructor(t){super("w:numFmt"),this.root.push(new Rt({val:t}))}}class pT extends Re{constructor(t){super("w:lvlText"),this.root.push(new Rt({val:t}))}}class mT extends Re{constructor(t){super("w:lvlJc"),this.root.push(new Rt({val:t}))}}class gT extends Re{constructor(t){super("w:suff"),this.root.push(new Rt({val:t}))}}class yT extends Re{constructor(){super("w:isLgl")}}class vT extends Re{constructor({level:t,format:r,text:a,alignment:l=On.START,start:u=1,style:c,suffix:f,isLegalNumberingStyle:d}){if(super("w:lvl"),je(this,"paragraphProperties"),je(this,"runProperties"),this.root.push(new nd("w:start",ln(u))),r&&this.root.push(new dT(r)),f&&this.root.push(new gT(f)),d&&this.root.push(new yT),a&&this.root.push(new pT(a)),this.root.push(new mT(l)),this.paragraphProperties=new Ms(c&&c.paragraph),this.runProperties=new Ei(c&&c.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new hT({ilvl:ln(t),tentative:1}))}}class wT extends vT{}class bT extends Re{constructor(t){super("w:multiLevelType"),this.root.push(new Rt({val:t}))}}class xT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class my extends Re{constructor(t,r){super("w:abstractNum"),je(this,"id"),this.root.push(new xT({abstractNumId:ln(t),restartNumberingAfterBreak:0})),this.root.push(new bT("hybridMultilevel")),this.id=t;for(const a of r)this.root.push(new wT(a))}}class _T extends Re{constructor(t){super("w:abstractNumId"),this.root.push(new Rt({val:t}))}}class ST extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{numId:"w:numId"})}}class gy extends Re{constructor(t){if(super("w:num"),je(this,"numId"),je(this,"reference"),je(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new ST({numId:ln(t.numId)})),this.root.push(new _T(ln(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new TT(r.num,r.start))}}class ET extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{ilvl:"w:ilvl"})}}class TT extends Re{constructor(t,r){super("w:lvlOverride"),this.root.push(new ET({ilvl:t})),r!==void 0&&this.root.push(new kT(r))}}class AT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class kT extends Re{constructor(t){super("w:startOverride"),this.root.push(new AT({val:t}))}}class jT extends Re{constructor(t){super("w:numbering"),je(this,"abstractNumberingMap",new Map),je(this,"concreteNumberingMap",new Map),je(this,"referenceConfigMap",new Map),je(this,"abstractNumUniqueNumericId",MS()),je(this,"concreteNumUniqueNumericId",LS()),this.root.push(new to({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new my(this.abstractNumUniqueNumericId(),[{level:0,format:pr.BULLET,text:"●",alignment:On.LEFT,style:{paragraph:{indent:{left:Bn(.5),hanging:Bn(.25)}}}},{level:1,format:pr.BULLET,text:"○",alignment:On.LEFT,style:{paragraph:{indent:{left:Bn(1),hanging:Bn(.25)}}}},{level:2,format:pr.BULLET,text:"■",alignment:On.LEFT,style:{paragraph:{indent:{left:2160,hanging:Bn(.25)}}}},{level:3,format:pr.BULLET,text:"●",alignment:On.LEFT,style:{paragraph:{indent:{left:2880,hanging:Bn(.25)}}}},{level:4,format:pr.BULLET,text:"○",alignment:On.LEFT,style:{paragraph:{indent:{left:3600,hanging:Bn(.25)}}}},{level:5,format:pr.BULLET,text:"■",alignment:On.LEFT,style:{paragraph:{indent:{left:4320,hanging:Bn(.25)}}}},{level:6,format:pr.BULLET,text:"●",alignment:On.LEFT,style:{paragraph:{indent:{left:5040,hanging:Bn(.25)}}}},{level:7,format:pr.BULLET,text:"●",alignment:On.LEFT,style:{paragraph:{indent:{left:5760,hanging:Bn(.25)}}}},{level:8,format:pr.BULLET,text:"●",alignment:On.LEFT,style:{paragraph:{indent:{left:6480,hanging:Bn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new gy({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const a of t.config)this.abstractNumberingMap.set(a.reference,new my(this.abstractNumUniqueNumericId(),a.levels)),this.referenceConfigMap.set(a.reference,a.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const a=this.abstractNumberingMap.get(t);if(!a)return;const l=`${t}-${r}`;if(this.concreteNumberingMap.has(l))return;const u=this.referenceConfigMap.get(t),c=u&&u[0].start,f={numId:this.concreteNumUniqueNumericId(),abstractNumId:a.id,reference:t,instance:r,overrideLevels:[c&&Number.isInteger(c)?{num:0,start:c}:{num:0,start:1}]};this.concreteNumberingMap.set(l,new gy(f))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class NT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class RT extends Re{constructor(t){super("w:compatSetting"),this.root.push(new NT({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class CT extends Re{constructor(t){super("w:compat"),t.version&&this.root.push(new RT(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Oe("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Oe("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Oe("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Oe("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Oe("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Oe("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Oe("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Oe("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Oe("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Oe("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Oe("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Oe("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Oe("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Oe("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Oe("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Oe("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Oe("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Oe("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Oe("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Oe("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Oe("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Oe("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Oe("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Oe("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Oe("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Oe("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Oe("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Oe("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Oe("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Oe("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Oe("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Oe("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Oe("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Oe("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Oe("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Oe("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Oe("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Oe("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Oe("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Oe("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Oe("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Oe("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Oe("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Oe("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Oe("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Oe("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Oe("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Oe("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Oe("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Oe("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Oe("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Oe("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Oe("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Oe("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Oe("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Oe("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Oe("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Oe("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Oe("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Oe("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Oe("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Oe("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Oe("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Oe("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Oe("w:cachedColBalance",t.cachedColumnBalance))}}class OT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class DT extends Re{constructor(t){var r,a,l,u;super("w:settings"),this.root.push(new OT({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Oe("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Oe("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Oe("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Oe("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new nd("w:defaultTabStop",t.defaultTabStop)),this.root.push(new CT(Za(rt({},(r=t.compatibility)!=null?r:{}),{version:(u=(l=(a=t.compatibility)==null?void 0:a.version)!=null?l:t.compatibilityModeVersion)!=null?u:15})))}}class rw extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{val:"w:val"})}}class UT extends Re{constructor(t){super("w:name"),this.root.push(new rw({val:t}))}}class MT extends Re{constructor(t){super("w:uiPriority"),this.root.push(new rw({val:ln(t)}))}}class LT extends Fe{constructor(){super(...arguments),je(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class iw extends Re{constructor(t,r){super("w:style"),this.root.push(new LT(t)),r.name&&this.root.push(new UT(r.name)),r.basedOn&&this.root.push(new Ns("w:basedOn",r.basedOn)),r.next&&this.root.push(new Ns("w:next",r.next)),r.link&&this.root.push(new Ns("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new MT(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Oe("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Oe("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Oe("w:qFormat",r.quickFormat))}}class Xl extends iw{constructor(t){super({type:"paragraph",styleId:t.id},t),je(this,"paragraphProperties"),je(this,"runProperties"),this.paragraphProperties=new Ms(t.paragraph),this.runProperties=new Ei(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Zl extends iw{constructor(t){super({type:"character",styleId:t.id},rt({uiPriority:99,unhideWhenUsed:!0},t)),je(this,"runProperties"),this.runProperties=new Ei(t.run),this.root.push(this.runProperties)}}class Vr extends Xl{constructor(t){super(rt({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class BT extends Vr{constructor(t){super(rt({id:"Title",name:"Title"},t))}}class IT extends Vr{constructor(t){super(rt({id:"Heading1",name:"Heading 1"},t))}}class zT extends Vr{constructor(t){super(rt({id:"Heading2",name:"Heading 2"},t))}}class PT extends Vr{constructor(t){super(rt({id:"Heading3",name:"Heading 3"},t))}}class FT extends Vr{constructor(t){super(rt({id:"Heading4",name:"Heading 4"},t))}}class HT extends Vr{constructor(t){super(rt({id:"Heading5",name:"Heading 5"},t))}}class qT extends Vr{constructor(t){super(rt({id:"Heading6",name:"Heading 6"},t))}}class $T extends Vr{constructor(t){super(rt({id:"Strong",name:"Strong"},t))}}class GT extends Xl{constructor(t){super(rt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class KT extends Xl{constructor(t){super(rt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Th.AUTO}},run:{size:20}},t))}}class VT extends Zl{constructor(t){super(rt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class WT extends Zl{constructor(t){super(rt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class YT extends Zl{constructor(t){super(rt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Jv.SINGLE}}},t))}}class Ah extends Re{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new Xl(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new Zl(r))}}class XT extends Re{constructor(t){super("w:pPrDefault"),this.root.push(new Ms(t))}}class ZT extends Re{constructor(t){super("w:rPrDefault"),this.root.push(new Ei(t))}}class QT extends Re{constructor(t){super("w:docDefaults"),je(this,"runPropertiesDefaults"),je(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new ZT(t.run),this.paragraphPropertiesDefaults=new XT(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class JT{newInstance(t){const r=Kv.xml2js(t,{compact:!1});let a;for(const c of r.elements||[])c.name==="w:styles"&&(a=c);if(a===void 0)throw new Error("can not find styles element");const l=a.elements||[];return new Ah({initialStyles:new nS(a.attributes),importedStyles:l.map(c=>td(c))})}}class yy{newInstance(t={}){var r;return{initialStyles:new to({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new QT((r=t.document)!=null?r:{}),new BT(rt({run:{size:56}},t.title)),new IT(rt({run:{color:"2E74B5",size:32}},t.heading1)),new zT(rt({run:{color:"2E74B5",size:26}},t.heading2)),new PT(rt({run:{color:"1F4D78",size:24}},t.heading3)),new FT(rt({run:{color:"2E74B5",italics:!0}},t.heading4)),new HT(rt({run:{color:"2E74B5"}},t.heading5)),new qT(rt({run:{color:"1F4D78"}},t.heading6)),new $T(rt({run:{bold:!0}},t.strong)),new GT(t.listParagraph||{}),new YT(t.hyperlink||{}),new VT(t.footnoteReference||{}),new KT(t.footnoteText||{}),new WT(t.footnoteTextChar||{})]}}}const Al=({id:s,fontKey:t,subsetted:r},a)=>new Kr({name:a,attributes:rt({id:{key:"r:id",value:s}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Oe("w:subsetted",r)]:[]]}),eA=({name:s,altName:t,panose1:r,charset:a,family:l,notTrueType:u,pitch:c,sig:f,embedRegular:d,embedBold:p,embedItalic:m,embedBoldItalic:b})=>new Kr({name:"w:font",attributes:{name:{key:"w:name",value:s}},children:[...t?[Fa("w:altName",t)]:[],...r?[Fa("w:panose1",r)]:[],...a?[Fa("w:charset",a)]:[],Fa("w:family",l),...u?[new Oe("w:notTrueType",u)]:[],Fa("w:pitch",c),...f?[new Kr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:f.usb0},usb1:{key:"w:usb1",value:f.usb1},usb2:{key:"w:usb2",value:f.usb2},usb3:{key:"w:usb3",value:f.usb3},csb0:{key:"w:csb0",value:f.csb0},csb1:{key:"w:csb1",value:f.csb1}}})]:[],...d?[Al(d,"w:embedRegular")]:[],...p?[Al(p,"w:embedBold")]:[],...m?[Al(m,"w:embedItalic")]:[],...b?[Al(b,"w:embedBoldItalic")]:[]]}),tA=({name:s,index:t,fontKey:r,characterSet:a})=>eA({name:s,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:a,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),nA=s=>new Kr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:s.map((t,r)=>tA({name:t.name,index:r+1,fontKey:t.fontKey}))});class rA{constructor(t){je(this,"fontTable"),je(this,"relationships"),je(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>Za(rt({},r),{fontKey:zS()})),this.fontTable=nA(this.fontOptionsWithKey),this.relationships=new zs;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class vy{constructor(t){je(this,"currentRelationshipId",1),je(this,"documentWrapper"),je(this,"headers",[]),je(this,"footers",[]),je(this,"coreProperties"),je(this,"numbering"),je(this,"media"),je(this,"fileRelationships"),je(this,"footnotesWrapper"),je(this,"settings"),je(this,"contentTypes"),je(this,"customProperties"),je(this,"appProperties"),je(this,"styles"),je(this,"comments"),je(this,"fontWrapper");var r,a,l,u,c,f,d,p;if(this.coreProperties=new qE(Za(rt({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(a=t.revision)!=null?a:1,lastModifiedBy:(l=t.lastModifiedBy)!=null?l:"Un-named"})),this.numbering=new jT(t.numbering?t.numbering:{config:[]}),this.comments=new qS((u=t.comments)!=null?u:{children:[]}),this.fileRelationships=new zs,this.customProperties=new WE((c=t.customProperties)!=null?c:[]),this.appProperties=new IE,this.footnotesWrapper=new oT,this.contentTypes=new HE,this.documentWrapper=new nw({background:t.background}),this.settings=new DT({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(f=t.features)==null?void 0:f.trackRevisions,updateFields:(d=t.features)==null?void 0:d.updateFields,defaultTabStop:t.defaultTabStop}),this.media=new fT,t.externalStyles){const m=new JT;this.styles=m.newInstance(t.externalStyles)}else if(t.styles){const b=new yy().newInstance(t.styles.default);this.styles=new Ah(rt(rt({},b),t.styles))}else{const m=new yy;this.styles=new Ah(m.newInstance())}this.addDefaultRelationships();for(const m of t.sections)this.addSection(m);if(t.footnotes)for(const m in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(m),t.footnotes[m].children);this.fontWrapper=new rA((p=t.fonts)!=null?p:[])}addSection({headers:t={},footers:r={},children:a,properties:l}){this.documentWrapper.View.Body.addSection(Za(rt({},l),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const u of a)this.documentWrapper.View.add(u)}createHeader(t){const r=new cT(this.media,this.currentRelationshipId++);for(const a of t.options.children)r.add(a);return this.addHeaderToDocument(r),r}createFooter(t){const r=new ZE(this.media,this.currentRelationshipId++);for(const a of t.options.children)r.add(a);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Rs.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Rs.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function kl(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sw={exports:{}};(function(s,t){(function(r){s.exports=r()})(function(){return(function r(a,l,u){function c(p,m){if(!l[p]){if(!a[p]){var b=typeof kl=="function"&&kl;if(!m&&b)return b(p,!0);if(f)return f(p,!0);var _=new Error("Cannot find module '"+p+"'");throw _.code="MODULE_NOT_FOUND",_}var S=l[p]={exports:{}};a[p][0].call(S.exports,function(j){var E=a[p][1][j];return c(E||j)},S,S.exports,r,a,l,u)}return l[p].exports}for(var f=typeof kl=="function"&&kl,d=0;d<u.length;d++)c(u[d]);return c})({1:[function(r,a,l){var u=r("./utils"),c=r("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(d){for(var p,m,b,_,S,j,E,O=[],x=0,N=d.length,U=N,z=u.getTypeOf(d)!=="string";x<d.length;)U=N-x,b=z?(p=d[x++],m=x<N?d[x++]:0,x<N?d[x++]:0):(p=d.charCodeAt(x++),m=x<N?d.charCodeAt(x++):0,x<N?d.charCodeAt(x++):0),_=p>>2,S=(3&p)<<4|m>>4,j=1<U?(15&m)<<2|b>>6:64,E=2<U?63&b:64,O.push(f.charAt(_)+f.charAt(S)+f.charAt(j)+f.charAt(E));return O.join("")},l.decode=function(d){var p,m,b,_,S,j,E=0,O=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var N,U=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===f.charAt(64)&&U--,d.charAt(d.length-2)===f.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=c.uint8array?new Uint8Array(0|U):new Array(0|U);E<d.length;)p=f.indexOf(d.charAt(E++))<<2|(_=f.indexOf(d.charAt(E++)))>>4,m=(15&_)<<4|(S=f.indexOf(d.charAt(E++)))>>2,b=(3&S)<<6|(j=f.indexOf(d.charAt(E++))),N[O++]=p,S!==64&&(N[O++]=m),j!==64&&(N[O++]=b);return N}},{"./support":30,"./utils":32}],2:[function(r,a,l){var u=r("./external"),c=r("./stream/DataWorker"),f=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function p(m,b,_,S,j){this.compressedSize=m,this.uncompressedSize=b,this.crc32=_,this.compression=S,this.compressedContent=j}p.prototype={getContentWorker:function(){var m=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),b=this;return m.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,b,_){return m.pipe(new f).pipe(new d("uncompressedSize")).pipe(b.compressWorker(_)).pipe(new d("compressedSize")).withStreamInfo("compression",b)},a.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,l){var u=r("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},l.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,l){var u=r("./utils"),c=(function(){for(var f,d=[],p=0;p<256;p++){f=p;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;d[p]=f}return d})();a.exports=function(f,d){return f!==void 0&&f.length?u.getTypeOf(f)!=="string"?(function(p,m,b,_){var S=c,j=_+b;p^=-1;for(var E=_;E<j;E++)p=p>>>8^S[255&(p^m[E])];return-1^p})(0|d,f,f.length,0):(function(p,m,b,_){var S=c,j=_+b;p^=-1;for(var E=_;E<j;E++)p=p>>>8^S[255&(p^m.charCodeAt(E))];return-1^p})(0|d,f,f.length,0):0}},{"./utils":32}],5:[function(r,a,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(r,a,l){var u=null;u=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:u}},{lie:37}],7:[function(r,a,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=r("pako"),f=r("./utils"),d=r("./stream/GenericWorker"),p=u?"uint8array":"array";function m(b,_){d.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=_,this.meta={}}l.magic="\b\0",f.inherits(m,d),m.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(p,b.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(_){b.push({data:_,meta:b.meta})}},l.compressWorker=function(b){return new m("Deflate",b)},l.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,l){function u(S,j){var E,O="";for(E=0;E<j;E++)O+=String.fromCharCode(255&S),S>>>=8;return O}function c(S,j,E,O,x,N){var U,z,q=S.file,ae=S.compression,ne=N!==p.utf8encode,le=f.transformTo("string",N(q.name)),L=f.transformTo("string",p.utf8encode(q.name)),oe=q.comment,he=f.transformTo("string",N(oe)),I=f.transformTo("string",p.utf8encode(oe)),te=L.length!==q.name.length,D=I.length!==oe.length,re="",W="",X="",me=q.dir,ue=q.date,G={crc32:0,compressedSize:0,uncompressedSize:0};j&&!E||(G.crc32=S.crc32,G.compressedSize=S.compressedSize,G.uncompressedSize=S.uncompressedSize);var $=0;j&&($|=8),ne||!te&&!D||($|=2048);var B=0,Y=0;me&&(B|=16),x==="UNIX"?(Y=798,B|=(function(fe,Q){var R=fe;return fe||(R=Q?16893:33204),(65535&R)<<16})(q.unixPermissions,me)):(Y=20,B|=(function(fe){return 63&(fe||0)})(q.dosPermissions)),U=ue.getUTCHours(),U<<=6,U|=ue.getUTCMinutes(),U<<=5,U|=ue.getUTCSeconds()/2,z=ue.getUTCFullYear()-1980,z<<=4,z|=ue.getUTCMonth()+1,z<<=5,z|=ue.getUTCDate(),te&&(W=u(1,1)+u(m(le),4)+L,re+="up"+u(W.length,2)+W),D&&(X=u(1,1)+u(m(he),4)+I,re+="uc"+u(X.length,2)+X);var J="";return J+=`
\0`,J+=u($,2),J+=ae.magic,J+=u(U,2),J+=u(z,2),J+=u(G.crc32,4),J+=u(G.compressedSize,4),J+=u(G.uncompressedSize,4),J+=u(le.length,2),J+=u(re.length,2),{fileRecord:b.LOCAL_FILE_HEADER+J+le+re,dirRecord:b.CENTRAL_FILE_HEADER+u(Y,2)+J+u(he.length,2)+"\0\0\0\0"+u(B,4)+u(O,4)+le+re+he}}var f=r("../utils"),d=r("../stream/GenericWorker"),p=r("../utf8"),m=r("../crc32"),b=r("../signature");function _(S,j,E,O){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=E,this.encodeFileName=O,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(_,d),_.prototype.push=function(S){var j=S.meta.percent||0,E=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,d.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:E?(j+100*(E-O-1))/E:100}}))},_.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var j=this.streamFiles&&!S.file.dir;if(j){var E=c(S,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(S){this.accumulate=!1;var j=this.streamFiles&&!S.file.dir,E=c(S,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),j)this.push({data:(function(O){return b.DATA_DESCRIPTOR+u(O.crc32,4)+u(O.compressedSize,4)+u(O.uncompressedSize,4)})(S),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var S=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var E=this.bytesWritten-S,O=(function(x,N,U,z,q){var ae=f.transformTo("string",q(z));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(x,2)+u(x,2)+u(N,4)+u(U,4)+u(ae.length,2)+ae})(this.dirRecords.length,E,S,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(S){this._sources.push(S);var j=this;return S.on("data",function(E){j.processChunk(E)}),S.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),S.on("error",function(E){j.error(E)}),this},_.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(S){var j=this._sources;if(!d.prototype.error.call(this,S))return!1;for(var E=0;E<j.length;E++)try{j[E].error(S)}catch{}return!0},_.prototype.lock=function(){d.prototype.lock.call(this);for(var S=this._sources,j=0;j<S.length;j++)S[j].lock()},a.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,l){var u=r("../compressions"),c=r("./ZipFileWorker");l.generateWorker=function(f,d,p){var m=new c(d.streamFiles,p,d.platform,d.encodeFileName),b=0;try{f.forEach(function(_,S){b++;var j=(function(N,U){var z=N||U,q=u[z];if(!q)throw new Error(z+" is not a valid compression method !");return q})(S.options.compression,d.compression),E=S.options.compressionOptions||d.compressionOptions||{},O=S.dir,x=S.date;S._compressWorker(j,E).withStreamInfo("file",{name:_,dir:O,date:x,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(m)}),m.entriesCount=b}catch(_){m.error(_)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,l){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var f in this)typeof this[f]!="function"&&(c[f]=this[f]);return c}}(u.prototype=r("./object")).loadAsync=r("./load"),u.support=r("./support"),u.defaults=r("./defaults"),u.version="3.10.1",u.loadAsync=function(c,f){return new u().loadAsync(c,f)},u.external=r("./external"),a.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,l){var u=r("./utils"),c=r("./external"),f=r("./utf8"),d=r("./zipEntries"),p=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function b(_){return new c.Promise(function(S,j){var E=_.decompressed.getContentWorker().pipe(new p);E.on("error",function(O){j(O)}).on("end",function(){E.streamInfo.crc32!==_.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}a.exports=function(_,S){var j=this;return S=u.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),m.isNode&&m.isStream(_)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",_,!0,S.optimizedBinaryString,S.base64).then(function(E){var O=new d(S);return O.load(E),O}).then(function(E){var O=[c.Promise.resolve(E)],x=E.files;if(S.checkCRC32)for(var N=0;N<x.length;N++)O.push(b(x[N]));return c.Promise.all(O)}).then(function(E){for(var O=E.shift(),x=O.files,N=0;N<x.length;N++){var U=x[N],z=U.fileNameStr,q=u.resolve(U.fileNameStr);j.file(q,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:S.createFolders}),U.dir||(j.file(q).unsafeOriginalName=z)}return O.zipComment.length&&(j.comment=O.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,l){var u=r("../utils"),c=r("../stream/GenericWorker");function f(d,p){c.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}u.inherits(f,c),f.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},f.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,l){var u=r("readable-stream").Readable;function c(f,d,p){u.call(this,d),this._helper=f;var m=this;f.on("data",function(b,_){m.push(b)||m._helper.pause(),p&&p(_)}).on("error",function(b){m.emit("error",b)}).on("end",function(){m.push(null)})}r("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},a.exports=c},{"../utils":32,"readable-stream":16}],14:[function(r,a,l){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(r,a,l){function u(q,ae,ne){var le,L=f.getTypeOf(ae),oe=f.extend(ne||{},m);oe.date=oe.date||new Date,oe.compression!==null&&(oe.compression=oe.compression.toUpperCase()),typeof oe.unixPermissions=="string"&&(oe.unixPermissions=parseInt(oe.unixPermissions,8)),oe.unixPermissions&&16384&oe.unixPermissions&&(oe.dir=!0),oe.dosPermissions&&16&oe.dosPermissions&&(oe.dir=!0),oe.dir&&(q=x(q)),oe.createFolders&&(le=O(q))&&N.call(this,le,!0);var he=L==="string"&&oe.binary===!1&&oe.base64===!1;ne&&ne.binary!==void 0||(oe.binary=!he),(ae instanceof b&&ae.uncompressedSize===0||oe.dir||!ae||ae.length===0)&&(oe.base64=!1,oe.binary=!0,ae="",oe.compression="STORE",L="string");var I=null;I=ae instanceof b||ae instanceof d?ae:j.isNode&&j.isStream(ae)?new E(q,ae):f.prepareContent(q,ae,oe.binary,oe.optimizedBinaryString,oe.base64);var te=new _(q,I,oe);this.files[q]=te}var c=r("./utf8"),f=r("./utils"),d=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),m=r("./defaults"),b=r("./compressedObject"),_=r("./zipObject"),S=r("./generate"),j=r("./nodejsUtils"),E=r("./nodejs/NodejsStreamInputAdapter"),O=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var ae=q.lastIndexOf("/");return 0<ae?q.substring(0,ae):""},x=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},N=function(q,ae){return ae=ae!==void 0?ae:m.createFolders,q=x(q),this.files[q]||u.call(this,q,null,{dir:!0,createFolders:ae}),this.files[q]};function U(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var ae,ne,le;for(ae in this.files)le=this.files[ae],(ne=ae.slice(this.root.length,ae.length))&&ae.slice(0,this.root.length)===this.root&&q(ne,le)},filter:function(q){var ae=[];return this.forEach(function(ne,le){q(ne,le)&&ae.push(le)}),ae},file:function(q,ae,ne){if(arguments.length!==1)return q=this.root+q,u.call(this,q,ae,ne),this;if(U(q)){var le=q;return this.filter(function(oe,he){return!he.dir&&le.test(oe)})}var L=this.files[this.root+q];return L&&!L.dir?L:null},folder:function(q){if(!q)return this;if(U(q))return this.filter(function(L,oe){return oe.dir&&q.test(L)});var ae=this.root+q,ne=N.call(this,ae),le=this.clone();return le.root=ne.name,le},remove:function(q){q=this.root+q;var ae=this.files[q];if(ae||(q.slice(-1)!=="/"&&(q+="/"),ae=this.files[q]),ae&&!ae.dir)delete this.files[q];else for(var ne=this.filter(function(L,oe){return oe.name.slice(0,q.length)===q}),le=0;le<ne.length;le++)delete this.files[ne[le].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var ae,ne={};try{if((ne=f.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=ne.type.toLowerCase(),ne.compression=ne.compression.toUpperCase(),ne.type==="binarystring"&&(ne.type="string"),!ne.type)throw new Error("No output type specified.");f.checkSupport(ne.type),ne.platform!=="darwin"&&ne.platform!=="freebsd"&&ne.platform!=="linux"&&ne.platform!=="sunos"||(ne.platform="UNIX"),ne.platform==="win32"&&(ne.platform="DOS");var le=ne.comment||this.comment||"";ae=S.generateWorker(this,ne,le)}catch(L){(ae=new d("error")).error(L)}return new p(ae,ne.type||"string",ne.mimeType)},generateAsync:function(q,ae){return this.generateInternalStream(q).accumulate(ae)},generateNodeStream:function(q,ae){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(ae)}};a.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,l){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,l){var u=r("./DataReader");function c(f){u.call(this,f);for(var d=0;d<this.data.length;d++)f[d]=255&f[d]}r("../utils").inherits(c,u),c.prototype.byteAt=function(f){return this.data[this.zero+f]},c.prototype.lastIndexOfSignature=function(f){for(var d=f.charCodeAt(0),p=f.charCodeAt(1),m=f.charCodeAt(2),b=f.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===d&&this.data[_+1]===p&&this.data[_+2]===m&&this.data[_+3]===b)return _-this.zero;return-1},c.prototype.readAndCheckSignature=function(f){var d=f.charCodeAt(0),p=f.charCodeAt(1),m=f.charCodeAt(2),b=f.charCodeAt(3),_=this.readData(4);return d===_[0]&&p===_[1]&&m===_[2]&&b===_[3]},c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./DataReader":18}],18:[function(r,a,l){var u=r("../utils");function c(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var d,p=0;for(this.checkOffset(f),d=this.index+f-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=f,p},readString:function(f){return u.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},a.exports=c},{"../utils":32}],19:[function(r,a,l){var u=r("./Uint8ArrayReader");function c(f){u.call(this,f)}r("../utils").inherits(c,u),c.prototype.readData=function(f){this.checkOffset(f);var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,l){var u=r("./DataReader");function c(f){u.call(this,f)}r("../utils").inherits(c,u),c.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},c.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},c.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},c.prototype.readData=function(f){this.checkOffset(f);var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./DataReader":18}],21:[function(r,a,l){var u=r("./ArrayReader");function c(f){u.call(this,f)}r("../utils").inherits(c,u),c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},a.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,l){var u=r("../utils"),c=r("../support"),f=r("./ArrayReader"),d=r("./StringReader"),p=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");a.exports=function(b){var _=u.getTypeOf(b);return u.checkSupport(_),_!=="string"||c.uint8array?_==="nodebuffer"?new p(b):c.uint8array?new m(u.transformTo("uint8array",b)):new f(u.transformTo("array",b)):new d(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,l){var u=r("./GenericWorker"),c=r("../utils");function f(d){u.call(this,"ConvertWorker to "+d),this.destType=d}c.inherits(f,u),f.prototype.processChunk=function(d){this.push({data:c.transformTo(this.destType,d.data),meta:d.meta})},a.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,l){var u=r("./GenericWorker"),c=r("../crc32");function f(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(f,u),f.prototype.processChunk=function(d){this.streamInfo.crc32=c(d.data,this.streamInfo.crc32||0),this.push(d)},a.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,l){var u=r("../utils"),c=r("./GenericWorker");function f(d){c.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}u.inherits(f,c),f.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}c.prototype.processChunk.call(this,d)},a.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,l){var u=r("../utils"),c=r("./GenericWorker");function f(d){c.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=u.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}u.inherits(f,c),f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,l){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,f){return this._listeners[c].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,f){if(this._listeners[c])for(var d=0;d<this._listeners[c].length;d++)this._listeners[c][d].call(this,f)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var f=this;return c.on("data",function(d){f.processChunk(d)}),c.on("end",function(){f.end()}),c.on("error",function(d){f.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,f){return this.extraStreamInfo[c]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},a.exports=u},{}],29:[function(r,a,l){var u=r("../utils"),c=r("./ConvertWorker"),f=r("./GenericWorker"),d=r("../base64"),p=r("../support"),m=r("../external"),b=null;if(p.nodestream)try{b=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(j,E){return new m.Promise(function(O,x){var N=[],U=j._internalType,z=j._outputType,q=j._mimeType;j.on("data",function(ae,ne){N.push(ae),E&&E(ne)}).on("error",function(ae){N=[],x(ae)}).on("end",function(){try{var ae=(function(ne,le,L){switch(ne){case"blob":return u.newBlob(u.transformTo("arraybuffer",le),L);case"base64":return d.encode(le);default:return u.transformTo(ne,le)}})(z,(function(ne,le){var L,oe=0,he=null,I=0;for(L=0;L<le.length;L++)I+=le[L].length;switch(ne){case"string":return le.join("");case"array":return Array.prototype.concat.apply([],le);case"uint8array":for(he=new Uint8Array(I),L=0;L<le.length;L++)he.set(le[L],oe),oe+=le[L].length;return he;case"nodebuffer":return Buffer.concat(le);default:throw new Error("concat : unsupported type '"+ne+"'")}})(U,N),q);O(ae)}catch(ne){x(ne)}N=[]}).resume()})}function S(j,E,O){var x=E;switch(E){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=E,this._mimeType=O,u.checkSupport(x),this._worker=j.pipe(new c(x)),j.lock()}catch(N){this._worker=new f("error"),this._worker.error(N)}}S.prototype={accumulate:function(j){return _(this,j)},on:function(j,E){var O=this;return j==="data"?this._worker.on(j,function(x){E.call(O,x.data,x.meta)}):this._worker.on(j,function(){u.delay(E,arguments,O)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},j)}},a.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var u=new ArrayBuffer(0);try{l.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),l.blob=c.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!r("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,l){for(var u=r("./utils"),c=r("./support"),f=r("./nodejsUtils"),d=r("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function b(){d.call(this,"utf-8 decode"),this.leftOver=null}function _(){d.call(this,"utf-8 encode")}l.utf8encode=function(S){return c.nodebuffer?f.newBufferFrom(S,"utf-8"):(function(j){var E,O,x,N,U,z=j.length,q=0;for(N=0;N<z;N++)(64512&(O=j.charCodeAt(N)))==55296&&N+1<z&&(64512&(x=j.charCodeAt(N+1)))==56320&&(O=65536+(O-55296<<10)+(x-56320),N++),q+=O<128?1:O<2048?2:O<65536?3:4;for(E=c.uint8array?new Uint8Array(q):new Array(q),N=U=0;U<q;N++)(64512&(O=j.charCodeAt(N)))==55296&&N+1<z&&(64512&(x=j.charCodeAt(N+1)))==56320&&(O=65536+(O-55296<<10)+(x-56320),N++),O<128?E[U++]=O:(O<2048?E[U++]=192|O>>>6:(O<65536?E[U++]=224|O>>>12:(E[U++]=240|O>>>18,E[U++]=128|O>>>12&63),E[U++]=128|O>>>6&63),E[U++]=128|63&O);return E})(S)},l.utf8decode=function(S){return c.nodebuffer?u.transformTo("nodebuffer",S).toString("utf-8"):(function(j){var E,O,x,N,U=j.length,z=new Array(2*U);for(E=O=0;E<U;)if((x=j[E++])<128)z[O++]=x;else if(4<(N=p[x]))z[O++]=65533,E+=N-1;else{for(x&=N===2?31:N===3?15:7;1<N&&E<U;)x=x<<6|63&j[E++],N--;1<N?z[O++]=65533:x<65536?z[O++]=x:(x-=65536,z[O++]=55296|x>>10&1023,z[O++]=56320|1023&x)}return z.length!==O&&(z.subarray?z=z.subarray(0,O):z.length=O),u.applyFromCharCode(z)})(S=u.transformTo(c.uint8array?"uint8array":"array",S))},u.inherits(b,d),b.prototype.processChunk=function(S){var j=u.transformTo(c.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var E=j;(j=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),j.set(E,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var O=(function(N,U){var z;for((U=U||N.length)>N.length&&(U=N.length),z=U-1;0<=z&&(192&N[z])==128;)z--;return z<0||z===0?U:z+p[N[z]]>U?z:U})(j),x=j;O!==j.length&&(c.uint8array?(x=j.subarray(0,O),this.leftOver=j.subarray(O,j.length)):(x=j.slice(0,O),this.leftOver=j.slice(O,j.length))),this.push({data:l.utf8decode(x),meta:S.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=b,u.inherits(_,d),_.prototype.processChunk=function(S){this.push({data:l.utf8encode(S.data),meta:S.meta})},l.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,l){var u=r("./support"),c=r("./base64"),f=r("./nodejsUtils"),d=r("./external");function p(E){return E}function m(E,O){for(var x=0;x<E.length;++x)O[x]=255&E.charCodeAt(x);return O}r("setimmediate"),l.newBlob=function(E,O){l.checkSupport("blob");try{return new Blob([E],{type:O})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(E),x.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(E,O,x){var N=[],U=0,z=E.length;if(z<=x)return String.fromCharCode.apply(null,E);for(;U<z;)O==="array"||O==="nodebuffer"?N.push(String.fromCharCode.apply(null,E.slice(U,Math.min(U+x,z)))):N.push(String.fromCharCode.apply(null,E.subarray(U,Math.min(U+x,z)))),U+=x;return N.join("")},stringifyByChar:function(E){for(var O="",x=0;x<E.length;x++)O+=String.fromCharCode(E[x]);return O},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function _(E){var O=65536,x=l.getTypeOf(E),N=!0;if(x==="uint8array"?N=b.applyCanBeUsed.uint8array:x==="nodebuffer"&&(N=b.applyCanBeUsed.nodebuffer),N)for(;1<O;)try{return b.stringifyByChunk(E,x,O)}catch{O=Math.floor(O/2)}return b.stringifyByChar(E)}function S(E,O){for(var x=0;x<E.length;x++)O[x]=E[x];return O}l.applyFromCharCode=_;var j={};j.string={string:p,array:function(E){return m(E,new Array(E.length))},arraybuffer:function(E){return j.string.uint8array(E).buffer},uint8array:function(E){return m(E,new Uint8Array(E.length))},nodebuffer:function(E){return m(E,f.allocBuffer(E.length))}},j.array={string:_,array:p,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return f.newBufferFrom(E)}},j.arraybuffer={string:function(E){return _(new Uint8Array(E))},array:function(E){return S(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:p,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return f.newBufferFrom(new Uint8Array(E))}},j.uint8array={string:_,array:function(E){return S(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:p,nodebuffer:function(E){return f.newBufferFrom(E)}},j.nodebuffer={string:_,array:function(E){return S(E,new Array(E.length))},arraybuffer:function(E){return j.nodebuffer.uint8array(E).buffer},uint8array:function(E){return S(E,new Uint8Array(E.length))},nodebuffer:p},l.transformTo=function(E,O){if(O=O||"",!E)return O;l.checkSupport(E);var x=l.getTypeOf(O);return j[x][E](O)},l.resolve=function(E){for(var O=E.split("/"),x=[],N=0;N<O.length;N++){var U=O[N];U==="."||U===""&&N!==0&&N!==O.length-1||(U===".."?x.pop():x.push(U))}return x.join("/")},l.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":u.nodebuffer&&f.isBuffer(E)?"nodebuffer":u.uint8array&&E instanceof Uint8Array?"uint8array":u.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(E){if(!u[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(E){var O,x,N="";for(x=0;x<(E||"").length;x++)N+="\\x"+((O=E.charCodeAt(x))<16?"0":"")+O.toString(16).toUpperCase();return N},l.delay=function(E,O,x){setImmediate(function(){E.apply(x||null,O||[])})},l.inherits=function(E,O){function x(){}x.prototype=O.prototype,E.prototype=new x},l.extend=function(){var E,O,x={};for(E=0;E<arguments.length;E++)for(O in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],O)&&x[O]===void 0&&(x[O]=arguments[E][O]);return x},l.prepareContent=function(E,O,x,N,U){return d.Promise.resolve(O).then(function(z){return u.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(q,ae){var ne=new FileReader;ne.onload=function(le){q(le.target.result)},ne.onerror=function(le){ae(le.target.error)},ne.readAsArrayBuffer(z)}):z}).then(function(z){var q=l.getTypeOf(z);return q?(q==="arraybuffer"?z=l.transformTo("uint8array",z):q==="string"&&(U?z=c.decode(z):x&&N!==!0&&(z=(function(ae){return m(ae,u.uint8array?new Uint8Array(ae.length):new Array(ae.length))})(z))),z):d.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,l){var u=r("./reader/readerFor"),c=r("./utils"),f=r("./signature"),d=r("./zipEntry"),p=r("./support");function m(b){this.files=[],this.loadOptions=b}m.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(_)+", expected "+c.pretty(b)+")")}},isSignature:function(b,_){var S=this.reader.index;this.reader.setIndex(b);var j=this.reader.readString(4)===_;return this.reader.setIndex(S),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),_=p.uint8array?"uint8array":"array",S=c.transformTo(_,b);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,_,S,j=this.zip64EndOfCentralSize-44;0<j;)b=this.reader.readInt(2),_=this.reader.readInt(4),S=this.reader.readData(_),this.zip64ExtensibleData[b]={id:b,length:_,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,_;for(b=0;b<this.files.length;b++)_=this.files[b],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(b=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var _=b;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var j=_-S;if(0<j)this.isSignature(_,f.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(b){this.reader=u(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,l){var u=r("./reader/readerFor"),c=r("./utils"),f=r("./compressedObject"),d=r("./crc32"),p=r("./utf8"),m=r("./compressions"),b=r("./support");function _(S,j){this.options=S,this.loadOptions=j}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var j,E;if(S.skip(22),this.fileNameLength=S.readInt(2),E=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(O){for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)&&m[x].magic===O)return m[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,j,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var j=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(j),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S==0&&(this.dosPermissions=63&this.externalFileAttributes),S==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var j,E,O,x=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<x;)j=S.readInt(2),E=S.readInt(2),O=S.readData(E),this.extraFields[j]={id:j,length:E,value:O};S.setIndex(x)},handleUTF8:function(){var S=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var E=c.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var x=c.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var j=u(S.value);return j.readInt(1)!==1||d(this.fileName)!==j.readInt(4)?null:p.utf8decode(j.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var j=u(S.value);return j.readInt(1)!==1||d(this.fileComment)!==j.readInt(4)?null:p.utf8decode(j.readData(S.length-5))}return null}},a.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,l){function u(j,E,O){this.name=j,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=E,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var c=r("./stream/StreamHelper"),f=r("./stream/DataWorker"),d=r("./utf8"),p=r("./compressedObject"),m=r("./stream/GenericWorker");u.prototype={internalStream:function(j){var E=null,O="string";try{if(!j)throw new Error("No output type specified.");var x=(O=j.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),E=this._decompressWorker();var N=!this._dataBinary;N&&!x&&(E=E.pipe(new d.Utf8EncodeWorker)),!N&&x&&(E=E.pipe(new d.Utf8DecodeWorker))}catch(U){(E=new m("error")).error(U)}return new c(E,O,"")},async:function(j,E){return this.internalStream(j).accumulate(E)},nodeStream:function(j,E){return this.internalStream(j||"nodebuffer").toNodejsStream(E)},_compressWorker:function(j,E){if(this._data instanceof p&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(O,j,E)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new f(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<b.length;S++)u.prototype[b[S]]=_;a.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,l){(function(u){var c,f,d=u.MutationObserver||u.WebKitMutationObserver;if(d){var p=0,m=new d(j),b=u.document.createTextNode("");m.observe(b,{characterData:!0}),c=function(){b.data=p=++p%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var E=u.document.createElement("script");E.onreadystatechange=function(){j(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},u.document.documentElement.appendChild(E)}:function(){setTimeout(j,0)};else{var _=new u.MessageChannel;_.port1.onmessage=j,c=function(){_.port2.postMessage(0)}}var S=[];function j(){var E,O;f=!0;for(var x=S.length;x;){for(O=S,S=[],E=-1;++E<x;)O[E]();x=S.length}f=!1}a.exports=function(E){S.push(E)!==1||f||c()}}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,l){var u=r("immediate");function c(){}var f={},d=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function b(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,x!==c&&E(this,x)}function _(x,N,U){this.promise=x,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function S(x,N,U){u(function(){var z;try{z=N(U)}catch(q){return f.reject(x,q)}z===x?f.reject(x,new TypeError("Cannot resolve promise with itself")):f.resolve(x,z)})}function j(x){var N=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof N=="function")return function(){N.apply(x,arguments)}}function E(x,N){var U=!1;function z(ne){U||(U=!0,f.reject(x,ne))}function q(ne){U||(U=!0,f.resolve(x,ne))}var ae=O(function(){N(q,z)});ae.status==="error"&&z(ae.value)}function O(x,N){var U={};try{U.value=x(N),U.status="success"}catch(z){U.status="error",U.value=z}return U}(a.exports=b).prototype.finally=function(x){if(typeof x!="function")return this;var N=this.constructor;return this.then(function(U){return N.resolve(x()).then(function(){return U})},function(U){return N.resolve(x()).then(function(){throw U})})},b.prototype.catch=function(x){return this.then(null,x)},b.prototype.then=function(x,N){if(typeof x!="function"&&this.state===p||typeof N!="function"&&this.state===d)return this;var U=new this.constructor(c);return this.state!==m?S(U,this.state===p?x:N,this.outcome):this.queue.push(new _(U,x,N)),U},_.prototype.callFulfilled=function(x){f.resolve(this.promise,x)},_.prototype.otherCallFulfilled=function(x){S(this.promise,this.onFulfilled,x)},_.prototype.callRejected=function(x){f.reject(this.promise,x)},_.prototype.otherCallRejected=function(x){S(this.promise,this.onRejected,x)},f.resolve=function(x,N){var U=O(j,N);if(U.status==="error")return f.reject(x,U.value);var z=U.value;if(z)E(x,z);else{x.state=p,x.outcome=N;for(var q=-1,ae=x.queue.length;++q<ae;)x.queue[q].callFulfilled(N)}return x},f.reject=function(x,N){x.state=d,x.outcome=N;for(var U=-1,z=x.queue.length;++U<z;)x.queue[U].callRejected(N);return x},b.resolve=function(x){return x instanceof this?x:f.resolve(new this(c),x)},b.reject=function(x){var N=new this(c);return f.reject(N,x)},b.all=function(x){var N=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=x.length,z=!1;if(!U)return this.resolve([]);for(var q=new Array(U),ae=0,ne=-1,le=new this(c);++ne<U;)L(x[ne],ne);return le;function L(oe,he){N.resolve(oe).then(function(I){q[he]=I,++ae!==U||z||(z=!0,f.resolve(le,q))},function(I){z||(z=!0,f.reject(le,I))})}},b.race=function(x){var N=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=x.length,z=!1;if(!U)return this.resolve([]);for(var q=-1,ae=new this(c);++q<U;)ne=x[q],N.resolve(ne).then(function(le){z||(z=!0,f.resolve(ae,le))},function(le){z||(z=!0,f.reject(ae,le))});var ne;return ae}},{immediate:36}],38:[function(r,a,l){var u={};(0,r("./lib/utils/common").assign)(u,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,l){var u=r("./zlib/deflate"),c=r("./utils/common"),f=r("./utils/strings"),d=r("./zlib/messages"),p=r("./zlib/zstream"),m=Object.prototype.toString,b=0,_=-1,S=0,j=8;function E(x){if(!(this instanceof E))return new E(x);this.options=c.assign({level:_,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},x||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var U=u.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(U!==b)throw new Error(d[U]);if(N.header&&u.deflateSetHeader(this.strm,N.header),N.dictionary){var z;if(z=typeof N.dictionary=="string"?f.string2buf(N.dictionary):m.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(U=u.deflateSetDictionary(this.strm,z))!==b)throw new Error(d[U]);this._dict_set=!0}}function O(x,N){var U=new E(N);if(U.push(x,!0),U.err)throw U.msg||d[U.err];return U.result}E.prototype.push=function(x,N){var U,z,q=this.strm,ae=this.options.chunkSize;if(this.ended)return!1;z=N===~~N?N:N===!0?4:0,typeof x=="string"?q.input=f.string2buf(x):m.call(x)==="[object ArrayBuffer]"?q.input=new Uint8Array(x):q.input=x,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new c.Buf8(ae),q.next_out=0,q.avail_out=ae),(U=u.deflate(q,z))!==1&&U!==b)return this.onEnd(U),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(c.shrinkBuf(q.output,q.next_out))):this.onData(c.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&U!==1);return z===4?(U=u.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===b):z!==2||(this.onEnd(b),!(q.avail_out=0))},E.prototype.onData=function(x){this.chunks.push(x)},E.prototype.onEnd=function(x){x===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},l.Deflate=E,l.deflate=O,l.deflateRaw=function(x,N){return(N=N||{}).raw=!0,O(x,N)},l.gzip=function(x,N){return(N=N||{}).gzip=!0,O(x,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,l){var u=r("./zlib/inflate"),c=r("./utils/common"),f=r("./utils/strings"),d=r("./zlib/constants"),p=r("./zlib/messages"),m=r("./zlib/zstream"),b=r("./zlib/gzheader"),_=Object.prototype.toString;function S(E){if(!(this instanceof S))return new S(E);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},E||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||E&&E.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&(15&O.windowBits)==0&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=u.inflateInit2(this.strm,O.windowBits);if(x!==d.Z_OK)throw new Error(p[x]);this.header=new b,u.inflateGetHeader(this.strm,this.header)}function j(E,O){var x=new S(O);if(x.push(E,!0),x.err)throw x.msg||p[x.err];return x.result}S.prototype.push=function(E,O){var x,N,U,z,q,ae,ne=this.strm,le=this.options.chunkSize,L=this.options.dictionary,oe=!1;if(this.ended)return!1;N=O===~~O?O:O===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof E=="string"?ne.input=f.binstring2buf(E):_.call(E)==="[object ArrayBuffer]"?ne.input=new Uint8Array(E):ne.input=E,ne.next_in=0,ne.avail_in=ne.input.length;do{if(ne.avail_out===0&&(ne.output=new c.Buf8(le),ne.next_out=0,ne.avail_out=le),(x=u.inflate(ne,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&L&&(ae=typeof L=="string"?f.string2buf(L):_.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,x=u.inflateSetDictionary(this.strm,ae)),x===d.Z_BUF_ERROR&&oe===!0&&(x=d.Z_OK,oe=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);ne.next_out&&(ne.avail_out!==0&&x!==d.Z_STREAM_END&&(ne.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=f.utf8border(ne.output,ne.next_out),z=ne.next_out-U,q=f.buf2string(ne.output,U),ne.next_out=z,ne.avail_out=le-z,z&&c.arraySet(ne.output,ne.output,U,z,0),this.onData(q)):this.onData(c.shrinkBuf(ne.output,ne.next_out)))),ne.avail_in===0&&ne.avail_out===0&&(oe=!0)}while((0<ne.avail_in||ne.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(x=u.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(ne.avail_out=0))},S.prototype.onData=function(E){this.chunks.push(E)},S.prototype.onEnd=function(E){E===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},l.Inflate=S,l.inflate=j,l.inflateRaw=function(E,O){return(O=O||{}).raw=!0,j(E,O)},l.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var b in m)m.hasOwnProperty(b)&&(d[b]=m[b])}}return d},l.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var c={arraySet:function(d,p,m,b,_){if(p.subarray&&d.subarray)d.set(p.subarray(m,m+b),_);else for(var S=0;S<b;S++)d[_+S]=p[m+S]},flattenChunks:function(d){var p,m,b,_,S,j;for(p=b=0,m=d.length;p<m;p++)b+=d[p].length;for(j=new Uint8Array(b),p=_=0,m=d.length;p<m;p++)S=d[p],j.set(S,_),_+=S.length;return j}},f={arraySet:function(d,p,m,b,_){for(var S=0;S<b;S++)d[_+S]=p[m+S]},flattenChunks:function(d){return[].concat.apply([],d)}};l.setTyped=function(d){d?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,c)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,f))},l.setTyped(u)},{}],42:[function(r,a,l){var u=r("./common"),c=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var d=new u.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(b,_){if(_<65537&&(b.subarray&&f||!b.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(b,_));for(var S="",j=0;j<_;j++)S+=String.fromCharCode(b[j]);return S}d[254]=d[254]=1,l.string2buf=function(b){var _,S,j,E,O,x=b.length,N=0;for(E=0;E<x;E++)(64512&(S=b.charCodeAt(E)))==55296&&E+1<x&&(64512&(j=b.charCodeAt(E+1)))==56320&&(S=65536+(S-55296<<10)+(j-56320),E++),N+=S<128?1:S<2048?2:S<65536?3:4;for(_=new u.Buf8(N),E=O=0;O<N;E++)(64512&(S=b.charCodeAt(E)))==55296&&E+1<x&&(64512&(j=b.charCodeAt(E+1)))==56320&&(S=65536+(S-55296<<10)+(j-56320),E++),S<128?_[O++]=S:(S<2048?_[O++]=192|S>>>6:(S<65536?_[O++]=224|S>>>12:(_[O++]=240|S>>>18,_[O++]=128|S>>>12&63),_[O++]=128|S>>>6&63),_[O++]=128|63&S);return _},l.buf2binstring=function(b){return m(b,b.length)},l.binstring2buf=function(b){for(var _=new u.Buf8(b.length),S=0,j=_.length;S<j;S++)_[S]=b.charCodeAt(S);return _},l.buf2string=function(b,_){var S,j,E,O,x=_||b.length,N=new Array(2*x);for(S=j=0;S<x;)if((E=b[S++])<128)N[j++]=E;else if(4<(O=d[E]))N[j++]=65533,S+=O-1;else{for(E&=O===2?31:O===3?15:7;1<O&&S<x;)E=E<<6|63&b[S++],O--;1<O?N[j++]=65533:E<65536?N[j++]=E:(E-=65536,N[j++]=55296|E>>10&1023,N[j++]=56320|1023&E)}return m(N,j)},l.utf8border=function(b,_){var S;for((_=_||b.length)>b.length&&(_=b.length),S=_-1;0<=S&&(192&b[S])==128;)S--;return S<0||S===0?_:S+d[b[S]]>_?S:_}},{"./common":41}],43:[function(r,a,l){a.exports=function(u,c,f,d){for(var p=65535&u|0,m=u>>>16&65535|0,b=0;f!==0;){for(f-=b=2e3<f?2e3:f;m=m+(p=p+c[d++]|0)|0,--b;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(r,a,l){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,l){var u=(function(){for(var c,f=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;f[d]=c}return f})();a.exports=function(c,f,d,p){var m=u,b=p+d;c^=-1;for(var _=p;_<b;_++)c=c>>>8^m[255&(c^f[_])];return-1^c}},{}],46:[function(r,a,l){var u,c=r("../utils/common"),f=r("./trees"),d=r("./adler32"),p=r("./crc32"),m=r("./messages"),b=0,_=4,S=0,j=-2,E=-1,O=4,x=2,N=8,U=9,z=286,q=30,ae=19,ne=2*z+1,le=15,L=3,oe=258,he=oe+L+1,I=42,te=113,D=1,re=2,W=3,X=4;function me(A,ge){return A.msg=m[ge],ge}function ue(A){return(A<<1)-(4<A?9:0)}function G(A){for(var ge=A.length;0<=--ge;)A[ge]=0}function $(A){var ge=A.state,C=ge.pending;C>A.avail_out&&(C=A.avail_out),C!==0&&(c.arraySet(A.output,ge.pending_buf,ge.pending_out,C,A.next_out),A.next_out+=C,ge.pending_out+=C,A.total_out+=C,A.avail_out-=C,ge.pending-=C,ge.pending===0&&(ge.pending_out=0))}function B(A,ge){f._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ge),A.block_start=A.strstart,$(A.strm)}function Y(A,ge){A.pending_buf[A.pending++]=ge}function J(A,ge){A.pending_buf[A.pending++]=ge>>>8&255,A.pending_buf[A.pending++]=255&ge}function fe(A,ge){var C,g,v=A.max_chain_length,T=A.strstart,H=A.prev_length,ee=A.nice_match,V=A.strstart>A.w_size-he?A.strstart-(A.w_size-he):0,de=A.window,Te=A.w_mask,Se=A.prev,Ce=A.strstart+oe,De=de[T+H-1],Ue=de[T+H];A.prev_length>=A.good_match&&(v>>=2),ee>A.lookahead&&(ee=A.lookahead);do if(de[(C=ge)+H]===Ue&&de[C+H-1]===De&&de[C]===de[T]&&de[++C]===de[T+1]){T+=2,C++;do;while(de[++T]===de[++C]&&de[++T]===de[++C]&&de[++T]===de[++C]&&de[++T]===de[++C]&&de[++T]===de[++C]&&de[++T]===de[++C]&&de[++T]===de[++C]&&de[++T]===de[++C]&&T<Ce);if(g=oe-(Ce-T),T=Ce-oe,H<g){if(A.match_start=ge,ee<=(H=g))break;De=de[T+H-1],Ue=de[T+H]}}while((ge=Se[ge&Te])>V&&--v!=0);return H<=A.lookahead?H:A.lookahead}function Q(A){var ge,C,g,v,T,H,ee,V,de,Te,Se=A.w_size;do{if(v=A.window_size-A.lookahead-A.strstart,A.strstart>=Se+(Se-he)){for(c.arraySet(A.window,A.window,Se,Se,0),A.match_start-=Se,A.strstart-=Se,A.block_start-=Se,ge=C=A.hash_size;g=A.head[--ge],A.head[ge]=Se<=g?g-Se:0,--C;);for(ge=C=Se;g=A.prev[--ge],A.prev[ge]=Se<=g?g-Se:0,--C;);v+=Se}if(A.strm.avail_in===0)break;if(H=A.strm,ee=A.window,V=A.strstart+A.lookahead,de=v,Te=void 0,Te=H.avail_in,de<Te&&(Te=de),C=Te===0?0:(H.avail_in-=Te,c.arraySet(ee,H.input,H.next_in,Te,V),H.state.wrap===1?H.adler=d(H.adler,ee,Te,V):H.state.wrap===2&&(H.adler=p(H.adler,ee,Te,V)),H.next_in+=Te,H.total_in+=Te,Te),A.lookahead+=C,A.lookahead+A.insert>=L)for(T=A.strstart-A.insert,A.ins_h=A.window[T],A.ins_h=(A.ins_h<<A.hash_shift^A.window[T+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[T+L-1])&A.hash_mask,A.prev[T&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=T,T++,A.insert--,!(A.lookahead+A.insert<L)););}while(A.lookahead<he&&A.strm.avail_in!==0)}function R(A,ge){for(var C,g;;){if(A.lookahead<he){if(Q(A),A.lookahead<he&&ge===b)return D;if(A.lookahead===0)break}if(C=0,A.lookahead>=L&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,C=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),C!==0&&A.strstart-C<=A.w_size-he&&(A.match_length=fe(A,C)),A.match_length>=L)if(g=f._tr_tally(A,A.strstart-A.match_start,A.match_length-L),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=L){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,C=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else g=f._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(g&&(B(A,!1),A.strm.avail_out===0))return D}return A.insert=A.strstart<L-1?A.strstart:L-1,ge===_?(B(A,!0),A.strm.avail_out===0?W:X):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?D:re}function k(A,ge){for(var C,g,v;;){if(A.lookahead<he){if(Q(A),A.lookahead<he&&ge===b)return D;if(A.lookahead===0)break}if(C=0,A.lookahead>=L&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,C=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=L-1,C!==0&&A.prev_length<A.max_lazy_match&&A.strstart-C<=A.w_size-he&&(A.match_length=fe(A,C),A.match_length<=5&&(A.strategy===1||A.match_length===L&&4096<A.strstart-A.match_start)&&(A.match_length=L-1)),A.prev_length>=L&&A.match_length<=A.prev_length){for(v=A.strstart+A.lookahead-L,g=f._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-L),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=v&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+L-1])&A.hash_mask,C=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=L-1,A.strstart++,g&&(B(A,!1),A.strm.avail_out===0))return D}else if(A.match_available){if((g=f._tr_tally(A,0,A.window[A.strstart-1]))&&B(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return D}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(g=f._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<L-1?A.strstart:L-1,ge===_?(B(A,!0),A.strm.avail_out===0?W:X):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?D:re}function ie(A,ge,C,g,v){this.good_length=A,this.max_lazy=ge,this.nice_length=C,this.max_chain=g,this.func=v}function Z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*ne),this.dyn_dtree=new c.Buf16(2*(2*q+1)),this.bl_tree=new c.Buf16(2*(2*ae+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(le+1),this.heap=new c.Buf16(2*z+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*z+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(A){var ge;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=x,(ge=A.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?I:te,A.adler=ge.wrap===2?0:1,ge.last_flush=b,f._tr_init(ge),S):me(A,j)}function K(A){var ge=F(A);return ge===S&&(function(C){C.window_size=2*C.w_size,G(C.head),C.max_lazy_match=u[C.level].max_lazy,C.good_match=u[C.level].good_length,C.nice_match=u[C.level].nice_length,C.max_chain_length=u[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=L-1,C.match_available=0,C.ins_h=0})(A.state),ge}function be(A,ge,C,g,v,T){if(!A)return j;var H=1;if(ge===E&&(ge=6),g<0?(H=0,g=-g):15<g&&(H=2,g-=16),v<1||U<v||C!==N||g<8||15<g||ge<0||9<ge||T<0||O<T)return me(A,j);g===8&&(g=9);var ee=new Z;return(A.state=ee).strm=A,ee.wrap=H,ee.gzhead=null,ee.w_bits=g,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=v+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+L-1)/L),ee.window=new c.Buf8(2*ee.w_size),ee.head=new c.Buf16(ee.hash_size),ee.prev=new c.Buf16(ee.w_size),ee.lit_bufsize=1<<v+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new c.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=ge,ee.strategy=T,ee.method=C,K(A)}u=[new ie(0,0,0,0,function(A,ge){var C=65535;for(C>A.pending_buf_size-5&&(C=A.pending_buf_size-5);;){if(A.lookahead<=1){if(Q(A),A.lookahead===0&&ge===b)return D;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var g=A.block_start+C;if((A.strstart===0||A.strstart>=g)&&(A.lookahead=A.strstart-g,A.strstart=g,B(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-he&&(B(A,!1),A.strm.avail_out===0))return D}return A.insert=0,ge===_?(B(A,!0),A.strm.avail_out===0?W:X):(A.strstart>A.block_start&&(B(A,!1),A.strm.avail_out),D)}),new ie(4,4,8,4,R),new ie(4,5,16,8,R),new ie(4,6,32,32,R),new ie(4,4,16,16,k),new ie(8,16,32,32,k),new ie(8,16,128,128,k),new ie(8,32,128,256,k),new ie(32,128,258,1024,k),new ie(32,258,258,4096,k)],l.deflateInit=function(A,ge){return be(A,ge,N,15,8,0)},l.deflateInit2=be,l.deflateReset=K,l.deflateResetKeep=F,l.deflateSetHeader=function(A,ge){return A&&A.state?A.state.wrap!==2?j:(A.state.gzhead=ge,S):j},l.deflate=function(A,ge){var C,g,v,T;if(!A||!A.state||5<ge||ge<0)return A?me(A,j):j;if(g=A.state,!A.output||!A.input&&A.avail_in!==0||g.status===666&&ge!==_)return me(A,A.avail_out===0?-5:j);if(g.strm=A,C=g.last_flush,g.last_flush=ge,g.status===I)if(g.wrap===2)A.adler=0,Y(g,31),Y(g,139),Y(g,8),g.gzhead?(Y(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),Y(g,255&g.gzhead.time),Y(g,g.gzhead.time>>8&255),Y(g,g.gzhead.time>>16&255),Y(g,g.gzhead.time>>24&255),Y(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),Y(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(Y(g,255&g.gzhead.extra.length),Y(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(A.adler=p(A.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(Y(g,0),Y(g,0),Y(g,0),Y(g,0),Y(g,0),Y(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),Y(g,3),g.status=te);else{var H=N+(g.w_bits-8<<4)<<8;H|=(2<=g.strategy||g.level<2?0:g.level<6?1:g.level===6?2:3)<<6,g.strstart!==0&&(H|=32),H+=31-H%31,g.status=te,J(g,H),g.strstart!==0&&(J(g,A.adler>>>16),J(g,65535&A.adler)),A.adler=1}if(g.status===69)if(g.gzhead.extra){for(v=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>v&&(A.adler=p(A.adler,g.pending_buf,g.pending-v,v)),$(A),v=g.pending,g.pending!==g.pending_buf_size));)Y(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>v&&(A.adler=p(A.adler,g.pending_buf,g.pending-v,v)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(g.status===73)if(g.gzhead.name){v=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(A.adler=p(A.adler,g.pending_buf,g.pending-v,v)),$(A),v=g.pending,g.pending===g.pending_buf_size)){T=1;break}T=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,Y(g,T)}while(T!==0);g.gzhead.hcrc&&g.pending>v&&(A.adler=p(A.adler,g.pending_buf,g.pending-v,v)),T===0&&(g.gzindex=0,g.status=91)}else g.status=91;if(g.status===91)if(g.gzhead.comment){v=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(A.adler=p(A.adler,g.pending_buf,g.pending-v,v)),$(A),v=g.pending,g.pending===g.pending_buf_size)){T=1;break}T=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,Y(g,T)}while(T!==0);g.gzhead.hcrc&&g.pending>v&&(A.adler=p(A.adler,g.pending_buf,g.pending-v,v)),T===0&&(g.status=103)}else g.status=103;if(g.status===103&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&$(A),g.pending+2<=g.pending_buf_size&&(Y(g,255&A.adler),Y(g,A.adler>>8&255),A.adler=0,g.status=te)):g.status=te),g.pending!==0){if($(A),A.avail_out===0)return g.last_flush=-1,S}else if(A.avail_in===0&&ue(ge)<=ue(C)&&ge!==_)return me(A,-5);if(g.status===666&&A.avail_in!==0)return me(A,-5);if(A.avail_in!==0||g.lookahead!==0||ge!==b&&g.status!==666){var ee=g.strategy===2?(function(V,de){for(var Te;;){if(V.lookahead===0&&(Q(V),V.lookahead===0)){if(de===b)return D;break}if(V.match_length=0,Te=f._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,Te&&(B(V,!1),V.strm.avail_out===0))return D}return V.insert=0,de===_?(B(V,!0),V.strm.avail_out===0?W:X):V.last_lit&&(B(V,!1),V.strm.avail_out===0)?D:re})(g,ge):g.strategy===3?(function(V,de){for(var Te,Se,Ce,De,Ue=V.window;;){if(V.lookahead<=oe){if(Q(V),V.lookahead<=oe&&de===b)return D;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=L&&0<V.strstart&&(Se=Ue[Ce=V.strstart-1])===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]){De=V.strstart+oe;do;while(Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Se===Ue[++Ce]&&Ce<De);V.match_length=oe-(De-Ce),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=L?(Te=f._tr_tally(V,1,V.match_length-L),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(Te=f._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),Te&&(B(V,!1),V.strm.avail_out===0))return D}return V.insert=0,de===_?(B(V,!0),V.strm.avail_out===0?W:X):V.last_lit&&(B(V,!1),V.strm.avail_out===0)?D:re})(g,ge):u[g.level].func(g,ge);if(ee!==W&&ee!==X||(g.status=666),ee===D||ee===W)return A.avail_out===0&&(g.last_flush=-1),S;if(ee===re&&(ge===1?f._tr_align(g):ge!==5&&(f._tr_stored_block(g,0,0,!1),ge===3&&(G(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),$(A),A.avail_out===0))return g.last_flush=-1,S}return ge!==_?S:g.wrap<=0?1:(g.wrap===2?(Y(g,255&A.adler),Y(g,A.adler>>8&255),Y(g,A.adler>>16&255),Y(g,A.adler>>24&255),Y(g,255&A.total_in),Y(g,A.total_in>>8&255),Y(g,A.total_in>>16&255),Y(g,A.total_in>>24&255)):(J(g,A.adler>>>16),J(g,65535&A.adler)),$(A),0<g.wrap&&(g.wrap=-g.wrap),g.pending!==0?S:1)},l.deflateEnd=function(A){var ge;return A&&A.state?(ge=A.state.status)!==I&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==te&&ge!==666?me(A,j):(A.state=null,ge===te?me(A,-3):S):j},l.deflateSetDictionary=function(A,ge){var C,g,v,T,H,ee,V,de,Te=ge.length;if(!A||!A.state||(T=(C=A.state).wrap)===2||T===1&&C.status!==I||C.lookahead)return j;for(T===1&&(A.adler=d(A.adler,ge,Te,0)),C.wrap=0,Te>=C.w_size&&(T===0&&(G(C.head),C.strstart=0,C.block_start=0,C.insert=0),de=new c.Buf8(C.w_size),c.arraySet(de,ge,Te-C.w_size,C.w_size,0),ge=de,Te=C.w_size),H=A.avail_in,ee=A.next_in,V=A.input,A.avail_in=Te,A.next_in=0,A.input=ge,Q(C);C.lookahead>=L;){for(g=C.strstart,v=C.lookahead-(L-1);C.ins_h=(C.ins_h<<C.hash_shift^C.window[g+L-1])&C.hash_mask,C.prev[g&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=g,g++,--v;);C.strstart=g,C.lookahead=L-1,Q(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=L-1,C.match_available=0,A.next_in=ee,A.input=V,A.avail_in=H,C.wrap=T,S},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,l){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,l){a.exports=function(u,c){var f,d,p,m,b,_,S,j,E,O,x,N,U,z,q,ae,ne,le,L,oe,he,I,te,D,re;f=u.state,d=u.next_in,D=u.input,p=d+(u.avail_in-5),m=u.next_out,re=u.output,b=m-(c-u.avail_out),_=m+(u.avail_out-257),S=f.dmax,j=f.wsize,E=f.whave,O=f.wnext,x=f.window,N=f.hold,U=f.bits,z=f.lencode,q=f.distcode,ae=(1<<f.lenbits)-1,ne=(1<<f.distbits)-1;e:do{U<15&&(N+=D[d++]<<U,U+=8,N+=D[d++]<<U,U+=8),le=z[N&ae];t:for(;;){if(N>>>=L=le>>>24,U-=L,(L=le>>>16&255)===0)re[m++]=65535&le;else{if(!(16&L)){if((64&L)==0){le=z[(65535&le)+(N&(1<<L)-1)];continue t}if(32&L){f.mode=12;break e}u.msg="invalid literal/length code",f.mode=30;break e}oe=65535&le,(L&=15)&&(U<L&&(N+=D[d++]<<U,U+=8),oe+=N&(1<<L)-1,N>>>=L,U-=L),U<15&&(N+=D[d++]<<U,U+=8,N+=D[d++]<<U,U+=8),le=q[N&ne];n:for(;;){if(N>>>=L=le>>>24,U-=L,!(16&(L=le>>>16&255))){if((64&L)==0){le=q[(65535&le)+(N&(1<<L)-1)];continue n}u.msg="invalid distance code",f.mode=30;break e}if(he=65535&le,U<(L&=15)&&(N+=D[d++]<<U,(U+=8)<L&&(N+=D[d++]<<U,U+=8)),S<(he+=N&(1<<L)-1)){u.msg="invalid distance too far back",f.mode=30;break e}if(N>>>=L,U-=L,(L=m-b)<he){if(E<(L=he-L)&&f.sane){u.msg="invalid distance too far back",f.mode=30;break e}if(te=x,(I=0)===O){if(I+=j-L,L<oe){for(oe-=L;re[m++]=x[I++],--L;);I=m-he,te=re}}else if(O<L){if(I+=j+O-L,(L-=O)<oe){for(oe-=L;re[m++]=x[I++],--L;);if(I=0,O<oe){for(oe-=L=O;re[m++]=x[I++],--L;);I=m-he,te=re}}}else if(I+=O-L,L<oe){for(oe-=L;re[m++]=x[I++],--L;);I=m-he,te=re}for(;2<oe;)re[m++]=te[I++],re[m++]=te[I++],re[m++]=te[I++],oe-=3;oe&&(re[m++]=te[I++],1<oe&&(re[m++]=te[I++]))}else{for(I=m-he;re[m++]=re[I++],re[m++]=re[I++],re[m++]=re[I++],2<(oe-=3););oe&&(re[m++]=re[I++],1<oe&&(re[m++]=re[I++]))}break}}break}}while(d<p&&m<_);d-=oe=U>>3,N&=(1<<(U-=oe<<3))-1,u.next_in=d,u.next_out=m,u.avail_in=d<p?p-d+5:5-(d-p),u.avail_out=m<_?_-m+257:257-(m-_),f.hold=N,f.bits=U}},{}],49:[function(r,a,l){var u=r("../utils/common"),c=r("./adler32"),f=r("./crc32"),d=r("./inffast"),p=r("./inftrees"),m=1,b=2,_=0,S=-2,j=1,E=852,O=592;function x(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U(I){var te;return I&&I.state?(te=I.state,I.total_in=I.total_out=te.total=0,I.msg="",te.wrap&&(I.adler=1&te.wrap),te.mode=j,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new u.Buf32(E),te.distcode=te.distdyn=new u.Buf32(O),te.sane=1,te.back=-1,_):S}function z(I){var te;return I&&I.state?((te=I.state).wsize=0,te.whave=0,te.wnext=0,U(I)):S}function q(I,te){var D,re;return I&&I.state?(re=I.state,te<0?(D=0,te=-te):(D=1+(te>>4),te<48&&(te&=15)),te&&(te<8||15<te)?S:(re.window!==null&&re.wbits!==te&&(re.window=null),re.wrap=D,re.wbits=te,z(I))):S}function ae(I,te){var D,re;return I?(re=new N,(I.state=re).window=null,(D=q(I,te))!==_&&(I.state=null),D):S}var ne,le,L=!0;function oe(I){if(L){var te;for(ne=new u.Buf32(512),le=new u.Buf32(32),te=0;te<144;)I.lens[te++]=8;for(;te<256;)I.lens[te++]=9;for(;te<280;)I.lens[te++]=7;for(;te<288;)I.lens[te++]=8;for(p(m,I.lens,0,288,ne,0,I.work,{bits:9}),te=0;te<32;)I.lens[te++]=5;p(b,I.lens,0,32,le,0,I.work,{bits:5}),L=!1}I.lencode=ne,I.lenbits=9,I.distcode=le,I.distbits=5}function he(I,te,D,re){var W,X=I.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new u.Buf8(X.wsize)),re>=X.wsize?(u.arraySet(X.window,te,D-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(re<(W=X.wsize-X.wnext)&&(W=re),u.arraySet(X.window,te,D-re,W,X.wnext),(re-=W)?(u.arraySet(X.window,te,D-re,re,0),X.wnext=re,X.whave=X.wsize):(X.wnext+=W,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=W))),0}l.inflateReset=z,l.inflateReset2=q,l.inflateResetKeep=U,l.inflateInit=function(I){return ae(I,15)},l.inflateInit2=ae,l.inflate=function(I,te){var D,re,W,X,me,ue,G,$,B,Y,J,fe,Q,R,k,ie,Z,F,K,be,A,ge,C,g,v=0,T=new u.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return S;(D=I.state).mode===12&&(D.mode=13),me=I.next_out,W=I.output,G=I.avail_out,X=I.next_in,re=I.input,ue=I.avail_in,$=D.hold,B=D.bits,Y=ue,J=G,ge=_;e:for(;;)switch(D.mode){case j:if(D.wrap===0){D.mode=13;break}for(;B<16;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if(2&D.wrap&&$===35615){T[D.check=0]=255&$,T[1]=$>>>8&255,D.check=f(D.check,T,2,0),B=$=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&$)<<8)+($>>8))%31){I.msg="incorrect header check",D.mode=30;break}if((15&$)!=8){I.msg="unknown compression method",D.mode=30;break}if(B-=4,A=8+(15&($>>>=4)),D.wbits===0)D.wbits=A;else if(A>D.wbits){I.msg="invalid window size",D.mode=30;break}D.dmax=1<<A,I.adler=D.check=1,D.mode=512&$?10:12,B=$=0;break;case 2:for(;B<16;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if(D.flags=$,(255&D.flags)!=8){I.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){I.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=$>>8&1),512&D.flags&&(T[0]=255&$,T[1]=$>>>8&255,D.check=f(D.check,T,2,0)),B=$=0,D.mode=3;case 3:for(;B<32;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}D.head&&(D.head.time=$),512&D.flags&&(T[0]=255&$,T[1]=$>>>8&255,T[2]=$>>>16&255,T[3]=$>>>24&255,D.check=f(D.check,T,4,0)),B=$=0,D.mode=4;case 4:for(;B<16;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}D.head&&(D.head.xflags=255&$,D.head.os=$>>8),512&D.flags&&(T[0]=255&$,T[1]=$>>>8&255,D.check=f(D.check,T,2,0)),B=$=0,D.mode=5;case 5:if(1024&D.flags){for(;B<16;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}D.length=$,D.head&&(D.head.extra_len=$),512&D.flags&&(T[0]=255&$,T[1]=$>>>8&255,D.check=f(D.check,T,2,0)),B=$=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(ue<(fe=D.length)&&(fe=ue),fe&&(D.head&&(A=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),u.arraySet(D.head.extra,re,X,fe,A)),512&D.flags&&(D.check=f(D.check,re,fe,X)),ue-=fe,X+=fe,D.length-=fe),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(ue===0)break e;for(fe=0;A=re[X+fe++],D.head&&A&&D.length<65536&&(D.head.name+=String.fromCharCode(A)),A&&fe<ue;);if(512&D.flags&&(D.check=f(D.check,re,fe,X)),ue-=fe,X+=fe,A)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(ue===0)break e;for(fe=0;A=re[X+fe++],D.head&&A&&D.length<65536&&(D.head.comment+=String.fromCharCode(A)),A&&fe<ue;);if(512&D.flags&&(D.check=f(D.check,re,fe,X)),ue-=fe,X+=fe,A)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;B<16;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if($!==(65535&D.check)){I.msg="header crc mismatch",D.mode=30;break}B=$=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),I.adler=D.check=0,D.mode=12;break;case 10:for(;B<32;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}I.adler=D.check=x($),B=$=0,D.mode=11;case 11:if(D.havedict===0)return I.next_out=me,I.avail_out=G,I.next_in=X,I.avail_in=ue,D.hold=$,D.bits=B,2;I.adler=D.check=1,D.mode=12;case 12:if(te===5||te===6)break e;case 13:if(D.last){$>>>=7&B,B-=7&B,D.mode=27;break}for(;B<3;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}switch(D.last=1&$,B-=1,3&($>>>=1)){case 0:D.mode=14;break;case 1:if(oe(D),D.mode=20,te!==6)break;$>>>=2,B-=2;break e;case 2:D.mode=17;break;case 3:I.msg="invalid block type",D.mode=30}$>>>=2,B-=2;break;case 14:for($>>>=7&B,B-=7&B;B<32;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if((65535&$)!=($>>>16^65535)){I.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&$,B=$=0,D.mode=15,te===6)break e;case 15:D.mode=16;case 16:if(fe=D.length){if(ue<fe&&(fe=ue),G<fe&&(fe=G),fe===0)break e;u.arraySet(W,re,X,fe,me),ue-=fe,X+=fe,G-=fe,me+=fe,D.length-=fe;break}D.mode=12;break;case 17:for(;B<14;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if(D.nlen=257+(31&$),$>>>=5,B-=5,D.ndist=1+(31&$),$>>>=5,B-=5,D.ncode=4+(15&$),$>>>=4,B-=4,286<D.nlen||30<D.ndist){I.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;B<3;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}D.lens[H[D.have++]]=7&$,$>>>=3,B-=3}for(;D.have<19;)D.lens[H[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,C={bits:D.lenbits},ge=p(0,D.lens,0,19,D.lencode,0,D.work,C),D.lenbits=C.bits,ge){I.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;ie=(v=D.lencode[$&(1<<D.lenbits)-1])>>>16&255,Z=65535&v,!((k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if(Z<16)$>>>=k,B-=k,D.lens[D.have++]=Z;else{if(Z===16){for(g=k+2;B<g;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if($>>>=k,B-=k,D.have===0){I.msg="invalid bit length repeat",D.mode=30;break}A=D.lens[D.have-1],fe=3+(3&$),$>>>=2,B-=2}else if(Z===17){for(g=k+3;B<g;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}B-=k,A=0,fe=3+(7&($>>>=k)),$>>>=3,B-=3}else{for(g=k+7;B<g;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}B-=k,A=0,fe=11+(127&($>>>=k)),$>>>=7,B-=7}if(D.have+fe>D.nlen+D.ndist){I.msg="invalid bit length repeat",D.mode=30;break}for(;fe--;)D.lens[D.have++]=A}}if(D.mode===30)break;if(D.lens[256]===0){I.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,C={bits:D.lenbits},ge=p(m,D.lens,0,D.nlen,D.lencode,0,D.work,C),D.lenbits=C.bits,ge){I.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,C={bits:D.distbits},ge=p(b,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,C),D.distbits=C.bits,ge){I.msg="invalid distances set",D.mode=30;break}if(D.mode=20,te===6)break e;case 20:D.mode=21;case 21:if(6<=ue&&258<=G){I.next_out=me,I.avail_out=G,I.next_in=X,I.avail_in=ue,D.hold=$,D.bits=B,d(I,J),me=I.next_out,W=I.output,G=I.avail_out,X=I.next_in,re=I.input,ue=I.avail_in,$=D.hold,B=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;ie=(v=D.lencode[$&(1<<D.lenbits)-1])>>>16&255,Z=65535&v,!((k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if(ie&&(240&ie)==0){for(F=k,K=ie,be=Z;ie=(v=D.lencode[be+(($&(1<<F+K)-1)>>F)])>>>16&255,Z=65535&v,!(F+(k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}$>>>=F,B-=F,D.back+=F}if($>>>=k,B-=k,D.back+=k,D.length=Z,ie===0){D.mode=26;break}if(32&ie){D.back=-1,D.mode=12;break}if(64&ie){I.msg="invalid literal/length code",D.mode=30;break}D.extra=15&ie,D.mode=22;case 22:if(D.extra){for(g=D.extra;B<g;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}D.length+=$&(1<<D.extra)-1,$>>>=D.extra,B-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;ie=(v=D.distcode[$&(1<<D.distbits)-1])>>>16&255,Z=65535&v,!((k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if((240&ie)==0){for(F=k,K=ie,be=Z;ie=(v=D.distcode[be+(($&(1<<F+K)-1)>>F)])>>>16&255,Z=65535&v,!(F+(k=v>>>24)<=B);){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}$>>>=F,B-=F,D.back+=F}if($>>>=k,B-=k,D.back+=k,64&ie){I.msg="invalid distance code",D.mode=30;break}D.offset=Z,D.extra=15&ie,D.mode=24;case 24:if(D.extra){for(g=D.extra;B<g;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}D.offset+=$&(1<<D.extra)-1,$>>>=D.extra,B-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){I.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(G===0)break e;if(fe=J-G,D.offset>fe){if((fe=D.offset-fe)>D.whave&&D.sane){I.msg="invalid distance too far back",D.mode=30;break}Q=fe>D.wnext?(fe-=D.wnext,D.wsize-fe):D.wnext-fe,fe>D.length&&(fe=D.length),R=D.window}else R=W,Q=me-D.offset,fe=D.length;for(G<fe&&(fe=G),G-=fe,D.length-=fe;W[me++]=R[Q++],--fe;);D.length===0&&(D.mode=21);break;case 26:if(G===0)break e;W[me++]=D.length,G--,D.mode=21;break;case 27:if(D.wrap){for(;B<32;){if(ue===0)break e;ue--,$|=re[X++]<<B,B+=8}if(J-=G,I.total_out+=J,D.total+=J,J&&(I.adler=D.check=D.flags?f(D.check,W,J,me-J):c(D.check,W,J,me-J)),J=G,(D.flags?$:x($))!==D.check){I.msg="incorrect data check",D.mode=30;break}B=$=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;B<32;){if(ue===0)break e;ue--,$+=re[X++]<<B,B+=8}if($!==(4294967295&D.total)){I.msg="incorrect length check",D.mode=30;break}B=$=0}D.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return S}return I.next_out=me,I.avail_out=G,I.next_in=X,I.avail_in=ue,D.hold=$,D.bits=B,(D.wsize||J!==I.avail_out&&D.mode<30&&(D.mode<27||te!==4))&&he(I,I.output,I.next_out,J-I.avail_out)?(D.mode=31,-4):(Y-=I.avail_in,J-=I.avail_out,I.total_in+=Y,I.total_out+=J,D.total+=J,D.wrap&&J&&(I.adler=D.check=D.flags?f(D.check,W,J,I.next_out-J):c(D.check,W,J,I.next_out-J)),I.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(Y==0&&J===0||te===4)&&ge===_&&(ge=-5),ge)},l.inflateEnd=function(I){if(!I||!I.state)return S;var te=I.state;return te.window&&(te.window=null),I.state=null,_},l.inflateGetHeader=function(I,te){var D;return I&&I.state?(2&(D=I.state).wrap)==0?S:((D.head=te).done=!1,_):S},l.inflateSetDictionary=function(I,te){var D,re=te.length;return I&&I.state?(D=I.state).wrap!==0&&D.mode!==11?S:D.mode===11&&c(1,te,re,0)!==D.check?-3:he(I,te,re,re)?(D.mode=31,-4):(D.havedict=1,_):S},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,l){var u=r("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(m,b,_,S,j,E,O,x){var N,U,z,q,ae,ne,le,L,oe,he=x.bits,I=0,te=0,D=0,re=0,W=0,X=0,me=0,ue=0,G=0,$=0,B=null,Y=0,J=new u.Buf16(16),fe=new u.Buf16(16),Q=null,R=0;for(I=0;I<=15;I++)J[I]=0;for(te=0;te<S;te++)J[b[_+te]]++;for(W=he,re=15;1<=re&&J[re]===0;re--);if(re<W&&(W=re),re===0)return j[E++]=20971520,j[E++]=20971520,x.bits=1,0;for(D=1;D<re&&J[D]===0;D++);for(W<D&&(W=D),I=ue=1;I<=15;I++)if(ue<<=1,(ue-=J[I])<0)return-1;if(0<ue&&(m===0||re!==1))return-1;for(fe[1]=0,I=1;I<15;I++)fe[I+1]=fe[I]+J[I];for(te=0;te<S;te++)b[_+te]!==0&&(O[fe[b[_+te]]++]=te);if(ne=m===0?(B=Q=O,19):m===1?(B=c,Y-=257,Q=f,R-=257,256):(B=d,Q=p,-1),I=D,ae=E,me=te=$=0,z=-1,q=(G=1<<(X=W))-1,m===1&&852<G||m===2&&592<G)return 1;for(;;){for(le=I-me,oe=O[te]<ne?(L=0,O[te]):O[te]>ne?(L=Q[R+O[te]],B[Y+O[te]]):(L=96,0),N=1<<I-me,D=U=1<<X;j[ae+($>>me)+(U-=N)]=le<<24|L<<16|oe|0,U!==0;);for(N=1<<I-1;$&N;)N>>=1;if(N!==0?($&=N-1,$+=N):$=0,te++,--J[I]==0){if(I===re)break;I=b[_+O[te]]}if(W<I&&($&q)!==z){for(me===0&&(me=W),ae+=D,ue=1<<(X=I-me);X+me<re&&!((ue-=J[X+me])<=0);)X++,ue<<=1;if(G+=1<<X,m===1&&852<G||m===2&&592<G)return 1;j[z=$&q]=W<<24|X<<16|ae-E|0}}return $!==0&&(j[ae+$]=I-me<<24|64<<16|0),x.bits=W,0}},{"../utils/common":41}],51:[function(r,a,l){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,l){var u=r("../utils/common"),c=0,f=1;function d(v){for(var T=v.length;0<=--T;)v[T]=0}var p=0,m=29,b=256,_=b+1+m,S=30,j=19,E=2*_+1,O=15,x=16,N=7,U=256,z=16,q=17,ae=18,ne=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],le=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=new Array(2*(_+2));d(he);var I=new Array(2*S);d(I);var te=new Array(512);d(te);var D=new Array(256);d(D);var re=new Array(m);d(re);var W,X,me,ue=new Array(S);function G(v,T,H,ee,V){this.static_tree=v,this.extra_bits=T,this.extra_base=H,this.elems=ee,this.max_length=V,this.has_stree=v&&v.length}function $(v,T){this.dyn_tree=v,this.max_code=0,this.stat_desc=T}function B(v){return v<256?te[v]:te[256+(v>>>7)]}function Y(v,T){v.pending_buf[v.pending++]=255&T,v.pending_buf[v.pending++]=T>>>8&255}function J(v,T,H){v.bi_valid>x-H?(v.bi_buf|=T<<v.bi_valid&65535,Y(v,v.bi_buf),v.bi_buf=T>>x-v.bi_valid,v.bi_valid+=H-x):(v.bi_buf|=T<<v.bi_valid&65535,v.bi_valid+=H)}function fe(v,T,H){J(v,H[2*T],H[2*T+1])}function Q(v,T){for(var H=0;H|=1&v,v>>>=1,H<<=1,0<--T;);return H>>>1}function R(v,T,H){var ee,V,de=new Array(O+1),Te=0;for(ee=1;ee<=O;ee++)de[ee]=Te=Te+H[ee-1]<<1;for(V=0;V<=T;V++){var Se=v[2*V+1];Se!==0&&(v[2*V]=Q(de[Se]++,Se))}}function k(v){var T;for(T=0;T<_;T++)v.dyn_ltree[2*T]=0;for(T=0;T<S;T++)v.dyn_dtree[2*T]=0;for(T=0;T<j;T++)v.bl_tree[2*T]=0;v.dyn_ltree[2*U]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ie(v){8<v.bi_valid?Y(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function Z(v,T,H,ee){var V=2*T,de=2*H;return v[V]<v[de]||v[V]===v[de]&&ee[T]<=ee[H]}function F(v,T,H){for(var ee=v.heap[H],V=H<<1;V<=v.heap_len&&(V<v.heap_len&&Z(T,v.heap[V+1],v.heap[V],v.depth)&&V++,!Z(T,ee,v.heap[V],v.depth));)v.heap[H]=v.heap[V],H=V,V<<=1;v.heap[H]=ee}function K(v,T,H){var ee,V,de,Te,Se=0;if(v.last_lit!==0)for(;ee=v.pending_buf[v.d_buf+2*Se]<<8|v.pending_buf[v.d_buf+2*Se+1],V=v.pending_buf[v.l_buf+Se],Se++,ee===0?fe(v,V,T):(fe(v,(de=D[V])+b+1,T),(Te=ne[de])!==0&&J(v,V-=re[de],Te),fe(v,de=B(--ee),H),(Te=le[de])!==0&&J(v,ee-=ue[de],Te)),Se<v.last_lit;);fe(v,U,T)}function be(v,T){var H,ee,V,de=T.dyn_tree,Te=T.stat_desc.static_tree,Se=T.stat_desc.has_stree,Ce=T.stat_desc.elems,De=-1;for(v.heap_len=0,v.heap_max=E,H=0;H<Ce;H++)de[2*H]!==0?(v.heap[++v.heap_len]=De=H,v.depth[H]=0):de[2*H+1]=0;for(;v.heap_len<2;)de[2*(V=v.heap[++v.heap_len]=De<2?++De:0)]=1,v.depth[V]=0,v.opt_len--,Se&&(v.static_len-=Te[2*V+1]);for(T.max_code=De,H=v.heap_len>>1;1<=H;H--)F(v,de,H);for(V=Ce;H=v.heap[1],v.heap[1]=v.heap[v.heap_len--],F(v,de,1),ee=v.heap[1],v.heap[--v.heap_max]=H,v.heap[--v.heap_max]=ee,de[2*V]=de[2*H]+de[2*ee],v.depth[V]=(v.depth[H]>=v.depth[ee]?v.depth[H]:v.depth[ee])+1,de[2*H+1]=de[2*ee+1]=V,v.heap[1]=V++,F(v,de,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],(function(Ue,Ge){var it,Be,st,$e,pt,_t,St=Ge.dyn_tree,It=Ge.max_code,wn=Ge.stat_desc.static_tree,un=Ge.stat_desc.has_stree,cn=Ge.stat_desc.extra_bits,Fn=Ge.stat_desc.extra_base,en=Ge.stat_desc.max_length,Qt=0;for($e=0;$e<=O;$e++)Ue.bl_count[$e]=0;for(St[2*Ue.heap[Ue.heap_max]+1]=0,it=Ue.heap_max+1;it<E;it++)en<($e=St[2*St[2*(Be=Ue.heap[it])+1]+1]+1)&&($e=en,Qt++),St[2*Be+1]=$e,It<Be||(Ue.bl_count[$e]++,pt=0,Fn<=Be&&(pt=cn[Be-Fn]),_t=St[2*Be],Ue.opt_len+=_t*($e+pt),un&&(Ue.static_len+=_t*(wn[2*Be+1]+pt)));if(Qt!==0){do{for($e=en-1;Ue.bl_count[$e]===0;)$e--;Ue.bl_count[$e]--,Ue.bl_count[$e+1]+=2,Ue.bl_count[en]--,Qt-=2}while(0<Qt);for($e=en;$e!==0;$e--)for(Be=Ue.bl_count[$e];Be!==0;)It<(st=Ue.heap[--it])||(St[2*st+1]!==$e&&(Ue.opt_len+=($e-St[2*st+1])*St[2*st],St[2*st+1]=$e),Be--)}})(v,T),R(de,De,v.bl_count)}function A(v,T,H){var ee,V,de=-1,Te=T[1],Se=0,Ce=7,De=4;for(Te===0&&(Ce=138,De=3),T[2*(H+1)+1]=65535,ee=0;ee<=H;ee++)V=Te,Te=T[2*(ee+1)+1],++Se<Ce&&V===Te||(Se<De?v.bl_tree[2*V]+=Se:V!==0?(V!==de&&v.bl_tree[2*V]++,v.bl_tree[2*z]++):Se<=10?v.bl_tree[2*q]++:v.bl_tree[2*ae]++,de=V,De=(Se=0)===Te?(Ce=138,3):V===Te?(Ce=6,3):(Ce=7,4))}function ge(v,T,H){var ee,V,de=-1,Te=T[1],Se=0,Ce=7,De=4;for(Te===0&&(Ce=138,De=3),ee=0;ee<=H;ee++)if(V=Te,Te=T[2*(ee+1)+1],!(++Se<Ce&&V===Te)){if(Se<De)for(;fe(v,V,v.bl_tree),--Se!=0;);else V!==0?(V!==de&&(fe(v,V,v.bl_tree),Se--),fe(v,z,v.bl_tree),J(v,Se-3,2)):Se<=10?(fe(v,q,v.bl_tree),J(v,Se-3,3)):(fe(v,ae,v.bl_tree),J(v,Se-11,7));de=V,De=(Se=0)===Te?(Ce=138,3):V===Te?(Ce=6,3):(Ce=7,4)}}d(ue);var C=!1;function g(v,T,H,ee){J(v,(p<<1)+(ee?1:0),3),(function(V,de,Te,Se){ie(V),Y(V,Te),Y(V,~Te),u.arraySet(V.pending_buf,V.window,de,Te,V.pending),V.pending+=Te})(v,T,H)}l._tr_init=function(v){C||((function(){var T,H,ee,V,de,Te=new Array(O+1);for(V=ee=0;V<m-1;V++)for(re[V]=ee,T=0;T<1<<ne[V];T++)D[ee++]=V;for(D[ee-1]=V,V=de=0;V<16;V++)for(ue[V]=de,T=0;T<1<<le[V];T++)te[de++]=V;for(de>>=7;V<S;V++)for(ue[V]=de<<7,T=0;T<1<<le[V]-7;T++)te[256+de++]=V;for(H=0;H<=O;H++)Te[H]=0;for(T=0;T<=143;)he[2*T+1]=8,T++,Te[8]++;for(;T<=255;)he[2*T+1]=9,T++,Te[9]++;for(;T<=279;)he[2*T+1]=7,T++,Te[7]++;for(;T<=287;)he[2*T+1]=8,T++,Te[8]++;for(R(he,_+1,Te),T=0;T<S;T++)I[2*T+1]=5,I[2*T]=Q(T,5);W=new G(he,ne,b+1,_,O),X=new G(I,le,0,S,O),me=new G(new Array(0),L,0,j,N)})(),C=!0),v.l_desc=new $(v.dyn_ltree,W),v.d_desc=new $(v.dyn_dtree,X),v.bl_desc=new $(v.bl_tree,me),v.bi_buf=0,v.bi_valid=0,k(v)},l._tr_stored_block=g,l._tr_flush_block=function(v,T,H,ee){var V,de,Te=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=(function(Se){var Ce,De=4093624447;for(Ce=0;Ce<=31;Ce++,De>>>=1)if(1&De&&Se.dyn_ltree[2*Ce]!==0)return c;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return f;for(Ce=32;Ce<b;Ce++)if(Se.dyn_ltree[2*Ce]!==0)return f;return c})(v)),be(v,v.l_desc),be(v,v.d_desc),Te=(function(Se){var Ce;for(A(Se,Se.dyn_ltree,Se.l_desc.max_code),A(Se,Se.dyn_dtree,Se.d_desc.max_code),be(Se,Se.bl_desc),Ce=j-1;3<=Ce&&Se.bl_tree[2*oe[Ce]+1]===0;Ce--);return Se.opt_len+=3*(Ce+1)+5+5+4,Ce})(v),V=v.opt_len+3+7>>>3,(de=v.static_len+3+7>>>3)<=V&&(V=de)):V=de=H+5,H+4<=V&&T!==-1?g(v,T,H,ee):v.strategy===4||de===V?(J(v,2+(ee?1:0),3),K(v,he,I)):(J(v,4+(ee?1:0),3),(function(Se,Ce,De,Ue){var Ge;for(J(Se,Ce-257,5),J(Se,De-1,5),J(Se,Ue-4,4),Ge=0;Ge<Ue;Ge++)J(Se,Se.bl_tree[2*oe[Ge]+1],3);ge(Se,Se.dyn_ltree,Ce-1),ge(Se,Se.dyn_dtree,De-1)})(v,v.l_desc.max_code+1,v.d_desc.max_code+1,Te+1),K(v,v.dyn_ltree,v.dyn_dtree)),k(v),ee&&ie(v)},l._tr_tally=function(v,T,H){return v.pending_buf[v.d_buf+2*v.last_lit]=T>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&T,v.pending_buf[v.l_buf+v.last_lit]=255&H,v.last_lit++,T===0?v.dyn_ltree[2*H]++:(v.matches++,T--,v.dyn_ltree[2*(D[H]+b+1)]++,v.dyn_dtree[2*B(T)]++),v.last_lit===v.lit_bufsize-1},l._tr_align=function(v){J(v,2,3),fe(v,U,he),(function(T){T.bi_valid===16?(Y(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)})(v)}},{"../utils/common":41}],53:[function(r,a,l){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,l){(function(u){(function(c,f){if(!c.setImmediate){var d,p,m,b,_=1,S={},j=!1,E=c.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(c);O=O&&O.setTimeout?O:c,d={}.toString.call(c.process)==="[object process]"?function(z){Ye.nextTick(function(){N(z)})}:(function(){if(c.postMessage&&!c.importScripts){var z=!0,q=c.onmessage;return c.onmessage=function(){z=!1},c.postMessage("","*"),c.onmessage=q,z}})()?(b="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",U,!1):c.attachEvent("onmessage",U),function(z){c.postMessage(b+z,"*")}):c.MessageChannel?((m=new MessageChannel).port1.onmessage=function(z){N(z.data)},function(z){m.port2.postMessage(z)}):E&&"onreadystatechange"in E.createElement("script")?(p=E.documentElement,function(z){var q=E.createElement("script");q.onreadystatechange=function(){N(z),q.onreadystatechange=null,p.removeChild(q),q=null},p.appendChild(q)}):function(z){setTimeout(N,0,z)},O.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var q=new Array(arguments.length-1),ae=0;ae<q.length;ae++)q[ae]=arguments[ae+1];var ne={callback:z,args:q};return S[_]=ne,d(_),_++},O.clearImmediate=x}function x(z){delete S[z]}function N(z){if(j)setTimeout(N,0,z);else{var q=S[z];if(q){j=!0;try{(function(ae){var ne=ae.callback,le=ae.args;switch(le.length){case 0:ne();break;case 1:ne(le[0]);break;case 2:ne(le[0],le[1]);break;case 3:ne(le[0],le[1],le[2]);break;default:ne.apply(f,le)}})(q)}finally{x(z),j=!1}}}}function U(z){z.source===c&&typeof z.data=="string"&&z.data.indexOf(b)===0&&N(+z.data.slice(b.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(sw);var iA=sw.exports;const sA=lv(iA);var Ll={exports:{}},aA={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function oA(s){return s&&s.replace?s.replace(/([&"<>'])/g,function(t,r){return aA[r]}):s}var lA=oA,kh=lA,wy=Xh.Stream,uA="    ";function cA(s,t){typeof t!="object"&&(t={indent:t});var r=t.stream?new wy:null,a="",l=!1,u=t.indent?t.indent===!0?uA:t.indent:"",c=!0;function f(_){c?Ye.nextTick(_):_()}function d(_,S){if(S!==void 0&&(a+=S),_&&!l&&(r=r||new wy,l=!0),_&&l){var j=a;f(function(){r.emit("data",j)}),a=""}}function p(_,S){od(d,Bl(_,u,u?1:0),S)}function m(){if(r){var _=a;f(function(){r.emit("data",_),r.emit("end"),r.readable=!1,r.emit("close")})}}function b(_){var S=_.encoding||"UTF-8",j={version:"1.0",encoding:S};_.standalone&&(j.standalone=_.standalone),p({"?xml":{_attr:j}}),a=a.replace("/>","?>")}return f(function(){c=!1}),t.declaration&&b(t.declaration),s&&s.forEach?s.forEach(function(_,S){var j;S+1===s.length&&(j=m),p(_,j)}):p(s,m),r?(r.readable=!0,r):a}function fA(){var s=Array.prototype.slice.call(arguments),t={_elem:Bl(s)};return t.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var a=this,l=this._elem.indent;od(this.append,Bl(r,l,this._elem.icount+(l?1:0)),function(){a.append(!0)})},t.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},t}function hA(s,t){return new Array(t||0).join(s||"")}function Bl(s,t,r){r=r||0;var a=hA(t,r),l,u=s,c=!1;if(typeof s=="object"){var f=Object.keys(s);if(l=f[0],u=s[l],u&&u._elem)return u._elem.name=l,u._elem.icount=r,u._elem.indent=t,u._elem.indents=a,u._elem.interrupt=u,u._elem}var d=[],p=[],m;function b(_){var S=Object.keys(_);S.forEach(function(j){d.push(dA(j,_[j]))})}switch(typeof u){case"object":if(u===null)break;u._attr&&b(u._attr),u._cdata&&p.push(("<![CDATA["+u._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),u.forEach&&(m=!1,p.push(""),u.forEach(function(_){if(typeof _=="object"){var S=Object.keys(_)[0];S=="_attr"?b(_._attr):p.push(Bl(_,t,r+1))}else p.pop(),m=!0,p.push(kh(_))}),m||p.push(""));break;default:p.push(kh(u))}return{name:l,interrupt:c,attributes:d,content:p,icount:r,indents:a,indent:t}}function od(s,t,r){if(typeof t!="object")return s(!1,t);var a=t.interrupt?1:t.content.length;function l(){for(;t.content.length;){var c=t.content.shift();if(c!==void 0){if(u(c))return;od(s,c)}}s(!1,(a>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?`
`:"")),r&&r()}function u(c){return c.interrupt?(c.interrupt.append=s,c.interrupt.end=l,c.interrupt=!1,s(!0),!0):!1}if(s(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(a?t.name?">":"":t.name?"/>":"")+(t.indent&&a>1?`
`:"")),!a)return s(!1,t.indent?`
`:"");u(t)||l()}function dA(s,t){return s+'="'+kh(t)+'"'}Ll.exports=cA;Ll.exports.element=Ll.exports.Element=fA;var pA=Ll.exports;const Nt=lv(pA),by=0,xy=32,mA=32,gA=(s,t)=>{const r=t.replace(/-/g,"");if(r.length!==mA)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const l=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));l.reverse();const c=s.slice(by,xy).map((d,p)=>d^l[p%l.length]);return Buffer.concat([s.slice(0,by),c,s.slice(xy)])};class yA{format(t,r={stack:[]}){const a=t.prepForXml(r);if(a)return a;throw Error("XMLComponent did not format correctly")}}class vA{replace(t,r,a){let l=t;return r.forEach((u,c)=>{l=l.replace(new RegExp(`{${u.fileName}}`,"g"),(a+c).toString())}),l}getMediaData(t,r){return r.Array.filter(a=>t.search(`{${a.fileName}}`)>0)}}class wA{replace(t,r){let a=t;for(const l of r)a=a.replace(new RegExp(`{${l.reference}-${l.instance}}`,"g"),l.numId.toString());return a}}class bA{constructor(){je(this,"formatter"),je(this,"imageReplacer"),je(this,"numberingReplacer"),this.formatter=new yA,this.imageReplacer=new vA,this.numberingReplacer=new wA}compile(t,r){const a=new sA,l=this.xmlifyFile(t,r),u=new Map(Object.entries(l));for(const[,c]of u)if(Array.isArray(c))for(const f of c)a.file(f.path,f.data);else a.file(c.path,c.data);for(const{stream:c,fileName:f}of t.Media.Array)a.file(`word/media/${f}`,c);for(const{data:c,name:f,fontKey:d}of t.FontTable.fontOptionsWithKey){const[p]=f.split(".");a.file(`word/fonts/${p}.odttf`,gA(c,d))}return a}xmlifyFile(t,r){const a=t.Document.Relationships.RelationshipCount+1,l=Nt(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(l,t.Media);return{Relationships:{data:(u.forEach((c,f)=>{t.Document.Relationships.createRelationship(a+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),Nt(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(l,u,a);return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=Nt(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Nt(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Nt(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Nt(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(d,t.Media).forEach((m,b)=>{c.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Nt(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:t.Footers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(d,t.Media).forEach((m,b)=>{c.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Nt(this.formatter.format(c.Relationships,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:t.Headers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(d,t.Media),m=this.imageReplacer.replace(d,p,0);return{data:this.numberingReplacer.replace(m,t.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:t.Footers.map((c,f)=>{const d=Nt(this.formatter.format(c.View,{viewWrapper:c,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(d,t.Media),m=this.imageReplacer.replace(d,p,0);return{data:this.numberingReplacer.replace(m,t.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:Nt(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Nt(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Nt(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Nt(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Nt(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Nt(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Nt(this.formatter.format(t.Comments,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Nt(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Nt(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const xA={WITH_2_BLANKS:"  "},qa=s=>s===!0?xA.WITH_2_BLANKS:s===!1?void 0:s;class jh{static toString(t,r){return vl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(t,r){return vl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(t,r){return vl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(t,r){return vl(this,null,function*(){return yield this.compiler.compile(t,qa(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(t,r){const a=new Xh.Stream;return this.compiler.compile(t,qa(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(u=>{a.emit("data",u),a.emit("end")}),a}}je(jh,"compiler",new bA);var Ul={exports:{}},_A=Ul.exports,_y;function SA(){return _y||(_y=1,(function(s,t){(function(r,a){a()})(_A,function(){function r(p,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function a(p,m,b){var _=new XMLHttpRequest;_.open("GET",p),_.responseType="blob",_.onload=function(){d(_.response,m,b)},_.onerror=function(){console.error("could not download file")},_.send()}function l(p){var m=new XMLHttpRequest;m.open("HEAD",p,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function u(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(m)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof gl=="object"&&gl.global===gl?gl:void 0,f=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(p,m,b){var _=c.URL||c.webkitURL,S=document.createElement("a");m=m||p.name||"download",S.download=m,S.rel="noopener",typeof p=="string"?(S.href=p,S.origin===location.origin?u(S):l(S.href)?a(p,m,b):u(S,S.target="_blank")):(S.href=_.createObjectURL(p),setTimeout(function(){_.revokeObjectURL(S.href)},4e4),setTimeout(function(){u(S)},0))}:"msSaveOrOpenBlob"in navigator?function(p,m,b){if(m=m||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(r(p,b),m);else if(l(p))a(p,m,b);else{var _=document.createElement("a");_.href=p,_.target="_blank",setTimeout(function(){u(_)})}}:function(p,m,b,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof p=="string")return a(p,m,b);var S=p.type==="application/octet-stream",j=/constructor/i.test(c.HTMLElement)||c.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||S&&j||f)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var U=O.result;U=E?U:U.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=U:location=U,_=null},O.readAsDataURL(p)}else{var x=c.URL||c.webkitURL,N=x.createObjectURL(p);_?_.location=N:location.href=N,_=null,setTimeout(function(){x.revokeObjectURL(N)},4e4)}});c.saveAs=d.saveAs=d,s.exports=d})})(Ul)),Ul.exports}var EA=SA();const oh=Pl(EA),TA=()=>new Date().toISOString().split("T")[0],AA=({isOpen:s,onClose:t,onGenerate:r})=>{const[a,l]=ye.useState(TA);if(!s)return null;const u=()=>{r(a)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Generate Daily Report"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"text-slate-300 mb-6",children:[w.jsx("label",{htmlFor:"report-date",className:"block text-sm font-medium text-slate-300 mb-2",children:"Select the date for the update report."}),w.jsx("input",{id:"report-date",type:"date",value:a,onChange:c=>l(c.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(bx,{className:"w-4 h-4"}),w.jsx("span",{children:"Generate"})]})]})]})})},kA=({viewScope:s,currentProject:t,isArchiveView:r})=>{const{markdown:a,archiveMarkdown:l,projects:u,users:c,settings:f,importProject:d}=_i(),[p,m]=ye.useState(!1),[b,_]=ye.useState(!1),S=ye.useRef(null),j=ye.useRef(null),E=ye.useMemo(()=>new Map(c.map(L=>[L.alias,L])),[c]);ye.useEffect(()=>{const L=oe=>{S.current&&!S.current.contains(oe.target)&&m(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const O=ye.useCallback(()=>{const L={users:c,markdown:a,archiveMarkdown:l,settings:f},oe=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),he=u.length>1?"Multi-Project.mdtasker":`${t.title.replace(/\s/g,"_")}.mdtasker`;oh(oe,he),m(!1)},[c,a,l,f,u,t.title]),x=(L,oe={})=>L.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).filter(Boolean).map(I=>{if(I.startsWith("**")&&I.endsWith("**"))return new vt({text:I.slice(2,-2),bold:!0,...oe});if(I.startsWith("*")&&I.endsWith("*"))return new vt({text:I.slice(1,-1),italics:!0,...oe});const te=I.match(/\[(.*?)\]\((.*?)\)/);return te?new ew({children:[new vt({text:te[1],style:"Hyperlink",...oe})],link:te[2]}):new vt({text:I,...oe})}),N=L=>{if(!L)return"";try{return new Date(`${L}T00:00:00`).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return L}},U=(L,oe)=>{L.forEach(he=>{const I=x(he.text,he.completed?{strike:!0}:{}),te=[new vt(he.completed?"☑ ":"☐ "),...I];he.cost!==void 0&&te.push(new vt({text:` ($${he.cost.toFixed(2)})`,color:"2E8B57",size:18,italics:!0})),he.creationDate&&te.push(new vt({text:` (Created: ${N(he.creationDate)})`,color:"808080",size:18,italics:!0})),he.dueDate&&!he.completed&&te.push(new vt({text:` (Due: ${N(he.dueDate)})`,color:"A52A2A",size:18,italics:!0})),he.completed&&he.completionDate&&te.push(new vt({text:` (Completed: ${N(he.completionDate)})`,color:"808080",size:18,italics:!0})),oe.push(new wt({children:te,bullet:{level:0}})),he.updates.forEach(D=>{const re=D.assigneeAlias?E.get(D.assigneeAlias):null,W=x(D.text),X=[new vt({text:`${N(D.date)}: `,italics:!0,color:"808080"}),...W];re&&X.push(new vt({text:` - ${re.name}`,italics:!0,color:"808080"})),oe.push(new wt({children:X,bullet:{level:1}}))})})},z=(L,oe)=>{L.forEach(he=>{const I=x(he.text,he.completed?{strike:!0}:{}),te=[new vt(he.completed?"☑ ":"☐ "),...I];oe.push(new wt({children:te,bullet:{level:0}})),he.updates.forEach(D=>{const re=D.assigneeAlias?E.get(D.assigneeAlias):null,W=x(D.text),X=[new vt({text:`${N(D.date)}: `,italics:!0,color:"808080"}),...W];re&&X.push(new vt({text:` - ${re.name}`,italics:!0,color:"808080"})),oe.push(new wt({children:X,bullet:{level:1}}))})})},q=ye.useCallback(async L=>{const oe=`Daily_Report_${L}`,he=[];he.push(new wt({text:`Daily Update Report for ${N(L)}`,heading:vn.TITLE,alignment:On.CENTER}));const I=s==="all"?u:[t];let te=!1;I.forEach((W,X)=>{const ue=[...W.unassignedTasks,...Object.values(W.groupedTasks).flatMap(B=>B.tasks)].map(B=>{const Y=B.updates.filter(J=>J.date===L);return{...B,updates:Y}}).filter(B=>B.updates.length>0);if(ue.length===0)return;te=!0,I.length>1&&he.push(new wt({text:W.title,heading:vn.HEADING_1,spacing:{before:X>0?400:200,after:200}}));const G={};ue.forEach(B=>{const Y=B.assigneeAlias||"unassigned";G[Y]||(G[Y]=[]),G[Y].push(B)}),[...c.map(B=>B.alias),"unassigned"].forEach(B=>{var Y;if(G[B]){const J=B==="unassigned"?"Unassigned":((Y=E.get(B))==null?void 0:Y.name)||B;he.push(new wt({text:J,heading:vn.HEADING_2,spacing:{before:300,after:150}})),z(G[B],he)}})}),te||he.push(new wt({children:[new vt({text:"No updates found for the selected date.",italics:!0})],alignment:On.CENTER,spacing:{before:200}}));const D=new vy({sections:[{children:he}]}),re=await jh.toBlob(D);oh(re,`${oe}.docx`),_(!1),m(!1)},[u,t,s,c,E]),ae=ye.useCallback(async()=>{const L=s==="all"?"All_Projects_Summary":t.title.replace(/\s/g,"_"),oe=s==="single"&&t?a.split(`
`).slice(t.startLine,t.endLine+1).join(`
`):a,he=[],I=oe.split(`
`),te=/^- \[( |x)\] (.*)/,D=/\s\(@([a-zA-Z0-9_]+)\)/,re=/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/,W=/\s\(\$(\d+(\.\d{1,2})?)\)/,X=/\s\+([0-9]{4}-[0-9]{2}-[0-9]{2})/,me=/\s!([0-9]{4}-[0-9]{2}-[0-9]{2})/,ue=/^  - (\d{4}-\d{2}-\d{2}): (.*)/;let G=0;for(;G<I.length;){const J=I[G],fe=J.match(te);if(fe){let Z=fe[2];const F=fe[1]==="x";let K=null;const be=Z.match(re);be&&(K=be[1],Z=Z.replace(be[0],"").trim());let A;const ge=Z.match(W);ge&&(A=parseFloat(ge[1]),Z=Z.replace(ge[0],"").trim());let C=null;const g=Z.match(X);g&&(C=g[1],Z=Z.replace(g[0],"").trim());let v=null;const T=Z.match(me);T&&(v=T[1],Z=Z.replace(T[0],"").trim());let H=null;const ee=Z.match(D);ee&&(H=E.get(ee[1])||null,Z=Z.replace(ee[0],"").trim());const V=x(Z,F?{strike:!0}:{}),de=[new vt(F?"☑ ":"☐ "),...V];A!==void 0&&de.push(new vt({text:` ($${A.toFixed(2)})`,color:"2E8B57",size:18,italics:!0})),H&&de.push(new vt({text:` (${H.name})`,color:"808080",size:18,italics:!0})),C&&de.push(new vt({text:` (Created: ${N(C)})`,color:"808080",size:18,italics:!0})),v&&!F&&de.push(new vt({text:` (Due: ${N(v)})`,color:"A52A2A",size:18,italics:!0})),F&&K&&de.push(new vt({text:` (Completed: ${N(K)})`,color:"808080",size:18,italics:!0})),he.push(new wt({children:de,bullet:{level:0}}));let Te=G+1;for(;Te<I.length;){const Se=I[Te];if(Se.trim()===""){Te++;continue}const Ce=Se.match(ue);if(Ce){let De=Ce[2].trim(),Ue=null;const Ge=De.match(D);Ge&&(Ue=E.get(Ge[1])||null,De=De.replace(D,"").trim());const it=x(De),Be=[new vt({text:`${N(Ce[1])}: `,italics:!0,color:"808080"}),...it];Ue&&Be.push(new vt({text:` - ${Ue.name}`,italics:!0,color:"808080"})),he.push(new wt({children:Be,bullet:{level:1}})),Te++}else break}G=Te;continue}const Q=J.match(/^# (.*)/);if(Q){he.push(new wt({children:x(Q[1]),heading:vn.HEADING_1})),G++;continue}const R=J.match(/^## (.*)/);if(R){he.push(new wt({children:x(R[1]),heading:vn.HEADING_2})),G++;continue}const k=J.match(/^### (.*)/);if(k){he.push(new wt({children:x(k[1]),heading:vn.HEADING_3})),G++;continue}const ie=J.match(/^- (.*)/);if(ie){he.push(new wt({children:x(ie[1]),bullet:{level:0}})),G++;continue}he.push(new wt({children:x(J)})),G++}const $=[];$.push(new wt({text:"Task Summary",heading:vn.HEADING_1,spacing:{after:200}})),s==="all"?u.forEach(J=>{$.push(new wt({text:J.title,heading:vn.HEADING_2,spacing:{before:400,after:200}})),Object.values(J.groupedTasks).filter(Q=>Q.tasks.length>0).forEach(({user:Q,tasks:R})=>{$.push(new wt({text:Q.name,heading:vn.HEADING_3,spacing:{before:300,after:150}})),U(R,$)}),J.unassignedTasks.length>0&&($.push(new wt({text:"Unassigned Tasks",heading:vn.HEADING_3,spacing:{before:300,after:150}})),U(J.unassignedTasks,$))}):($.push(new wt({text:t.title,heading:vn.HEADING_2,spacing:{before:400,after:200}})),Object.values(t.groupedTasks).filter(fe=>fe.tasks.length>0).forEach(({user:fe,tasks:Q})=>{$.push(new wt({text:fe.name,heading:vn.HEADING_3,spacing:{before:300,after:150}})),U(Q,$)}),t.unassignedTasks.length>0&&($.push(new wt({text:"Unassigned Tasks",heading:vn.HEADING_3,spacing:{before:300,after:150}})),U(t.unassignedTasks,$)));const B=new vy({sections:[{children:he},{properties:{type:EE.NEXT_PAGE},children:$}]}),Y=await jh.toBlob(B);oh(Y,`${L}.docx`),m(!1)},[a,u,t,s,E]),ne=()=>{var L;(L=j.current)==null||L.click(),m(!1)},le=L=>{var he;const oe=(he=L.target.files)==null?void 0:he[0];oe&&d(oe),L.target&&(L.target.value="")};return w.jsxs("div",{className:"relative",ref:S,children:[w.jsx("input",{type:"file",ref:j,onChange:le,className:"hidden",accept:".mdtasker,application/json"}),w.jsxs("button",{onClick:()=>m(L=>!L),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600","aria-haspopup":"true","aria-expanded":p,children:[w.jsx(cx,{className:"w-4 h-4"}),w.jsx("span",{children:"Project Actions"})]}),p&&w.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",children:w.jsxs("div",{className:"p-2",role:"menu","aria-orientation":"vertical",children:[w.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-slate-400",children:"Project File"}),w.jsxs("button",{onClick:ne,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(Ux,{className:"w-4 h-4"}),w.jsx("span",{children:"Import Project (.mdtasker)"})]}),w.jsxs("button",{onClick:O,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(sv,{className:"w-4 h-4"}),w.jsx("span",{children:"Export Project (.mdtasker)"})]}),w.jsx("div",{className:"border-t border-slate-700 my-2"}),w.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-slate-400",children:"Document Export"}),w.jsxs("button",{onClick:ae,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(xx,{className:"w-4 h-4"})," ",w.jsx("span",{children:"Export as DOCX"})]}),w.jsx("div",{className:"border-t border-slate-700 my-2"}),w.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-slate-400",children:"Reports"}),w.jsxs("button",{onClick:()=>{_(!0),m(!1)},className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(Fl,{className:"w-4 h-4"})," ",w.jsx("span",{children:"Export Daily Report..."})]})]})}),w.jsx(AA,{isOpen:b,onClose:()=>_(!1),onGenerate:q})]})},jA=`-- 1. Create the table to store project backups
-- Go to "SQL Editor" -> "New Query" and run this script:
CREATE TABLE public.project_backups (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  created_at TIMESTAMPTZ DEFAULT timezone('utc'::text, now()) NOT NULL,
  backup_data JSONB NOT NULL,
  client_name TEXT DEFAULT 'Interactive Markdown Tasker'
);

-- 2. Enable Row Level Security (RLS) on the new table
-- This ensures users can only access their own data.
ALTER TABLE public.project_backups ENABLE ROW LEVEL SECURITY;

-- 3. Create a policy that allows users to insert their own backups
CREATE POLICY "Allow users to insert their own backups"
ON public.project_backups
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- 4. Create a policy that allows users to view their own backups
CREATE POLICY "Allow users to select their own backups"
ON public.project_backups
FOR SELECT
USING (auth.uid() = user_id);
`,NA=({isOpen:s,onClose:t})=>s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:"Supabase Setup Instructions"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"text-slate-300 overflow-y-auto",children:[w.jsx("p",{className:"mb-4",children:"Follow these steps in your Supabase project dashboard to enable cloud backup:"}),w.jsxs("ol",{className:"list-decimal list-inside space-y-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Create a Supabase Project:"})," If you haven't already, go to ",w.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:"supabase.com"})," and create a new project."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Find Your Credentials:"}),w.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-slate-400",children:[w.jsxs("li",{children:["Navigate to ",w.jsx("strong",{children:"Project Settings"})," (the gear icon)."]}),w.jsxs("li",{children:["In the ",w.jsx("strong",{children:"API"})," section, you will find your ",w.jsx("strong",{children:"Project URL"})," and ",w.jsx("strong",{children:"Project API Keys"}),"."]}),w.jsxs("li",{children:["Copy the ",w.jsx("code",{className:"bg-slate-800 px-1 rounded text-xs",children:"URL"})," and the ",w.jsx("code",{className:"bg-slate-800 px-1 rounded text-xs",children:"anon"})," ",w.jsx("code",{className:"bg-slate-800 px-1 rounded text-xs",children:"public"})," key into the settings modal."]})]})]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Enable User Authentication:"}),w.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-slate-400",children:[w.jsxs("li",{children:["Navigate to ",w.jsx("strong",{children:"Authentication"})," (the user icon)."]}),w.jsxs("li",{children:["In the ",w.jsx("strong",{children:"Providers"})," section, make sure ",w.jsx("strong",{children:"Email"})," is enabled."]}),w.jsxs("li",{children:["Go to the ",w.jsx("strong",{children:"Users"})," tab and create a new user with the email and password you want to use for backups."]})]})]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Create the Database Table & Policies:"}),w.jsxs("p",{className:"mt-1 mb-2 text-slate-400",children:["Go to the ",w.jsx("strong",{children:"SQL Editor"})," (the database icon), click ",w.jsx("strong",{children:"New Query"}),", and paste the following SQL script. Click ",w.jsx("strong",{children:"Run"})," to execute it."]}),w.jsx("pre",{className:"bg-slate-800 p-4 rounded-md text-sm text-slate-200 overflow-x-auto",children:w.jsx("code",{children:jA})})]})]}),w.jsx("p",{className:"mt-6 text-sm text-green-400",children:"Once these steps are complete, you can fill in your credentials in the settings and start using the cloud backup feature."})]})]})}):null,RA=({isOpen:s,onClose:t})=>{const{settings:r,saveSettings:a,users:l}=_i(),[u,c]=ye.useState(r),[f,d]=ye.useState(!1);ye.useEffect(()=>{c(r)},[r,s]);const p=b=>{const{name:_,value:S,type:j}=b.target;c(_==="senderAlias"||_==="ccAlias"?E=>({...E,[_]:S||null}):j==="number"?E=>({...E,[_]:parseFloat(S)||0}):E=>({...E,[_]:S}))},m=()=>{a(u),alert("Settings saved!"),t()};return s?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-2xl mx-4 border border-slate-700 max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:"Settings"}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:"Email Reminder Settings"}),w.jsxs("div",{className:"space-y-6 pt-2",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"senderAlias",className:"block text-sm font-medium text-slate-300 mb-1",children:"Reminder Assignee"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Select a user to assign the reminder update note to."}),w.jsxs("select",{id:"senderAlias",name:"senderAlias",value:u.senderAlias??"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:[w.jsx("option",{value:"",children:"None (Just a note)"}),l.map(b=>w.jsxs("option",{value:b.alias,children:[b.name," (",b.email,")"]},b.alias))]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"reminderMessage",className:"block text-sm font-medium text-slate-300 mb-1",children:"Reminder Update Note"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"The text to add to a task's history when a reminder is sent."}),w.jsx("input",{type:"text",id:"reminderMessage",name:"reminderMessage",value:u.reminderMessage,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailCreationDateLabel",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Creation Date Label"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:'The label used for the task creation date in emails (e.g., "Created:", "Creato il:").'}),w.jsx("input",{type:"text",id:"emailCreationDateLabel",name:"emailCreationDateLabel",value:u.emailCreationDateLabel,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailSubject",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Subject"}),w.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Use ",w.jsx("code",{className:"bg-slate-900 px-1 rounded",children:"{projectTitle}"})," as a placeholder."]}),w.jsx("input",{type:"text",id:"emailSubject",name:"emailSubject",value:u.emailSubject,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"ccAlias",className:"block text-sm font-medium text-slate-300 mb-1",children:"Default CC Assignee"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Optional. Select a user to CC on all reminder emails."}),w.jsxs("select",{id:"ccAlias",name:"ccAlias",value:u.ccAlias??"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:[w.jsx("option",{value:"",children:"None"}),l.map(b=>w.jsxs("option",{value:b.alias,children:[b.name," (",b.email,")"]},b.alias))]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailPreamble",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Preamble"}),w.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Use ",w.jsx("code",{className:"bg-slate-900 px-1 rounded",children:"{userName}"})," as a placeholder."]}),w.jsx("textarea",{id:"emailPreamble",name:"emailPreamble",rows:4,value:u.emailPreamble,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailPostamble",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Postamble"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Text to appear after the task list."}),w.jsx("textarea",{id:"emailPostamble",name:"emailPostamble",rows:3,value:u.emailPostamble,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"emailSignature",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email Signature"}),w.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Use ",w.jsx("code",{className:"bg-slate-900 px-1 rounded",children:"{senderName}"})," as a placeholder."]}),w.jsx("input",{type:"text",id:"emailSignature",name:"emailSignature",value:u.emailSignature,onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2 flex items-center",children:["Cloud Backup Configuration (Supabase)",w.jsx("button",{onClick:()=>d(!0),className:"ml-2 text-slate-400 hover:text-indigo-400",title:"Setup Instructions",children:w.jsx(dx,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-4 pt-2",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"supabaseUrl",className:"block text-sm font-medium text-slate-300 mb-1",children:"Supabase URL"}),w.jsx("input",{type:"url",id:"supabaseUrl",name:"supabaseUrl",value:u.supabaseUrl??"",onChange:p,placeholder:"https://<project-ref>.supabase.co",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"supabaseAnonKey",className:"block text-sm font-medium text-slate-300 mb-1",children:"Supabase Anon Key"}),w.jsx("input",{type:"text",id:"supabaseAnonKey",name:"supabaseAnonKey",value:u.supabaseAnonKey??"",onChange:p,placeholder:"eyJhbGciOi...",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"supabaseEmail",className:"block text-sm font-medium text-slate-300 mb-1",children:"Supabase User Email"}),w.jsx("input",{type:"email",id:"supabaseEmail",name:"supabaseEmail",value:u.supabaseEmail??"",onChange:p,placeholder:"you@example.com",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]})]}),w.jsx("div",{className:"flex justify-end mt-8 border-t border-slate-700 pt-6",children:w.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-5 py-2.5 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(ql,{className:"w-5 h-5"}),w.jsx("span",{children:"Save All Settings"})]})})]})}),w.jsx(NA,{isOpen:f,onClose:()=>d(!1)})]}):null},CA=s=>s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),OA=s=>ye.useMemo(()=>{const t=s.split(`
`),r=[];if(t.length===0&&s==="")return[];const a=[];return t.forEach((l,u)=>{const c=l.match(/^(#{1,3}) (.*)/);c&&a.push({line:u,level:c[1].length,text:c[2].trim()})}),a.length===0?(r.push({startLine:0,endLine:t.length-1,content:s,heading:null}),r):(a[0].line>0&&r.push({startLine:0,endLine:a[0].line-1,content:t.slice(0,a[0].line).join(`
`),heading:null}),a.forEach((l,u)=>{const c=l.line,f=u<a.length-1?a[u+1].line-1:t.length-1;r.push({startLine:c,endLine:f,content:t.slice(c,f+1).join(`
`),heading:{text:l.text,slug:CA(l.text),level:l.level,line:l.line}})}),r)},[s]),Rn=({onClick:s,label:t,children:r})=>w.jsx("button",{type:"button",onMouseDown:a=>a.preventDefault(),onClick:s,className:"p-2 rounded-md hover:bg-slate-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":t,title:t,children:r}),ld=({onFormat:s,onInsert:t,users:r})=>{const[a,l]=ye.useState(!1),[u,c]=ye.useState(""),f=ye.useRef(null),d=ye.useMemo(()=>u?r.filter(m=>m.name.toLowerCase().includes(u.toLowerCase())||m.alias.toLowerCase().includes(u.toLowerCase())):r,[r,u]);ye.useEffect(()=>{const m=b=>{f.current&&!f.current.contains(b.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),ye.useEffect(()=>{a||c("")},[a]);const p=m=>{t(`(@${m})`),l(!1)};return w.jsxs("div",{className:"flex items-center space-x-1 bg-slate-800 p-2 rounded-lg border border-slate-700 text-slate-300",children:[w.jsx(Rn,{onClick:()=>s("h1"),label:"Heading 1",children:w.jsx("span",{className:"font-bold text-sm w-5 h-5 flex items-center justify-center",children:"H1"})}),w.jsx(Rn,{onClick:()=>s("h2"),label:"Heading 2",children:w.jsx("span",{className:"font-bold text-sm w-5 h-5 flex items-center justify-center",children:"H2"})}),w.jsx(Rn,{onClick:()=>s("h3"),label:"Heading 3",children:w.jsx("span",{className:"font-bold text-sm w-5 h-5 flex items-center justify-center",children:"H3"})}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsx(Rn,{onClick:()=>s("bold"),label:"Bold",children:w.jsx(lx,{className:"w-5 h-5"})}),w.jsx(Rn,{onClick:()=>s("italic"),label:"Italic",children:w.jsx(Sx,{className:"w-5 h-5"})}),w.jsx(Rn,{onClick:()=>s("link"),label:"Insert Link",children:w.jsx(Tx,{className:"w-5 h-5"})}),w.jsx(Rn,{onClick:()=>s("gmail"),label:"Insert Gmail Link",children:w.jsx(av,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsx(Rn,{onClick:()=>s("ul"),label:"Unordered List",children:w.jsx(jx,{className:"w-5 h-5"})}),w.jsx(Rn,{onClick:()=>s("task"),label:"Task List",children:w.jsx(kx,{className:"w-5 h-5"})}),w.jsx(Rn,{onClick:()=>s("update"),label:"Add Update Note",children:w.jsx(Cx,{className:"w-5 h-5"})}),w.jsx(Rn,{onClick:()=>s("dueDate"),label:"Add Due Date",children:w.jsx(Fl,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsxs("div",{className:"relative",ref:f,children:[w.jsx(Rn,{onClick:()=>l(m=>!m),label:"Assign User",children:w.jsx(Mx,{className:"w-5 h-5"})}),a&&w.jsx("div",{className:"absolute left-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-20",children:w.jsxs("div",{className:"p-2",children:[w.jsx("input",{type:"text",placeholder:"Search assignee...",value:u,onChange:m=>c(m.target.value),className:"w-full mb-2 px-2 py-1.5 text-sm bg-slate-700 border border-slate-600 rounded-md text-slate-200 focus:ring-1 focus:ring-indigo-500 outline-none"}),w.jsx("div",{className:"text-xs text-slate-400 px-2 pb-1 font-semibold",children:"Insert Assignee..."}),d.map(m=>w.jsxs("button",{onMouseDown:b=>b.preventDefault(),onClick:()=>p(m.alias),className:"w-full text-left flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-slate-700",children:[w.jsx("img",{src:m.avatarUrl,alt:m.name,className:"h-6 w-6 rounded-full"}),w.jsx("span",{className:"text-sm text-slate-200",children:m.name}),w.jsxs("span",{className:"text-xs text-slate-400",children:["@",m.alias]})]},m.alias)),d.length===0&&w.jsx("p",{className:"px-2 py-1 text-sm text-slate-400",children:"No assignees found."})]})})]})]})},ud=({isOpen:s,onClose:t,onSubmit:r,title:a,label:l,confirmText:u="Confirm"})=>{const[c,f]=ye.useState(""),d=ye.useRef(null);if(ye.useEffect(()=>{s&&(f(""),setTimeout(()=>{var m;return(m=d.current)==null?void 0:m.focus()},100))},[s]),!s)return null;const p=m=>{m.preventDefault(),c.trim()&&(r(c.trim()),t())};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:a}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:p,children:[w.jsxs("div",{className:"text-slate-300 mb-6",children:[w.jsx("label",{htmlFor:"modal-input",className:"block text-sm font-medium text-slate-300 mb-2",children:l}),w.jsx("input",{id:"modal-input",ref:d,type:"text",value:c,onChange:m=>f(m.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:u})]})]})]})})},Sy=()=>new Date().toISOString().split("T")[0],cd=({isOpen:s,onClose:t,onSelectDate:r,title:a,confirmText:l="Select Date"})=>{const[u,c]=ye.useState(Sy),f=ye.useRef(null);if(ye.useEffect(()=>{s&&(c(Sy()),setTimeout(()=>{var p;return(p=f.current)==null?void 0:p.focus()},100))},[s]),!s)return null;const d=p=>{p.preventDefault(),u&&(r(u),t())};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-xs mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:a}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:d,children:[w.jsx("div",{className:"text-slate-300 mb-6",children:w.jsx("input",{id:"modal-date-input",ref:f,type:"date",value:u,onChange:p=>c(p.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(tv,{className:"w-4 h-4"}),w.jsx("span",{children:l})]})]})]})]})})},DA=({allSections:s,currentSectionIndex:t,onMoveSection:r,viewScope:a})=>{const[l,u]=ye.useState(!1),c=ye.useRef(null);ye.useEffect(()=>{const m=b=>{c.current&&!c.current.contains(b.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{r(m),u(!1)};if(!s[t])return null;const p=a==="single"?"Top of project":"Top of file";return w.jsxs("div",{className:"relative",ref:c,children:[w.jsx("button",{onClick:()=>u(m=>!m),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-haspopup":"true","aria-expanded":l,"aria-label":"Move section",title:"Move section",children:w.jsx(nv,{className:"w-4 h-4"})}),l&&w.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsxs("div",{className:"p-1",children:[w.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-slate-400",children:"Move section after..."}),t>0&&w.jsxs("button",{onClick:()=>f(0),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",children:[w.jsx(ev,{className:"w-4 h-4 mr-2 flex-shrink-0"}),p]}),s.map((m,b)=>{var S;if(b===t||b===t-1)return null;const _=((S=m.heading)==null?void 0:S.text)||"Preamble";return w.jsxs("button",{onClick:()=>f(m.endLine+1),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",title:`After: "${_}"`,children:[w.jsx(iv,{className:"w-4 h-4 mr-2 flex-shrink-0"}),w.jsxs("span",{className:"truncate",children:['"',_,'"']})]},m.startLine)})]})})]})},UA=({allSections:s,currentSectionIndex:t,onDuplicateSection:r,viewScope:a})=>{const[l,u]=ye.useState(!1),c=ye.useRef(null);ye.useEffect(()=>{const m=b=>{c.current&&!c.current.contains(b.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{r(m),u(!1)};if(!s[t])return null;const p=a==="single"?"Top of project":"Top of file";return w.jsxs("div",{className:"relative",ref:c,children:[w.jsx("button",{onClick:()=>u(m=>!m),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-haspopup":"true","aria-expanded":l,"aria-label":"Duplicate section",title:"Duplicate section",children:w.jsx(vx,{className:"w-4 h-4"})}),l&&w.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsxs("div",{className:"p-1",children:[w.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-slate-400",children:"Duplicate section after..."}),w.jsxs("button",{onClick:()=>f(0),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",children:[w.jsx(ev,{className:"w-4 h-4 mr-2 flex-shrink-0"}),w.jsx("span",{children:p})]}),s.map(m=>{var _;const b=((_=m.heading)==null?void 0:_.text)||"Preamble";return w.jsxs("button",{onClick:()=>f(m.endLine+1),className:"w-full text-left flex items-center px-3 py-2 text-sm rounded-md text-slate-200 hover:bg-slate-700",role:"menuitem",title:`After: "${b}"`,children:[w.jsx(iv,{className:"w-4 h-4 mr-2 flex-shrink-0"}),w.jsxs("span",{className:"truncate",children:['"',b,'"']})]},m.startLine)})]})})]})},MA=({headings:s})=>{const[t,r]=ye.useState(!1),a=s.filter(u=>u.level>1),l=(u,c)=>{var f;u.preventDefault(),(f=document.getElementById(c))==null||f.scrollIntoView({behavior:"smooth",block:"start"}),r(!1)};return a.length===0?null:w.jsxs("div",{className:"absolute top-4 -left-4 z-20",children:[w.jsx("button",{onClick:()=>r(u=>!u),className:"p-2 rounded-full bg-slate-700 text-slate-300 hover:bg-indigo-600 hover:text-white transition-all duration-300 shadow-lg",title:"Table of Contents","aria-label":"Toggle Table of Contents","aria-expanded":t,children:w.jsx(ux,{className:`w-5 h-5 transition-transform duration-300 ${t?"rotate-12":""}`})}),w.jsx("div",{className:`absolute top-0 left-12 w-64 transition-all duration-300 ease-in-out ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 pointer-events-none"}`,children:w.jsxs("nav",{className:"bg-slate-900/80 backdrop-blur-md border border-slate-700 rounded-lg shadow-2xl p-4",children:[w.jsx("h4",{className:"font-bold text-slate-200 mb-2",children:"Contents"}),w.jsx("ul",{className:"space-y-1.5 max-h-80 overflow-y-auto",children:a.map(u=>w.jsx("li",{children:w.jsxs("a",{href:`#${u.slug}`,onClick:c=>l(c,u.slug),className:"flex items-start text-sm text-slate-400 hover:text-indigo-400 transition-colors",style:{paddingLeft:`${(u.level-2)*16}px`},children:[w.jsx(Fh,{className:"w-4 h-3 mr-1 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"flex-grow",children:u.text})]})},u.slug))})]})})]})},LA=({users:s,position:t,onSelect:r,activeIndex:a})=>{const l=ye.useRef(null);return ye.useEffect(()=>{var u,c;(c=(u=l.current)==null?void 0:u.querySelector(`[data-index="${a}"]`))==null||c.scrollIntoView({block:"nearest",inline:"nearest"})},[a]),w.jsx("div",{ref:l,className:"absolute bg-slate-900 border border-slate-700 rounded-md shadow-lg z-10 p-1 w-64 max-h-60 overflow-y-auto",style:{top:t.top,left:t.left},"aria-live":"polite",children:s.map((u,c)=>w.jsxs("button",{"data-index":c,onClick:()=>r(u),className:`w-full text-left flex items-center space-x-2 px-2 py-1.5 rounded-md ${a===c?"bg-indigo-600 text-white":"hover:bg-slate-700 text-slate-200"}`,role:"option","aria-selected":a===c,children:[w.jsx("img",{src:u.avatarUrl,alt:u.name,className:"h-6 w-6 rounded-full"}),w.jsxs("div",{children:[w.jsx("span",{className:"text-sm font-medium",children:u.name}),w.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["@",u.alias]})]})]},u.alias))})},BA=s=>s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).map((r,a)=>{if(!r)return null;if(r.startsWith("**")&&r.endsWith("**"))return w.jsx("strong",{children:r.slice(2,-2)},a);if(r.startsWith("*")&&r.endsWith("*"))return w.jsx("em",{children:r.slice(1,-1)},a);const l=r.match(/\[(.*?)\]\((.*?)\)/);return l?w.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},a):r}),Ts=({text:s})=>w.jsx(w.Fragment,{children:BA(s)}),IA=({task:s,taskBlockContent:t,blockLineCount:r,absoluteStartLine:a,onToggle:l,onUpdateTaskBlock:u,users:c,isArchiveView:f})=>{const[d,p]=ye.useState(!1),[m,b]=ye.useState(t),[_,S]=ye.useState(!1),j=ye.useMemo(()=>new Map(c.map(D=>[D.alias,D])),[c]),E=s.assigneeAlias?j.get(s.assigneeAlias):null,O=ye.useRef(null),[x,N]=ye.useState(!1),[U,z]=ye.useState(null),[q,ae]=ye.useState(!1);ye.useEffect(()=>{d||b(t)},[t,d]),ye.useEffect(()=>{if(d&&O.current){const D=O.current.value.length;O.current.focus(),O.current.setSelectionRange(D,D)}},[d]),ye.useEffect(()=>{d&&O.current&&(O.current.style.height="auto",O.current.style.height=`${O.current.scrollHeight}px`)},[d,m]);const ne=()=>{u(a,r,m),p(!1)},le=()=>{b(t),p(!1)},L=ye.useCallback(D=>{const re=O.current;if(!re)return;const{selectionStart:W,selectionEnd:X}=re,me=W>0?m[W-1]:`
`,G=`${/\s$/.test(me)?"":" "}${D}`,$=m.substring(0,W)+G+m.substring(X);b($),setTimeout(()=>{re.focus();const B=W+G.length;re.setSelectionRange(B,B)},0)},[m]),oe=ye.useCallback(D=>{const re=O.current;if(!re)return;const{selectionStart:W,selectionEnd:X}=re,me=W>0?m[W-1]:`
`,G=`${/\s$/.test(me)?"":" "}!${D}`,$=m.substring(0,W)+G+m.substring(X);b($),setTimeout(()=>{re.focus();const B=W+G.length;re.setSelectionRange(B,B)},0)},[m]),he=ye.useCallback(D=>{const re=O.current;if(!re)return;const{selectionStart:W,selectionEnd:X}=re,me=m.substring(W,X);if(D==="link"){z({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:J=>{const fe=W>0?m[W-1]:`
`,Q=X<m.length?m[X]:`
`,R=/^\s$/.test(fe)?"":" ",k=/^\s$/.test(Q)?"":" ",ie=me||"🔗",Z=J.replace(/\(/g,"%28").replace(/\)/g,"%29"),F=R+`[${ie}](${Z})`+k,K=m.substring(0,W)+F+m.substring(X);b(K),setTimeout(()=>{if(O.current){O.current.focus();const be=W+R.length+1,A=be+ie.length;O.current.setSelectionRange(be,A)}},0)}}),N(!0);return}if(D==="gmail"){z({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:J=>{const fe=W>0?m[W-1]:`
`,Q=X<m.length?m[X]:`
`,R=/^\s$/.test(fe)?"":" ",k=/^\s$/.test(Q)?"":" ",F=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${J}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),K=R+`[📨 ${J}](${F})`+k,be=m.substring(0,W)+K+m.substring(X);b(be),setTimeout(()=>{if(O.current){O.current.focus();const A=W+K.length;O.current.setSelectionRange(A,A)}},0)}}),N(!0);return}if(D==="dueDate"){ae(!0);return}let ue="",G="",$="",B=-1,Y;switch(D){case"h1":ue="# ";break;case"h2":ue="## ";break;case"h3":ue="### ";break;case"bold":ue="**",G="**";break;case"italic":ue="*",G="*";break;case"ul":ue="- ";break;case"task":{const J=new Date().toISOString().split("T")[0];if(W!==X){const fe=me.split(`
`).map(Q=>Q.trim()===""||Q.trim().match(/^[-*] \[( |x)\]/)?Q:`- [ ] ${Q.trim()} +${J}`).join(`
`);Y=m.substring(0,W)+fe+m.substring(X),b(Y),setTimeout(()=>{O.current&&(O.current.focus(),O.current.setSelectionRange(W+fe.length,W+fe.length))},0);return}else m.substring(0,W),ue=(W>0&&m[W-1]!==`
`?`
`:"")+"- [ ] ",G=` +${J}`;break}case"update":{const J=new Date().toISOString().split("T")[0],fe=m.substring(0,W);$=`${W===0||fe.endsWith(`
`)?"":`
`}  - ${J}: `,B=W+$.length;break}}$?Y=m.substring(0,W)+$+m.substring(X):Y=m.substring(0,W)+ue+me+G+m.substring(X),b(Y),setTimeout(()=>{if(O.current)if(O.current.focus(),B!==-1)O.current.setSelectionRange(B,B);else if(me.length===0){const J=W+ue.length;O.current.setSelectionRange(J,J)}else O.current.setSelectionRange(W+ue.length,X+ue.length)},0)},[m]),te=((D,re)=>{if(!D||re)return null;const W=new Date;W.setHours(0,0,0,0);const me=new Date(`${D}T00:00:00`).getTime()-W.getTime(),ue=Math.ceil(me/(1e3*60*60*24));return ue<0?{pillColor:"bg-red-500/20 text-red-400",label:"Overdue"}:ue===0?{pillColor:"bg-yellow-500/20 text-yellow-400",label:"Due today"}:{pillColor:"bg-slate-700/50 text-slate-300",label:`Due in ${ue} day(s)`}})(s.dueDate,s.completed);return d?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"py-2 border-b border-indigo-500/30 bg-slate-800/30 rounded-lg p-3 my-2",children:[w.jsx("div",{className:"mb-2",children:w.jsx(ld,{onFormat:he,onInsert:L,users:c})}),w.jsx("textarea",{ref:O,value:m,onChange:D=>b(D.target.value),className:"w-full p-2 bg-slate-900 border border-slate-700 rounded-md resize-y focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm leading-relaxed",autoFocus:!0}),w.jsxs("div",{className:"flex justify-end items-center mt-2 space-x-2",children:[w.jsxs("button",{onClick:le,className:"px-3 py-1 rounded-md bg-slate-600 hover:bg-slate-500 font-semibold text-sm flex items-center space-x-2",children:[w.jsx(Pn,{className:"w-4 h-4"}),w.jsx("span",{children:"Cancel"})]}),w.jsxs("button",{onClick:ne,className:"px-3 py-1 rounded-md bg-indigo-600 hover:bg-indigo-700 font-semibold text-sm flex items-center space-x-2",children:[w.jsx(ql,{className:"w-4 h-4"}),w.jsx("span",{children:"Save"})]})]})]}),x&&U&&w.jsx(ud,{isOpen:x,onClose:()=>N(!1),onSubmit:U.onSubmit,title:U.title,label:U.label,confirmText:U.confirmText}),w.jsx(cd,{isOpen:q,onClose:()=>ae(!1),onSelectDate:oe,title:"Select Due Date",confirmText:"Insert Date"})]}):w.jsxs("div",{className:"py-2 border-b border-slate-800",children:[w.jsxs("div",{className:"flex items-start space-x-3 group",children:[w.jsx("input",{type:"checkbox",checked:s.completed,onChange:D=>l(a,D.target.checked),className:"h-5 w-5 rounded-md bg-slate-700 border-slate-600 text-indigo-500 focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-indigo-500 cursor-pointer flex-shrink-0 mt-1",disabled:f}),w.jsx("div",{className:"flex-grow min-w-0",children:w.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2 gap-y-1",children:[w.jsx("span",{className:`leading-snug ${s.completed?"line-through text-slate-500":"text-slate-200"}`,children:w.jsx(Ts,{text:s.text})}),E&&w.jsxs("div",{className:"inline-flex items-center space-x-1.5 bg-slate-700/60 text-slate-300 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap",title:`Assigned to ${E.name}`,children:[w.jsx("img",{src:E.avatarUrl,alt:E.name,className:"h-4 w-4 rounded-full"}),w.jsx("span",{children:E.name})]}),te&&w.jsxs("div",{className:`inline-flex items-center space-x-1 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap ${te.pillColor}`,title:te.label,children:[w.jsx(Fl,{className:"w-3 h-3"}),w.jsx("span",{children:s.dueDate})]}),s.cost!==void 0&&w.jsxs("span",{className:"inline-flex items-center font-semibold bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap",children:["$",s.cost.toFixed(2)]}),s.completionDate&&s.completed&&w.jsxs("div",{className:"inline-flex items-center space-x-1 bg-slate-700/60 text-slate-400 px-1.5 py-0.5 rounded-full text-xs whitespace-nowrap",title:`Completed on ${s.completionDate}`,children:[w.jsx(Hl,{className:"w-3 h-3 text-green-500"}),w.jsx("span",{children:s.completionDate})]})]})}),w.jsx("button",{onClick:()=>p(!0),className:"p-2 rounded-full hover:bg-slate-700 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Edit task and updates",children:w.jsx(Hh,{className:"w-4 h-4"})})]}),s.updates.length>0&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"pl-8 mt-2",children:w.jsxs("button",{onClick:()=>S(D=>!D),className:"flex items-center text-xs text-slate-400 hover:text-indigo-300 transition-colors py-1 rounded","aria-expanded":_,"aria-controls":`updates-${s.lineIndex}`,children:[w.jsx(Fh,{className:`w-4 h-4 mr-1 transition-transform ${_?"rotate-90":""}`}),w.jsxs("span",{className:"font-medium",children:[s.updates.length," update",s.updates.length>1?"s":""]})]})}),_&&w.jsx("div",{id:`updates-${s.lineIndex}`,className:"pl-8 mt-2 space-y-2 border-l-2 border-slate-800 ml-2.5",children:s.updates.map(D=>{const re=D.assigneeAlias?j.get(D.assigneeAlias):null;return w.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-400 w-full group",children:[re?w.jsx("img",{src:re.avatarUrl,title:re.name,className:"w-5 h-5 rounded-full flex-shrink-0",alt:re.name}):w.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),w.jsxs("span",{className:"font-mono text-slate-500 whitespace-nowrap",children:[D.date,":"]}),w.jsx("p",{className:"flex-grow min-w-0",children:w.jsx(Ts,{text:D.text})})]},D.lineIndex)})})]})]})},zA=s=>{var T;const{section:t,sectionIndex:r,allSections:a,onSectionUpdate:l,onMoveSection:u,onDuplicateSection:c,onArchiveSection:f,onRestoreSection:d,tocHeadings:p,viewScope:m,project:b,isArchiveView:_}=s,[S,j]=ye.useState(()=>!t.content.trim()),[E,O]=ye.useState(!1),[x,N]=ye.useState(t.content),U=ye.useRef(null),z=ye.useRef(null),q=ye.useMemo(()=>new Map(s.users.map(H=>[H.alias,H])),[s.users]),[ae,ne]=ye.useState(!1),[le,L]=ye.useState(null),[oe,he]=ye.useState(!1),[I,te]=ye.useState(!1),[D,re]=ye.useState(null),[W,X]=ye.useState(null),[me,ue]=ye.useState([]),[G,$]=ye.useState(0),B=ye.useMemo(()=>{if(_)return!1;const H=/^- \[([ x])\] .*/,V=t.content.split(`
`).map(de=>de.match(H)).filter(de=>!!de);return V.length===0?!1:V.every(de=>de[1]==="x")},[t.content,_]);ye.useEffect(()=>{N(t.content)},[t.content]),ye.useEffect(()=>{if(S&&U.current){const H=U.current.value.length;U.current.focus(),U.current.setSelectionRange(H,H)}},[S]),ye.useEffect(()=>{S&&U.current&&(U.current.style.height="auto",U.current.style.height=`${U.current.scrollHeight}px`)},[S,x]),ye.useEffect(()=>{D===null&&ue([])},[D]);const Y=ye.useCallback(()=>{t.heading&&O(H=>!H)},[t.heading]),J=()=>{l(t.startLine,t.endLine,x),j(!1)},fe=()=>{N(t.content),j(!1)},Q=H=>{u({startLine:t.startLine,endLine:t.endLine},H)},R=H=>{c({startLine:t.startLine,endLine:t.endLine},H)},k=()=>{b&&d(t.startLine,t.endLine,b.title),te(!1)},ie=ye.useCallback(H=>{const ee=U.current;if(!ee)return;const V=ee.selectionStart,de=x.substring(0,V),Te=de.replace(/@(\w*)$/,`(@${H.alias}) `)+x.substring(V);N(Te),re(null),setTimeout(()=>{const Se=de.lastIndexOf("@")+H.alias.length+4;ee.focus(),ee.setSelectionRange(Se,Se)},0)},[x]),Z=H=>{if(!(D===null||me.length===0)&&["ArrowUp","ArrowDown","Enter","Tab","Escape"].includes(H.key))if(H.preventDefault(),H.stopPropagation(),H.key==="ArrowUp")$(ee=>ee>0?ee-1:me.length-1);else if(H.key==="ArrowDown")$(ee=>ee<me.length-1?ee+1:0);else if(H.key==="Enter"||H.key==="Tab"){const ee=me[G];ee&&ie(ee)}else H.key==="Escape"&&re(null)},F=H=>{const ee=H.target,V=ee.value;N(V);const de=ee.selectionStart,Se=V.substring(0,de).match(/@(\w*)$/);if(Se&&z.current&&U.current){const Ce=Se[1].toLowerCase(),De=V.substring(0,de);z.current.textContent=De;const Ue=document.createElement("span");z.current.appendChild(Ue);const{offsetLeft:Ge,offsetTop:it,offsetHeight:Be}=Ue;X({top:it+Be-ee.scrollTop,left:Ge-ee.scrollLeft}),re(Ce);const st=s.users.filter($e=>$e.alias.toLowerCase().includes(Ce)||$e.name.toLowerCase().includes(Ce));ue(st),$(0)}else re(null)},K=ye.useCallback(H=>{const ee=U.current;if(!ee)return;const{selectionStart:V,selectionEnd:de}=ee,Te=V>0?x[V-1]:`
`,Ce=`${/\s$/.test(Te)?"":" "}${H}`,De=x.substring(0,V)+Ce+x.substring(de);N(De),setTimeout(()=>{ee.focus();const Ue=V+Ce.length;ee.setSelectionRange(Ue,Ue)},0)},[x]),be=ye.useCallback(H=>{const ee=U.current;if(!ee)return;const{selectionStart:V,selectionEnd:de}=ee,Te=V>0?x[V-1]:`
`,Ce=`${/\s$/.test(Te)?"":" "}!${H}`,De=x.substring(0,V)+Ce+x.substring(de);N(De),setTimeout(()=>{ee.focus();const Ue=V+Ce.length;ee.setSelectionRange(Ue,Ue)},0)},[x]),A=ye.useCallback(H=>{const ee=U.current;if(!ee)return;const{selectionStart:V,selectionEnd:de}=ee,Te=x.substring(V,de);if(H==="link"){L({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:it=>{const Be=V>0?x[V-1]:`
`,st=de<x.length?x[de]:`
`,$e=/^\s$/.test(Be)?"":" ",pt=/^\s$/.test(st)?"":" ",_t=Te||"🔗",St=it.replace(/\(/g,"%28").replace(/\)/g,"%29"),It=$e+`[${_t}](${St})`+pt,wn=x.substring(0,V)+It+x.substring(de);N(wn),setTimeout(()=>{if(U.current){U.current.focus();const un=V+$e.length+1,cn=un+_t.length;U.current.setSelectionRange(un,cn)}},0)}}),ne(!0);return}if(H==="gmail"){L({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:it=>{const Be=V>0?x[V-1]:`
`,st=de<x.length?x[de]:`
`,$e=/^\s$/.test(Be)?"":" ",pt=/^\s$/.test(st)?"":" ",It=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${it}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),wn=$e+`[📨 ${it}](${It})`+pt,un=x.substring(0,V)+wn+x.substring(de);N(un),setTimeout(()=>{if(U.current){U.current.focus();const cn=V+wn.length;U.current.setSelectionRange(cn,cn)}},0)}}),ne(!0);return}if(H==="dueDate"){he(!0);return}let Se="",Ce="",De="",Ue=-1,Ge;switch(H){case"h1":Se="# ";break;case"h2":Se="## ";break;case"h3":Se="### ";break;case"bold":Se="**",Ce="**";break;case"italic":Se="*",Ce="*";break;case"ul":Se="- ";break;case"task":{const it=new Date().toISOString().split("T")[0];if(V!==de){const Be=Te.split(`
`).map(st=>st.trim()===""||st.trim().match(/^[-*] \[( |x)\]/)?st:`- [ ] ${st.trim()} +${it}`).join(`
`);Ge=x.substring(0,V)+Be+x.substring(de),N(Ge),setTimeout(()=>{U.current&&(U.current.focus(),U.current.setSelectionRange(V+Be.length,V+Be.length))},0);return}else x.substring(0,V),Se=(V>0&&x[V-1]!==`
`?`
`:"")+"- [ ] ",Ce=` +${it}`;break}case"update":{const it=new Date().toISOString().split("T")[0],Be=x.substring(0,V);De=`${V===0||Be.endsWith(`
`)?"":`
`}  - ${it}: `,Ue=V+De.length;break}}De?Ge=x.substring(0,V)+De+x.substring(de):Ge=x.substring(0,V)+Se+Te+Ce+x.substring(de),N(Ge),setTimeout(()=>{if(U.current)if(U.current.focus(),Ue!==-1)U.current.setSelectionRange(Ue,Ue);else if(Te.length===0){const it=V+Se.length;U.current.setSelectionRange(it,it)}else U.current.setSelectionRange(V+Se.length,de+Se.length)},0)},[x]),ge=ye.useCallback(H=>{const ee=t.content.split(`
`),V=[];let de=0;for(;de<ee.length;){const Te=ee[de],Se=t.startLine+de,Ce=((b==null?void 0:b.startLine)??0)+Se,De=Te.match(/^_Archived on: (.*)_/);if(_&&De){V.push(w.jsxs("blockquote",{className:"border-l-4 border-slate-600 pl-4 py-2 my-4 text-slate-400 italic",children:["Archived on: ",De[1]]},`archive-date-${de}`)),de++;continue}const Ue=Te.match(/^(#+) (.*)/);if(Ue&&de===0&&t.heading){const Be=Ue[1].length,st=Ue[2].trim(),$e=H==null?void 0:H.find(It=>It.line===(m==="single"&&!_?Se+b.startLine:Se));let pt,_t="font-bold flex items-center w-full text-left transition-colors hover:text-slate-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded p-1 -ml-1";switch(Be){case 1:pt="text-3xl mt-6 mb-3 pb-2 border-b border-slate-700 scroll-mt-20";break;case 2:pt="text-2xl mt-5 mb-2 scroll-mt-20";break;case 3:default:pt="text-xl mt-4 mb-1 scroll-mt-20";break}const St=`h${Be}`;V.push(yh.createElement(St,{key:de,id:$e==null?void 0:$e.slug,className:pt},w.jsxs("button",{className:_t,onClick:Y,"aria-expanded":!E,"aria-controls":`section-content-${t.startLine}`,children:[E?w.jsx(Fh,{className:"w-5 h-5 mr-2 flex-shrink-0 text-slate-400"}):w.jsx(hx,{className:"w-5 h-5 mr-2 flex-shrink-0 text-slate-400"}),w.jsx("span",{className:"flex-grow",children:w.jsx(Ts,{text:st})})]}))),de++;continue}else if(Ue){const Be=Ue[1].length,st=Ue[2].trim(),$e=H==null?void 0:H.find(_t=>_t.line===Ce);let pt="font-bold scroll-mt-20 ";Be===1?pt+="text-3xl mt-6 mb-3 pb-2 border-b border-slate-700":Be===2?pt+="text-2xl mt-5 mb-2":Be===3&&(pt+="text-xl mt-4 mb-1"),V.push(yh.createElement(`h${Be}`,{key:de,className:pt,id:$e==null?void 0:$e.slug},w.jsx(Ts,{text:st}))),de++;continue}const Ge=Te.match(/^- \[( |x)\] (.*)/);if(Ge){let Be=Ge[2],st=null,$e=null,pt=null,_t,St=null;const It=Be.match(/\s~([0-9]{4}-[0-9]{2}-[0-9]{2})/);It&&($e=It[1],Be=Be.replace(It[0],"").trim());const wn=Be.match(/\s\(\$(\d+(\.\d{1,2})?)\)/);wn&&(_t=parseFloat(wn[1]),Be=Be.replace(wn[0],"").trim());const un=Be.match(/\s\(@([a-zA-Z0-9_]+)\)/);un&&(st=q.get(un[1])||null,Be=Be.replace(un[0],"").trim());const cn=Be.match(/\s\+([0-9]{4}-[0-9]{2}-[0-9]{2})/);cn&&(pt=cn[1],Be=Be.replace(cn[0],"").trim());const Fn=Be.match(/\s!([0-9]{4}-[0-9]{2}-[0-9]{2})/);Fn&&(St=Fn[1],Be=Be.replace(Fn[0],"").trim());const en=[];let Qt=de+1;for(;Qt<ee.length;){const Fs=ee[Qt],Yr=Fs.match(/^  - (\d{4}-\d{2}-\d{2}): (.*)/);if(Yr){let vr=Yr[2].trim(),Hs=null;const qs=vr.match(/\s\(@([a-zA-Z0-9_]+)\)/);qs&&(Hs=qs[1],vr=vr.replace(qs[0],"").trim()),en.push({lineIndex:t.startLine+Qt,date:Yr[1],text:vr,assigneeAlias:Hs}),Qt++}else{if(Fs.trim()!=="")break;Qt++}}const io={lineIndex:Se,text:Be,completed:Ge[1]==="x",assigneeAlias:(st==null?void 0:st.alias)??null,creationDate:pt,completionDate:$e,dueDate:St,updates:en,projectTitle:"",cost:_t};V.push(w.jsx(IA,{task:io,taskBlockContent:ee.slice(de,Qt).join(`
`),blockLineCount:Qt-de,absoluteStartLine:Se,onToggle:s.onToggle,onUpdateTaskBlock:s.onUpdateTaskBlock,users:s.users,isArchiveView:_},de)),de=Qt;continue}const it=Te.match(/^[-*] (.*)/);it?V.push(w.jsx("li",{className:"ml-6 list-disc text-slate-300",children:w.jsx(Ts,{text:it[1]})},de)):Te.trim()===""?V.push(w.jsx("div",{className:"h-4"},de)):V.push(w.jsx("p",{className:"text-slate-300 my-2 leading-relaxed",children:w.jsx(Ts,{text:Te})},de)),de++}return V},[t.content,t.startLine,t.heading,s.users,s.onToggle,s.onUpdateTaskBlock,q,Y,E,b,m,_]),C=ye.useMemo(()=>S?null:ge(p),[S,ge,p]);if(S)return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-indigo-500/50",children:[w.jsx(ld,{onFormat:A,onInsert:K,users:s.users}),w.jsxs("div",{className:"relative mt-4",children:[w.jsx("div",{ref:z,className:"w-full min-h-[120px] p-4 font-mono text-slate-300 text-sm leading-relaxed invisible absolute top-0 left-0 whitespace-pre-wrap break-words pointer-events-none","aria-hidden":"true"}),w.jsx("textarea",{ref:U,value:x,onChange:F,onKeyDown:Z,className:"w-full min-h-[120px] p-4 bg-slate-800 border border-slate-700 rounded-lg resize-none overflow-hidden focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none font-mono text-slate-300 text-sm leading-relaxed",autoFocus:!0}),D!==null&&me.length>0&&W&&w.jsx(LA,{users:me,position:W,onSelect:ie,activeIndex:G})]}),w.jsxs("div",{className:"flex justify-end items-center mt-4 space-x-3",children:[w.jsxs("button",{onClick:fe,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 font-semibold flex items-center space-x-2",children:[w.jsx(Pn,{className:"w-4 h-4"}),w.jsx("span",{children:"Cancel"})]}),w.jsxs("button",{onClick:J,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 font-semibold flex items-center space-x-2",children:[w.jsx(ql,{className:"w-4 h-4"}),w.jsx("span",{children:"Save"})]})]})]}),ae&&le&&w.jsx(ud,{isOpen:ae,onClose:()=>ne(!1),onSubmit:le.onSubmit,title:le.title,label:le.label,confirmText:le.confirmText}),w.jsx(cd,{isOpen:oe,onClose:()=>he(!1),onSelectDate:be,title:"Select Due Date",confirmText:"Insert Date"})]});if(!C)return null;const g=t.heading?C[0]:null,v=t.heading?C.slice(1):C;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative group bg-slate-800/30 hover:bg-slate-800/50 rounded-lg transition-colors duration-200",children:[p&&((T=t.heading)==null?void 0:T.level)===1&&!_&&w.jsx(MA,{headings:p}),w.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[B&&w.jsx("button",{onClick:()=>f(t.startLine,t.endLine,b.title),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-label":"Archive section",title:"Archive section",children:w.jsx(ax,{className:"w-4 h-4"})}),_&&w.jsx("button",{onClick:()=>te(!0),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-label":"Restore section",title:"Restore section",children:w.jsx(sx,{className:"w-4 h-4"})}),!_&&w.jsxs(w.Fragment,{children:[w.jsx(UA,{allSections:a,currentSectionIndex:r,onDuplicateSection:R,viewScope:m}),w.jsx(DA,{allSections:a,currentSectionIndex:r,onMoveSection:Q,viewScope:m})]}),w.jsx("button",{onClick:()=>j(!0),className:"p-2 rounded-full bg-slate-700/50 text-slate-400 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-200 hover:bg-indigo-600 hover:text-white","aria-label":"Edit section",children:w.jsx(Hh,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"p-4 prose-invert pb-8",children:[g,w.jsx("div",{id:`section-content-${t.startLine}`,role:"region",children:(!E||!t.heading)&&v})]})]}),w.jsxs(qh,{isOpen:I,onClose:()=>te(!1),onConfirm:k,title:"Restore Section",confirmText:"Yes, Restore",children:[w.jsxs("p",{children:["Are you sure you want to restore this section to the project ",w.jsxs("strong",{className:"text-slate-200",children:['"',b==null?void 0:b.title,'"']}),"?"]}),w.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"The section will be removed from the archive and become active again."})]})]})},PA=s=>{const{markdown:t,projects:r,viewScope:a,currentProjectIndex:l,isArchiveView:u}=s,{users:c,updateSection:f,moveSection:d,duplicateSection:p,toggleTask:m,updateTaskBlock:b,archiveSection:_,restoreSection:S}=_i(),j=OA(t),E=ye.useMemo(()=>a==="single"&&r[l]&&!u?r[l].startLine:0,[a,r,l,u]),O=ye.useCallback((ne,le)=>{const L={startLine:ne.startLine+E,endLine:ne.endLine+E},oe=le>0?le+E:0;d(L,oe)},[E,d]),x=ye.useCallback((ne,le)=>{const L={startLine:ne.startLine+E,endLine:ne.endLine+E},oe=le>0?le+E:0;p(L,oe)},[E,p]),N=ye.useCallback((ne,le,L)=>{const oe=a==="single"&&r[l]&&!u?r[l].startLine+ne:ne,he=a==="single"&&r[l]&&!u?r[l].startLine+le:le;f(oe,he,L,!!u)},[a,l,r,f,u]),U=ye.useCallback((ne,le)=>{const L=a==="single"&&r[l]&&!u?r[l].startLine+ne:ne;m(L,le)},[a,l,r,m,u]),z=ye.useCallback((ne,le,L)=>{const oe=a==="single"&&r[l]&&!u?r[l].startLine+ne:ne;b(oe,le,L,!!u)},[a,l,r,b,u]),q=ye.useCallback((ne,le,L)=>{const oe=a==="single"&&r[l]?r[l].startLine+ne:ne,he=a==="single"&&r[l]?r[l].startLine+le:le;_({startLine:oe,endLine:he},L)},[a,l,r,_]),ae=ye.useCallback((ne,le,L)=>{S({startLine:ne,endLine:le},L)},[S]);return w.jsx("div",{className:"h-full overflow-y-auto",children:w.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[j.length===0&&w.jsxs("div",{className:"text-center text-slate-500 py-16",children:[w.jsx("h2",{className:"text-2xl font-semibold",children:u?"L'archivio è vuoto":"Nessun contenuto"}),w.jsx("p",{children:u?"Le sezioni completate e archiviate appariranno qui.":"Inizia aggiungendo del contenuto."})]}),w.jsx("div",{className:"space-y-4",children:j.map((ne,le)=>{var he;const L=r.find(I=>ne.startLine>=I.startLine&&ne.startLine<=I.endLine),oe=L==null?void 0:L.headings;return w.jsx(zA,{section:ne,sectionIndex:le,allSections:j,onSectionUpdate:N,onMoveSection:O,onDuplicateSection:x,onToggle:U,onUpdateTaskBlock:z,onArchiveSection:q,onRestoreSection:ae,tocHeadings:oe,users:c,viewScope:a,project:L,isArchiveView:u},(he=ne.heading)!=null&&he.text?`${ne.heading.text}-${ne.startLine}`:ne.startLine)})})]})})},FA=({content:s,onChange:t,onSave:r,onCancel:a,users:l})=>{const u=ye.useRef(null),[c,f]=ye.useState(!1),[d,p]=ye.useState(null),[m,b]=ye.useState(!1);ye.useEffect(()=>{if(u.current){const E=u.current.value.length;u.current.focus(),u.current.setSelectionRange(E,E)}},[]);const _=ye.useCallback(E=>{const O=u.current;if(!O)return;const{selectionStart:x,selectionEnd:N}=O,U=x>0?s[x-1]:`
`,q=`${/\s$/.test(U)?"":" "}${E}`,ae=s.substring(0,x)+q+s.substring(N);t(ae),setTimeout(()=>{O.focus();const ne=x+q.length;O.setSelectionRange(ne,ne)},0)},[s,t]),S=ye.useCallback(E=>{const O=u.current;if(!O)return;const{selectionStart:x,selectionEnd:N}=O,U=x>0?s[x-1]:`
`,q=`${/\s$/.test(U)?"":" "}!${E}`,ae=s.substring(0,x)+q+s.substring(N);t(ae),setTimeout(()=>{O.focus();const ne=x+q.length;O.setSelectionRange(ne,ne)},0)},[s,t]),j=ye.useCallback(E=>{const O=u.current;if(!O)return;const{selectionStart:x,selectionEnd:N}=O,U=s.substring(x,N);if(E==="link"){p({title:"Insert Link",label:"Enter the URL:",confirmText:"Insert Link",onSubmit:L=>{const oe=x>0?s[x-1]:`
`,he=N<s.length?s[N]:`
`,I=/^\s$/.test(oe)?"":" ",te=/^\s$/.test(he)?"":" ",D=U||"🔗",re=L.replace(/\(/g,"%28").replace(/\)/g,"%29"),W=I+`[${D}](${re})`+te,X=s.substring(0,x)+W+s.substring(N);t(X),setTimeout(()=>{if(u.current){u.current.focus();const me=x+I.length+1,ue=me+D.length;u.current.setSelectionRange(me,ue)}},0)}}),f(!0);return}if(E==="gmail"){p({title:"Insert Gmail Link",label:"Enter the email subject:",confirmText:"Create Link",onSubmit:L=>{const oe=x>0?s[x-1]:`
`,he=N<s.length?s[N]:`
`,I=/^\s$/.test(oe)?"":" ",te=/^\s$/.test(he)?"":" ",W=`https://mail.google.com/mail/u/0/#search/${encodeURIComponent(`subject:"${L}"`)}`.replace(/\(/g,"%28").replace(/\)/g,"%29"),X=I+`[📨 ${L}](${W})`+te,me=s.substring(0,x)+X+s.substring(N);t(me),setTimeout(()=>{if(u.current){u.current.focus();const ue=x+X.length;u.current.setSelectionRange(ue,ue)}},0)}}),f(!0);return}if(E==="dueDate"){b(!0);return}let z="",q="",ae="",ne=-1,le;switch(E){case"h1":z="# ";break;case"h2":z="## ";break;case"h3":z="### ";break;case"bold":z="**",q="**";break;case"italic":z="*",q="*";break;case"ul":z="- ";break;case"task":{const L=new Date().toISOString().split("T")[0];if(x!==N){const oe=U.split(`
`).map(he=>he.trim()===""||he.trim().match(/^[-*] \[( |x)\]/)?he:`- [ ] ${he.trim()} +${L}`).join(`
`);le=s.substring(0,x)+oe+s.substring(N),t(le),setTimeout(()=>{u.current&&(u.current.focus(),u.current.setSelectionRange(x+oe.length,x+oe.length))},0);return}else s.substring(0,x),z=(x>0&&s[x-1]!==`
`?`
`:"")+"- [ ] ",q=` +${L}`;break}case"update":{const L=new Date().toISOString().split("T")[0],oe=s.substring(0,x);ae=`${x===0||oe.endsWith(`
`)?"":`
`}  - ${L}: `,ne=x+ae.length;break}}ae?le=s.substring(0,x)+ae+s.substring(N):le=s.substring(0,x)+z+U+q+s.substring(N),t(le),setTimeout(()=>{if(u.current)if(u.current.focus(),ne!==-1)u.current.setSelectionRange(ne,ne);else if(U.length===0){const L=x+z.length;u.current.setSelectionRange(L,L)}else u.current.setSelectionRange(x+z.length,N+z.length)},0)},[s,t]);return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8",children:[w.jsx("div",{className:"mb-4 flex-shrink-0",children:w.jsx(ld,{onFormat:j,onInsert:_,users:l})}),w.jsx("textarea",{ref:u,value:s,onChange:E=>t(E.target.value),className:"w-full flex-grow p-4 bg-slate-800 border border-slate-700 rounded-lg resize-y focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none font-mono text-slate-300 text-sm leading-relaxed",autoFocus:!0}),w.jsxs("div",{className:"flex justify-end items-center mt-4 space-x-3 flex-shrink-0",children:[w.jsxs("button",{onClick:a,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 font-semibold flex items-center space-x-2",children:[w.jsx(Pn,{className:"w-4 h-4"}),w.jsx("span",{children:"Cancel"})]}),w.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 font-semibold flex items-center space-x-2",children:[w.jsx(ql,{className:"w-4 h-4"}),w.jsx("span",{children:"Save Changes"})]})]})]}),c&&d&&w.jsx(ud,{isOpen:c,onClose:()=>f(!1),onSubmit:d.onSubmit,title:d.title,label:d.label,confirmText:d.confirmText}),w.jsx(cd,{isOpen:m,onClose:()=>b(!1),onSelectDate:S,title:"Select Due Date",confirmText:"Insert Date"})]})},HA=s=>s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\))/g).map((r,a)=>{if(!r)return null;if(r.startsWith("**")&&r.endsWith("**"))return w.jsx("strong",{children:r.slice(2,-2)},a);if(r.startsWith("*")&&r.endsWith("*"))return w.jsx("em",{children:r.slice(1,-1)},a);const l=r.match(/\[(.*?)\]\((.*?)\)/);return l?w.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},a):r}),qA=({text:s})=>w.jsx(w.Fragment,{children:HA(s)}),$A=({task:s,user:t,viewScope:r})=>w.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-slate-800/50 rounded-md",children:[s.completed?w.jsx(Hl,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}):w.jsx(rv,{className:"h-5 w-5 text-slate-500 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"flex-grow min-w-0",children:[w.jsx("p",{className:`text-sm ${s.completed?"line-through text-slate-500":"text-slate-300"}`,children:w.jsx(qA,{text:s.text})}),w.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-1 text-xs text-slate-400",children:[t&&w.jsxs("div",{className:"flex items-center space-x-1",children:[w.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-4 w-4 rounded-full"}),w.jsx("span",{children:t.name})]}),r==="all"&&w.jsx("span",{className:"font-medium text-indigo-400",children:s.projectTitle})]})]}),w.jsx("span",{className:"text-xs font-mono whitespace-nowrap text-slate-400",children:s.dueDate})]}),$a=({title:s,icon:t,tasks:r,viewScope:a})=>{const{users:l}=_i(),u=ye.useMemo(()=>new Map(l.map(c=>[c.alias,c])),[l]);return r.length===0?null:w.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[w.jsxs("h3",{className:"font-bold text-lg text-slate-100 flex items-center mb-4",children:[t,w.jsx("span",{className:"ml-2",children:s}),w.jsx("span",{className:"ml-auto text-sm font-normal bg-slate-700 text-slate-300 rounded-full px-2.5 py-0.5",children:r.length})]}),w.jsx("div",{className:"space-y-2",children:r.map(c=>w.jsx($A,{task:c,user:c.assigneeAlias?u.get(c.assigneeAlias)??null:null,viewScope:a},c.lineIndex))})]})},GA=({tasks:s,viewScope:t})=>{const r=ye.useMemo(()=>{const a=new Date;a.setHours(0,0,0,0),new Date(a).setDate(a.getDate()+1);const u=new Date(a);u.setDate(a.getDate()+(7-a.getDay()));const c=new Date(a.getFullYear(),a.getMonth()+1,0),f=[],d=[],p=[],m=[],b=[];return s.forEach(_=>{if(!_.dueDate)return;const S=new Date(`${_.dueDate}T00:00:00`);_.completed||(S<a?f.push(_):S.getTime()===a.getTime()?d.push(_):S>a&&S<=u?p.push(_):S>u&&S<=c?m.push(_):b.push(_))}),{overdue:f,dueToday:d,thisWeek:p,thisMonth:m,later:b}},[s]);return s.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[w.jsx(h0,{className:"w-16 h-16 mb-4"}),w.jsx("h2",{className:"text-2xl font-semibold",children:"No Tasks with Due Dates"}),w.jsx("p",{children:"This timeline shows tasks with a 'due date'."}),w.jsx("p",{children:"Try adding a due date like `!YYYY-MM-DD` to a task in the editor."})]}):w.jsx("div",{className:"p-8 overflow-y-auto h-full pb-24",children:w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[w.jsx($a,{title:"Overdue",icon:w.jsx(Dx,{className:"w-5 h-5 text-red-400"}),tasks:r.overdue,viewScope:t}),w.jsx($a,{title:"Due Today",icon:w.jsx(tv,{className:"w-5 h-5 text-yellow-400"}),tasks:r.dueToday,viewScope:t}),w.jsx($a,{title:"This Week",icon:w.jsx(ox,{className:"w-5 h-5 text-blue-400"}),tasks:r.thisWeek,viewScope:t}),w.jsx($a,{title:"This Month",icon:w.jsx(px,{className:"w-5 h-5 text-indigo-400"}),tasks:r.thisMonth,viewScope:t}),w.jsx($a,{title:"Later",icon:w.jsx(h0,{className:"w-5 h-5 text-slate-400"}),tasks:r.later,viewScope:t})]})})},KA=({isConfigured:s,isLoading:t,onBackup:r,onRestore:a,isAuthenticated:l,onSignOut:u})=>{const[c,f]=ye.useState(!1),d=ye.useRef(null);ye.useEffect(()=>{const _=S=>{d.current&&!d.current.contains(S.target)&&f(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const p=()=>{r(),f(!1)},m=()=>{a(),f(!1)},b=()=>{u(),f(!1)};return w.jsxs("div",{className:"relative",ref:d,children:[w.jsxs("button",{onClick:()=>f(_=>!_),disabled:!s,className:"relative flex items-center space-x-2 p-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed","aria-haspopup":"true","aria-expanded":c,title:s?"Cloud Actions":"Configure Supabase in Settings to enable Cloud Actions",children:[t?w.jsx(Nx,{className:"w-5 h-5 animate-spin"}):w.jsx(yx,{className:"w-5 h-5"}),s&&l&&!t&&w.jsx("span",{className:"absolute -top-0.5 -right-0.5 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-slate-700",title:"Authenticated"})]}),c&&s&&w.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsxs("div",{className:"p-2",children:[w.jsxs("button",{onClick:p,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(gx,{className:"w-4 h-4"}),w.jsx("span",{children:"Backup to Cloud"})]}),w.jsxs("button",{onClick:m,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-slate-200",role:"menuitem",children:[w.jsx(mx,{className:"w-4 h-4"}),w.jsx("span",{children:"Restore from Cloud"})]}),l&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"border-t border-slate-700 my-2"}),w.jsxs("button",{onClick:b,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-slate-700 text-sm text-red-400",role:"menuitem",children:[w.jsx(Rx,{className:"w-4 h-4"}),w.jsx("span",{children:"Sign Out"})]})]})]})})]})},VA=({isOpen:s,onClose:t,onConfirm:r,title:a})=>{const[l,u]=ye.useState(""),c=ye.useRef(null);if(ye.useEffect(()=>{s&&(u(""),setTimeout(()=>{var d;return(d=c.current)==null?void 0:d.focus()},100))},[s]),!s)return null;const f=d=>{d.preventDefault(),l&&r(l)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm mx-4 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-100",children:a}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:f,children:[w.jsxs("div",{className:"text-slate-300 mb-6",children:[w.jsx("label",{htmlFor:"supabase-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Supabase Password"}),w.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Enter your Supabase user password to proceed. It will not be stored."}),w.jsx("input",{id:"supabase-password",ref:c,type:"password",value:l,onChange:d=>u(d.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",required:!0})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"}),w.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold",children:[w.jsx(Ex,{className:"w-4 h-4"}),w.jsx("span",{children:"Confirm"})]})]})]})]})})},WA=({isOpen:s,onClose:t,backups:r,onSelectBackup:a})=>s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:w.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-lg mx-4 border border-slate-700 flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[w.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center",children:[w.jsx(_x,{className:"w-5 h-5 mr-2"})," Select a Backup to Restore"]}),w.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700 text-slate-400","aria-label":"Close modal",children:w.jsx(Pn,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"text-slate-300 mb-6 overflow-y-auto",children:r.length>0?w.jsx("div",{className:"space-y-2",children:r.map(l=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/50 rounded-md",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-200",children:new Date(l.created_at).toLocaleString()}),w.jsx("p",{className:"text-xs text-slate-400",children:l.client_name||"Backup"})]}),w.jsxs("button",{onClick:()=>a(l.id),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700 transition-colors font-semibold text-sm",children:[w.jsx(sv,{className:"w-4 h-4"}),w.jsx("span",{children:"Restore"})]})]},l.id))}):w.jsx("p",{className:"text-center text-slate-400 py-8",children:"No backups found in the cloud."})}),w.jsx("div",{className:"flex justify-end mt-auto pt-4 border-t border-slate-700 flex-shrink-0",children:w.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-slate-600 hover:bg-slate-500 transition-colors font-semibold",children:"Cancel"})})]})}):null,YA="modulepreload",XA=function(s){return"/markdown-tasker/"+s},Ey={},no=function(t,r,a){let l=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=c(r.map(p=>{if(p=XA(p),p in Ey)return;Ey[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":YA,m||(_.as="script"),_.crossOrigin="",_.href=p,d&&_.setAttribute("nonce",d),document.head.appendChild(_),m)return new Promise((S,j)=>{_.addEventListener("load",S),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},ZA=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>no(async()=>{const{default:a}=await Promise.resolve().then(()=>Ps);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)};class fd extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class Ty extends fd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ay extends fd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ky extends fd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nh;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Nh||(Nh={}));var QA=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class JA{constructor(t,{headers:r={},customFetch:a,region:l=Nh.Any}={}){this.url=t,this.headers=r,this.region=l,this.fetch=ZA(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var a;return QA(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:c,signal:f}=r;let d={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${t}`);p&&p!=="any"&&(d["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let b;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(d["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(d["Content-Type"]="application/json",b=JSON.stringify(c)));const _=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),l),body:b,signal:f}).catch(O=>{throw O.name==="AbortError"?O:new Ty(O)}),S=_.headers.get("x-relay-error");if(S&&S==="true")throw new Ay(_);if(!_.ok)throw new ky(_);let j=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),E;return j==="application/json"?E=yield _.json():j==="application/octet-stream"?E=yield _.blob():j==="text/event-stream"?E=_:j==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Ty(l)}:{data:null,error:l,response:l instanceof ky||l instanceof Ay?l.context:void 0}}})}}var qt={},ds={},ps={},ms={},gs={},ys={},ek=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ls=ek();const tk=Ls.fetch,aw=Ls.fetch.bind(Ls),ow=Ls.Headers,nk=Ls.Request,rk=Ls.Response,Ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:ow,Request:nk,Response:rk,default:aw,fetch:tk},Symbol.toStringTag,{value:"Module"})),ik=L1(Ps);var jl={},jy;function lw(){if(jy)return jl;jy=1,Object.defineProperty(jl,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return jl.default=s,jl}var Ny;function uw(){if(Ny)return ys;Ny=1;var s=ys&&ys.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ys,"__esModule",{value:!0});const t=s(ik),r=s(lw());class a{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let d=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,b,_,S;let j=null,E=null,O=null,x=p.status,N=p.statusText;if(p.ok){if(this.method!=="HEAD"){const ae=await p.text();ae===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?E=ae:E=JSON.parse(ae))}const z=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),q=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");z&&q&&q.length>1&&(O=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(j={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,O=null,x=406,N="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const z=await p.text();try{j=JSON.parse(z),Array.isArray(j)&&p.status===404&&(E=[],j=null,x=200,N="OK")}catch{p.status===404&&z===""?(x=204,N="No Content"):j={message:z}}if(j&&this.isMaybeSingle&&(!((S=j==null?void 0:j.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,x=200,N="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:E,count:O,status:x,statusText:N}});return this.shouldThrowOnError||(d=d.catch(p=>{var m,b,_;return{error:{message:`${(m=p==null?void 0:p.name)!==null&&m!==void 0?m:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=p==null?void 0:p.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),d.then(u,c)}returns(){return this}overrideTypes(){return this}}return ys.default=a,ys}var Ry;function cw(){if(Ry)return gs;Ry=1;var s=gs&&gs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gs,"__esModule",{value:!0});const t=s(uw());class r extends t.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:d=f}={}){const p=d?`${d}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const d=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:d=!1,format:p="text"}={}){var m;const b=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,d?"wal":null].filter(Boolean).join("|"),_=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return gs.default=r,gs}var Cy;function hd(){if(Cy)return ms;Cy=1;var s=ms&&ms.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ms,"__esModule",{value:!0});const t=s(cw());class r extends t.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const c=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:c,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${d}fts${p}.${u}`),this}match(l){return Object.entries(l).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(l,u,c){return this.url.searchParams.append(l,`not.${u}.${c}`),this}or(l,{foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,c){return this.url.searchParams.append(l,`${u}.${c}`),this}}return ms.default=r,ms}var Oy;function fw(){if(Oy)return ps;Oy=1;var s=ps&&ps.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ps,"__esModule",{value:!0});const t=s(hd());class r{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=c,this.fetch=f}select(l,{head:u=!1,count:c}={}){const f=u?"HEAD":"GET";let d=!1;const p=(l??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:c=!0}={}){var f;const d="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(p.length>0){const m=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:d=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(b.length>0){const _=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:u}={}){var c;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var u;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ps.default=r,ps}var Dy;function sk(){if(Dy)return ds;Dy=1;var s=ds&&ds.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ds,"__esModule",{value:!0});const t=s(fw()),r=s(hd());class a{constructor(u,{headers:c={},schema:f,fetch:d}={}){this.url=u,this.headers=new Headers(c),this.schemaName=f,this.fetch=d}from(u){const c=new URL(`${this.url}/${u}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new a(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:f=!1,get:d=!1,count:p}={}){var m;let b;const _=new URL(`${this.url}/rpc/${u}`);let S;f||d?(b=f?"HEAD":"GET",Object.entries(c).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{_.searchParams.append(E,O)})):(b="POST",S=c);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new r.default({method:b,url:_,headers:j,schema:this.schemaName,body:S,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return ds.default=a,ds}var Uy;function ak(){if(Uy)return qt;Uy=1;var s=qt&&qt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(qt,"__esModule",{value:!0}),qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const t=s(sk());qt.PostgrestClient=t.default;const r=s(fw());qt.PostgrestQueryBuilder=r.default;const a=s(hd());qt.PostgrestFilterBuilder=a.default;const l=s(cw());qt.PostgrestTransformBuilder=l.default;const u=s(uw());qt.PostgrestBuilder=u.default;const c=s(lw());return qt.PostgrestError=c.default,qt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},qt}var ok=ak();const lk=Pl(ok),{PostgrestClient:uk,PostgrestQueryBuilder:vN,PostgrestFilterBuilder:wN,PostgrestTransformBuilder:bN,PostgrestBuilder:xN,PostgrestError:_N}=lk;class ck{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const fk="2.15.5",hk=`realtime-js/${fk}`,dk="1.0.0",Rh=1e4,pk=1e3,mk=100;var Wa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Wa||(Wa={}));var Bt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Bt||(Bt={}));var In;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(In||(In={}));var Ch;(function(s){s.websocket="websocket"})(Ch||(Ch={}));var wi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(wi||(wi={}));class gk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const l=r.getUint8(1),u=r.getUint8(2);let c=this.HEADER_LENGTH+2;const f=a.decode(t.slice(c,c+l));c=c+l;const d=a.decode(t.slice(c,c+u));c=c+u;const p=JSON.parse(a.decode(t.slice(c,t.byteLength)));return{ref:null,topic:f,event:d,payload:p}}}class hw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(yt||(yt={}));const My=(s,t,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((u,c)=>(u[c]=yk(c,s,t,l),u),{})},yk=(s,t,r,a)=>{const l=t.find(f=>f.name===s),u=l==null?void 0:l.type,c=r[s];return u&&!a.includes(u)?dw(u,c):Oh(c)},dw=(s,t)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return xk(t,r)}switch(s){case yt.bool:return vk(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return wk(t);case yt.json:case yt.jsonb:return bk(t);case yt.timestamp:return _k(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return Oh(t);default:return Oh(t)}},Oh=s=>s,vk=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},wk=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},bk=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},xk=(s,t)=>{if(typeof s!="string")return s;const r=s.length-1,a=s[r];if(s[0]==="{"&&a==="}"){let u;const c=s.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>dw(t,f))}return s},_k=s=>typeof s=="string"?s.replace(" ","T"):s,pw=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class lh{constructor(t,r,a={},l=Rh){this.channel=t,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ly;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Ly||(Ly={}));class Ya{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ya.syncState(this.state,l,u,c),this.pendingDiffs.forEach(d=>{this.state=Ya.syncDiff(this.state,d,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ya.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,l){const u=this.cloneDeep(t),c=this.transformState(r),f={},d={};return this.map(u,(p,m)=>{c[p]||(d[p]=m)}),this.map(c,(p,m)=>{const b=u[p];if(b){const _=m.map(O=>O.presence_ref),S=b.map(O=>O.presence_ref),j=m.filter(O=>S.indexOf(O.presence_ref)<0),E=b.filter(O=>_.indexOf(O.presence_ref)<0);j.length>0&&(f[p]=j),E.length>0&&(d[p]=E)}else f[p]=m}),this.syncDiff(u,{joins:f,leaves:d},a,l)}static syncDiff(t,r,a,l){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(f,d)=>{var p;const m=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(d),m.length>0){const b=t[f].map(S=>S.presence_ref),_=m.filter(S=>b.indexOf(S.presence_ref)<0);t[f].unshift(..._)}a(f,m,d)}),this.map(c,(f,d)=>{let p=t[f];if(!p)return;const m=d.map(b=>b.presence_ref);p=p.filter(b=>m.indexOf(b.presence_ref)<0),t[f]=p,l(f,p,d),p.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const l=t[a];return"metas"in l?r[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[a]=l,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var By;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(By||(By={}));var Xa;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Xa||(Xa={}));var mr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class dd{constructor(t,r={config:{}},a){this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lh(this,In.join,this.params,this.timeout),this.rejoinTimer=new hw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ya(this),this.broadcastEndpointURL=pw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:c,presence:f,private:d}}=this.params,p=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(S=>S.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[Xa.PRESENCE]&&this.bindings[Xa.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},_={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(mr.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(mr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){t==null||t(mr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(j=E==null?void 0:E.length)!==null&&j!==void 0?j:0,x=[];for(let N=0;N<O;N++){const U=E[N],{filter:{event:z,schema:q,table:ae,filter:ne}}=U,le=S&&S[N];if(le&&le.event===z&&le.schema===q&&le.table===ae&&le.filter===ne)x.push(Object.assign(Object.assign({},U),{id:le.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(mr.SUBSCRIBED);return}}).receive("error",S=>{this.state=Bt.errored,t==null||t(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Bt.joined&&t===Xa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async send(t,r={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:c}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,d;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new lh(this,In.leave,{},t),a.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(u),c}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new lh(this,t,r,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var l,u;const c=t.toLocaleLowerCase(),{close:f,error:d,leave:p,join:m}=In;if(a&&[f,d,p,m].indexOf(c)>=0&&a!==this._joinRef())return;let _=this._onMessage(c,r,a);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var j,E,O;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((O=(E=S.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(S=>S.callback(_,a)):(u=this.bindings[c])===null||u===void 0||u.filter(S=>{var j,E,O,x,N,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const z=S.id,q=(j=S.filter)===null||j===void 0?void 0:j.event;return z&&((E=r.ids)===null||E===void 0?void 0:E.includes(z))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const z=(N=(x=S==null?void 0:S.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return z==="*"||z===((U=r==null?void 0:r.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:E,table:O,commit_timestamp:x,type:N,errors:U}=j;_=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:x,eventType:N,new:{},old:{},errors:U}),this._getPayloadRecords(j))}S.callback(_,a)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const l=t.toLocaleLowerCase(),u={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&dd.isEqual(l.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=My(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=My(t.columns,t.old_record)),r}}const uh=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sk=[1e3,2e3,5e3,1e4],Ek=1e4,Tk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ak{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rh,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uh,this.ref=0,this.reconnectTimer=null,this.logger=uh,this.conn=null,this.sendBuffer=[],this.serializer=new gk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...c)=>no(async()=>{const{default:f}=await Promise.resolve().then(()=>Ps);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ch.websocket}`,this.httpEndpoint=pw(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ck.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dk}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Wa.connecting:return wi.Connecting;case Wa.open:return wi.Open;case Wa.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new dd(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:a,payload:l,ref:u}=t,c=()=>{this.encode(t,f=>{var d;(d=this.conn)===null||d===void 0||d.send(f)})};this.log("push",`${r} ${a} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:u,ref:c}=r,f=c?`(${c})`:"",d=u.status||"";this.log("receive",`${d} ${a} ${l} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${t}${a}${l}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([Tk],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:hk};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(In.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new hw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,l,u,c,f,d,p,m;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Rh,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:Nl.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:uh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(b=>Sk[b-1]||Ek),this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((b,_)=>_(JSON.stringify(b))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class pd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ut(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class kk extends pd{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dh extends pd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const mw=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>no(async()=>{const{default:a}=await Promise.resolve().then(()=>Ps);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},Nk=()=>jk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield no(()=>Promise.resolve().then(()=>Ps),void 0)).Response:Response}),Uh=s=>{if(Array.isArray(s))return s.map(r=>Uh(r));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=Uh(a)}),t},Rk=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var Ti=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const ch=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ck=(s,t,r)=>Ti(void 0,void 0,void 0,function*(){const a=yield Nk();s instanceof a&&!(r!=null&&r.noResolveJson)?s.json().then(l=>{const u=s.status||500,c=(l==null?void 0:l.statusCode)||u+"";t(new kk(ch(l),u,c))}).catch(l=>{t(new Dh(ch(l),l))}):t(new Dh(ch(s),s))}),Ok=(s,t,r,a)=>{const l={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"||!a?l:(Rk(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,t!=null&&t.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),r))};function ro(s,t,r,a,l,u){return Ti(this,void 0,void 0,function*(){return new Promise((c,f)=>{s(r,Ok(t,a,l,u)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>Ck(d,f,a))})})}function Il(s,t,r,a){return Ti(this,void 0,void 0,function*(){return ro(s,"GET",t,r,a)})}function Wn(s,t,r,a,l){return Ti(this,void 0,void 0,function*(){return ro(s,"POST",t,a,l,r)})}function Mh(s,t,r,a,l){return Ti(this,void 0,void 0,function*(){return ro(s,"PUT",t,a,l,r)})}function Dk(s,t,r,a){return Ti(this,void 0,void 0,function*(){return ro(s,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function gw(s,t,r,a,l){return Ti(this,void 0,void 0,function*(){return ro(s,"DELETE",t,a,l,r)})}var Uk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class Mk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Uk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}}var Lk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class Bk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new Mk(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return Lk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}}var on=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const Ik={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zk{constructor(t,r={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=mw(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,l){return on(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Iy),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),d&&u.append("metadata",this.encodeMetadata(d)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",c.cacheControl),d&&u.append("metadata",this.encodeMetadata(d))):(u=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,d&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(r),m=this._getFinalPath(p),b=yield(t=="PUT"?Mh:Wn)(this.fetch,`${this.url}/object/${m}`,u,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ut(u))return{data:null,error:u};throw u}})}upload(t,r,a){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,l){return on(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let d;const p=Object.assign({upsert:Iy.upsert},l),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",p.cacheControl)):(d=a,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const b=yield Mh(this.fetch,f.toString(),d,{headers:m});return{data:{path:u,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ut(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return on(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const u=yield Wn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new pd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}update(t,r,a){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return on(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}copy(t,r,a){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}createSignedUrl(t,r,a){return on(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),u=yield Wn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}createSignedUrls(t,r,a){return on(this,void 0,void 0,function*(){try{const l=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}download(t,r){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=u?`?${u}`:"",f=this._getFinalPath(t),d=()=>Il(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new Bk(d,this.shouldThrowOnError)}info(t){return on(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield Il(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Uh(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}exists(t){return on(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Dk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a)&&a instanceof Dh){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),l=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&l.push(u);const f=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&l.push(d);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(t){return on(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}list(t,r,a){return on(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Ik),r),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}})}listV2(t,r){return on(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Wn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Pk="2.12.2",Fk={"X-Client-Info":`storage-js/${Pk}`};var vs=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class Hk{constructor(t,r={},a,l){this.shouldThrowOnError=!1;const u=new URL(t);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Fk),r),this.fetch=mw(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vs(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}getBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vs(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return vs(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}emptyBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}}class qk extends Hk{constructor(t,r={},a,l){super(t,r,a,l)}from(t){return new zk(this.url,this.headers,t,this.fetch)}}const $k="2.58.0";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const Gk={"X-Client-Info":`supabase-js-${Ka}/${$k}`},Kk={headers:Gk},Vk={schema:"public"},Wk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yk={};var Xk=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};const Zk=s=>{let t;return s?t=s:typeof fetch>"u"?t=aw:t=fetch,(...r)=>t(...r)},Qk=()=>typeof Headers>"u"?ow:Headers,Jk=(s,t,r)=>{const a=Zk(r),l=Qk();return(u,c)=>Xk(void 0,void 0,void 0,function*(){var f;const d=(f=yield t())!==null&&f!==void 0?f:s;let p=new l(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),a(u,Object.assign(Object.assign({},c),{headers:p}))})};var ej=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};function tj(s){return s.endsWith("/")?s:s+"/"}function nj(s,t){var r,a;const{db:l,auth:u,realtime:c,global:f}=s,{db:d,auth:p,realtime:m,global:b}=t,_={db:Object.assign(Object.assign({},d),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>ej(this,void 0,void 0,function*(){return""})};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function rj(s){const t=s==null?void 0:s.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yw="2.72.0",Ss=30*1e3,Lh=3,fh=Lh*Ss,ij="http://localhost:9999",sj="supabase.auth.token",aj={"X-Client-Info":`gotrue-js/${yw}`},Bh="X-Supabase-Api-Version",vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lj=600*1e3;class md extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ke(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class uj extends md{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function cj(s){return Ke(s)&&s.name==="AuthApiError"}class ww extends md{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Wr extends md{constructor(t,r,a,l){super(t,a,l),this.name=r,this.status=a}}class $r extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fj(s){return Ke(s)&&s.name==="AuthSessionMissingError"}class Ga extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rl extends Wr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cl extends Wr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hj(s){return Ke(s)&&s.name==="AuthImplicitGrantRedirectError"}class zy extends Wr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ih extends Wr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hh(s){return Ke(s)&&s.name==="AuthRetryableFetchError"}class Py extends Wr{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class zh extends Wr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fy=` 	
\r=`.split(""),dj=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<Fy.length;t+=1)s[Fy[t].charCodeAt(0)]=-2;for(let t=0;t<zl.length;t+=1)s[zl[t].charCodeAt(0)]=t;return s})();function Hy(s,t,r){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(zl[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(zl[a]),t.queuedBits-=6}}function bw(s,t,r){const a=dj[s];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function qy(s){const t=[],r=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{gj(c,a,r)};for(let c=0;c<s.length;c+=1)bw(s.charCodeAt(c),l,u);return t.join("")}function pj(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function mj(s,t){for(let r=0;r<s.length;r+=1){let a=s.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(s.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}pj(a,t)}}function gj(s,t,r){if(t.utf8seq===0){if(s<=127){r(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yj(s){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<s.length;l+=1)bw(s.charCodeAt(l),r,a);return new Uint8Array(t)}function vj(s){const t=[];return mj(s,r=>t.push(r)),new Uint8Array(t)}function wj(s){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};return s.forEach(l=>Hy(l,r,a)),Hy(null,r,a),t.join("")}function bj(s){return Math.round(Date.now()/1e3)+s}function xj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const Cn=()=>typeof window<"u"&&typeof document<"u",mi={tested:!1,writable:!1},xw=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mi.tested)return mi.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),mi.tested=!0,mi.writable=!0}catch{mi.tested=!0,mi.writable=!1}return mi.writable};function _j(s){const t={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return r.searchParams.forEach((a,l)=>{t[l]=a}),t}const _w=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>no(async()=>{const{default:a}=await Promise.resolve().then(()=>Ps);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},Sj=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Es=async(s,t,r)=>{await s.setItem(t,JSON.stringify(r))},gi=async(s,t)=>{const r=await s.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qr=async(s,t)=>{await s.removeItem(t)};class Ql{constructor(){this.promise=new Ql.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ql.promiseConstructor=Promise;function dh(s){const t=s.split(".");if(t.length!==3)throw new zh("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!oj.test(t[a]))throw new zh("JWT not in base64url format");return{header:JSON.parse(qy(t[0])),payload:JSON.parse(qy(t[1])),signature:yj(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ej(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Tj(s,t){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await s(u);if(!t(u,null,c)){a(c);return}}catch(c){if(!t(u,c)){l(c);return}}})()})}function Aj(s){return("0"+s.toString(16)).substr(-2)}function kj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let u=0;u<56;u++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,Aj).join("")}async function jj(s){const r=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Nj(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await jj(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ws(s,t,r=!1){const a=kj();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await Es(s,`${t}-code-verifier`,l);const u=await Nj(a);return[u,a===u?"plain":"s256"]}const Rj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cj(s){const t=s.headers.get(Bh);if(!t||!t.match(Rj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Oj(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function Dj(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bs(s){if(!Uj.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ph(){const s={};return new Proxy(s,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $y(s){return JSON.parse(JSON.stringify(s))}var Mj=function(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(r[a[l]]=s[a[l]]);return r};const vi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Lj=[502,503,504];async function Gy(s){var t;if(!Sj(s))throw new Ih(vi(s),0);if(Lj.includes(s.status))throw new Ih(vi(s),s.status);let r;try{r=await s.json()}catch(u){throw new ww(vi(u),u)}let a;const l=Cj(s);if(l&&l.getTime()>=vw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Py(vi(r),s.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Py(vi(r),s.status,r.weak_password.reasons);throw new uj(vi(r),s.status||500,a)}const Bj=(s,t,r,a)=>{const l={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function Ze(s,t,r,a){var l;const u=Object.assign({},a==null?void 0:a.headers);u[Bh]||(u[Bh]=vw["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await Ij(s,t,r+f,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function Ij(s,t,r,a,l,u){const c=Bj(t,a,l,u);let f;try{f=await s(r,Object.assign({},c))}catch(d){throw console.error(d),new Ih(vi(d),0)}if(f.ok||await Gy(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(d){await Gy(d)}}function Vn(s){var t;let r=null;Hj(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=bj(s.expires_in)));const a=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:r,user:a},error:null}}function Ky(s){const t=Vn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Gr(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function zj(s){return{data:s,error:null}}function Pj(s){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u}=s,c=Mj(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u},d=Object.assign({},c);return{data:{properties:f,user:d},error:null}}function Fj(s){return s}function Hj(s){return s.access_token&&s.refresh_token&&s.expires_in}const mh=["global","local","others"];var qj=function(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(r[a[l]]=s[a[l]]);return r};class $j{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=_w(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=mh[0]){if(mh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mh.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gr})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=qj(t,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Pj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gr})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,l,u,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},m=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Fj});if(m.error)throw m.error;const b=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(d=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return S.length>0&&(S.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);p[`${O}Page`]=E}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(Ke(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){bs(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gr})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bs(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gr})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){bs(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gr})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){bs(t.userId);try{const{data:r,error:a}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bs(t.userId),bs(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}function Vy(s={}){return{getItem:t=>s[t]||null,setItem:(t,r)=>{s[t]=r},removeItem:t=>{delete s[t]}}}function Gj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xs={debug:!!(globalThis&&xw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Kj extends Sw{}async function Vj(s,t,r){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await r()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(t===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Kj(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(xs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ew(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Wj(s){return parseInt(s,16)}function Yj(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function Xj(s){var t;const{chainId:r,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:d,resources:p,scheme:m,uri:b,version:_}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=Ew(s.address),j=m?`${m}://${a}`:a,E=s.statement?`${s.statement}
`:"",O=`${j} wants you to sign in with your Ethereum account:
${S}

${E}`;let x=`URI: ${b}
Version: ${_}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(x+=`
Expiration Time: ${l.toISOString()}`),f&&(x+=`
Not Before: ${f.toISOString()}`),d&&(x+=`
Request ID: ${d}`),p){let N=`
Resources:`;for(const U of p){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);N+=`
- ${U}`}x+=N}return`${O}
${x}`}Gj();const Zj={url:ij,storageKey:sj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wy(s,t,r){return await r()}const _s={};class Qa{constructor(t){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qa.nextInstanceID,Qa.nextInstanceID+=1,this.instanceID>0&&Cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Zj),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new $j({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=_w(l.fetch),this.lock=l.lock||Wy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Vj:this.lock=Wy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:xw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Vy(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=_s[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_s[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_j(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),Cn()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(r,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),hj(u)){const d=(t=u.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ke(r)?{error:r}:{error:new ww("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,l;try{const u=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Vn}),{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(u){if(Ke(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var r,a,l;try{let u;if("email"in t){const{email:m,password:b,options:_}=t;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await ws(this.storage,this.storageKey)),u=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:m,password:b,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:j},xform:Vn})}else if("phone"in t){const{phone:m,password:b,options:_}=t;u=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:b,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Vn})}else throw new Rl("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(u){if(Ke(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:c,options:f}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ky})}else if("phone"in t){const{phone:u,password:c,options:f}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ky})}else throw new Rl("You must provide either an email or phone number and a password");const{data:a,error:l}=r;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ga}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,a,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,l,u,c,f,d,p,m,b,_;let S,j;if("message"in t)S=t.message,j=t.signature;else{const{chain:E,wallet:O,statement:x,options:N}=t;let U;if(Cn())if(typeof O=="object")U=O;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")U=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=O}const z=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),q=await U.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=Ew(q[0]);let ne=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ne){const L=await U.request({method:"eth_chainId"});ne=Wj(L)}const le={domain:z.host,address:ae,statement:x,uri:z.href,version:"1",chainId:ne,nonce:(l=N==null?void 0:N.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=Xj(le),j=await U.request({method:"personal_sign",params:[Yj(S),ae]})}try{const{data:E,error:O}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Vn});if(O)throw O;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Ga}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:O})}catch(E){if(Ke(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var r,a,l,u,c,f,d,p,m,b,_,S;let j,E;if("message"in t)j=t.message,E=t.signature;else{const{chain:O,wallet:x,statement:N,options:U}=t;let z;if(Cn())if(typeof x=="object")z=x;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))z=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=x}const q=new URL((r=U==null?void 0:U.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const ae=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),N?{statement:N}:null));let ne;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")ne=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)ne=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)j=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),E=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${q.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(l=(a=U==null?void 0:U.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=U==null?void 0:U.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((b=(m=U==null?void 0:U.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||b===void 0)&&b.length?["Resources",...U.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const ae=await z.signMessage(new TextEncoder().encode(j),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=ae}}try{const{data:O,error:x}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:wj(E)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Vn});if(x)throw x;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Ga}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:x})}catch(O){if(Ke(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const r=await gi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:u,error:c}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Vn});if(await qr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ga}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(Ke(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:r,provider:a,token:l,access_token:u,nonce:c}=t,f=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vn}),{data:d,error:p}=f;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ga}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,a,l,u,c;try{if("email"in t){const{email:f,options:d}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ws(this.storage,this.storageKey));const{error:b}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:f,options:d}=t,{data:p,error:m}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=d==null?void 0:d.data)!==null&&l!==void 0?l:{},create_user:(u=d==null?void 0:d.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new Rl("You must provide either an email or phone number.")}catch(f){if(Ke(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,a;try{let l,u;"options"in t&&(l=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Vn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,p=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var r,a,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await ws(this.storage,this.storageKey)),await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:zj})}catch(u){if(Ke(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new $r;const{error:l}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:u}=t,{error:c}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:a,type:l,options:u}=t,{data:c,error:f}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new Rl("You must provide either an email or phone number and a type")}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<fh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await gi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=ph()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,p,m)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,m))})}return{data:{session:t},error:null}}const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gr}):await this._useSession(async r=>{var a,l,u;const{data:c,error:f}=r;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Gr})})}catch(r){if(Ke(r))return fj(r)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new $r;const c=l.session;let f=null,d=null;this.flowType==="pkce"&&t.email!=null&&([f,d]=await ws(this.storage,this.storageKey));const{data:p,error:m}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:d}),jwt:c.access_token,xform:Gr});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let a=r,l=!0,u=null;const{payload:c}=dh(t.access_token);if(c.exp&&(a=c.exp,l=a<=r),l){const{session:f,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:d}=await this._getUser(t.access_token);if(d)throw d;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(Ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Cn())throw new Cl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zy("No code detected.");const{data:N,error:U}=await this._exchangeCodeForSession(t.code);if(U)throw U;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:d,token_type:p}=t;if(!u||!f||!c||!p)throw new Cl("No session defined in URL");const m=Math.round(Date.now()/1e3),b=parseInt(f);let _=m+b;d&&(_=parseInt(d));const S=_-m;S*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const j=_-b;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,m);const{data:E,error:O}=await this._getUser(u);if(O)throw O;const x={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:b,expires_at:_,refresh_token:c,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(a){if(Ke(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return{error:u};const c=(a=l.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(cj(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=xj(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,l;try{const{data:{session:u},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ws(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(Ke(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:a,error:l}=await this._useSession(async u=>{var c,f,d,p,m;const{data:b,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return Cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Ke(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,l;const{data:u,error:c}=r;if(c)throw c;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await Tj(async l=>(l>0&&await Ej(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(l,u)=>{const c=200*Math.pow(2,l);return u&&hh(u)&&Date.now()+c-a<Ss})}catch(a){if(this._debug(r,"error",a),Ke(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),Cn()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await gi(this.storage,this.storageKey);if(l&&this.userStorage){let c=await gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Es(this.userStorage,this.storageKey+"-user",c)),l.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:ph()}else if(l&&!l.user&&!l.user){const c=await gi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await qr(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,l)):l.user=ph()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fh;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${fh}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),hh(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ql;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new $r;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Ke(u)){const c={session:null,error:u};return hh(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,r,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(d){u.push(d)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Es(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const u=$y(l);await Es(this.storage,this.storageKey,u)}else{const l=$y(r);await Es(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Lh} ticks`),l<=Lh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Sw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await ws(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?{data:null,error:u}:await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,l;const{data:u,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:p}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((l=d==null?void 0:d.totp)===null||l===void 0)&&l.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return{data:null,error:u};const{data:c,error:f}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?{data:null,error:u}:await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=(t==null?void 0:t.factors)||[],l=a.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=a.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:a,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,a;const{data:{session:l},error:u}=t;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=dh(l.access_token);let f=null;c.aal&&(f=c.aal);let d=f;((a=(r=l.user.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:f,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(f=>f.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+lj>l)return a;const{data:u,error:c}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:S,error:j}=await this.getSession();if(j||!S.session)return{data:null,error:j};a=S.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:d}}=dh(a);r!=null&&r.allowExpired||Oj(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:S}=await this.getUser(a);if(S)throw S;return{data:{claims:u,header:l,signature:c},error:null}}const m=Dj(l.alg),b=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,c,vj(`${f}.${d}`)))throw new zh("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}}}Qa.nextInstanceID=0;const Qj=Qa;class Jj extends Qj{constructor(t){super(t)}}var eN=function(s,t,r,a){function l(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(m){try{p(a.next(m))}catch(b){c(b)}}function d(m){try{p(a.throw(m))}catch(b){c(b)}}function p(m){m.done?u(m.value):l(m.value).then(f,d)}p((a=a.apply(s,t||[])).next())})};class tN{constructor(t,r,a){var l,u,c;this.supabaseUrl=t,this.supabaseKey=r;const f=rj(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:Vk,realtime:Yk,auth:Object.assign(Object.assign({},Wk),{storageKey:d}),global:Kk},m=nj(a??{},p);this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=Jk(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new uk(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new qk(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new JA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:l,userStorage:u,storageKey:c,flowType:f,lock:d,debug:p},m,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jj({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:l,userStorage:u,flowType:f,lock:d,debug:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ak(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nN=(s,t,r)=>new tN(s,t,r);function rN(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rN()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let gh=null,Yy=null;const yi=(s,t)=>((!gh||Yy!==s)&&(gh=nN(s,t,{auth:{persistSession:!0,autoRefreshToken:!0}}),Yy=s),gh),iN=async s=>{const{data:{session:t},error:r}=await s.auth.getSession();return r?(console.error("Error getting Supabase session:",r.message),null):t},Xy=async(s,t,r)=>{const{data:a,error:l}=await s.auth.signInWithPassword({email:t,password:r});if(l)throw console.error("Supabase sign-in error:",l.message),l;return a.user},sN=async s=>{const{error:t}=await s.auth.signOut();if(t)throw console.error("Supabase sign-out error:",t.message),t},aN=async(s,t)=>{const{data:{user:r}}=await s.auth.getUser();if(!r)throw new Error("User not authenticated for backup.");const{data:a,error:l}=await s.from("project_backups").insert({user_id:r.id,backup_data:t}).select("id, created_at").single();if(l)throw console.error("Supabase backup error:",l),l;return a},oN=async s=>{const{data:t,error:r}=await s.from("project_backups").select("id, created_at, client_name").order("created_at",{ascending:!1});if(r)throw console.error("Supabase fetch backups error:",r),r;return t},lN=async(s,t)=>{const{data:r,error:a}=await s.from("project_backups").select("backup_data").eq("id",t).single();if(a)throw console.error("Supabase get backup data error:",a),a;return r.backup_data},uN=({projects:s,selectedIndex:t,onSelect:r})=>{const[a,l]=ye.useState(!1),u=ye.useRef(null);ye.useEffect(()=>{const d=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const c=d=>{r(d),l(!1)},f=s[t];return w.jsxs("div",{className:"relative",ref:u,children:[w.jsxs("button",{onClick:()=>l(d=>!d),className:"flex items-center justify-between w-64 px-3 py-2 text-left bg-slate-800 border border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":a,"aria-label":`Current project: ${f==null?void 0:f.title}. Click to switch projects.`,children:[w.jsx("span",{className:"truncate text-sm font-medium text-slate-200",children:f==null?void 0:f.title}),w.jsx(nv,{className:"w-4 h-4 text-slate-400 ml-2 flex-shrink-0"})]}),a&&w.jsx("div",{className:"absolute left-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-30",role:"menu",children:w.jsx("div",{className:"p-1",children:s.map((d,p)=>w.jsx("button",{onClick:()=>c(p),className:`w-full text-left px-3 py-2 text-sm rounded-md ${t===p?"bg-indigo-600 text-white":"text-slate-200 hover:bg-slate-700"}`,role:"menuitem",children:d.title},p))})})]})},cN=({scope:s,onScopeChange:t})=>w.jsxs("div",{className:"flex items-center p-1 bg-slate-800 rounded-md border border-slate-700",children:[w.jsx("button",{onClick:()=>t("single"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${s==="single"?"bg-indigo-600 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-pressed":s==="single",children:"Current Project"}),w.jsx("button",{onClick:()=>t("all"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${s==="all"?"bg-indigo-600 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-pressed":s==="all",children:"All Projects"})]}),fN=()=>{const{markdown:s,archiveMarkdown:t,archiveProjects:r,users:a,settings:l,projects:u,setMarkdown:c,setUsers:f,saveSettings:d,handleRequestLocalRestore:p}=_i(),[m,b]=ye.useState("editor"),[_,S]=ye.useState(0),[j,E]=ye.useState("all"),[O,x]=ye.useState(!1),[N,U]=ye.useState(!1),[z,q]=ye.useState(""),[ae,ne]=ye.useState({isOpen:!1,data:null}),[le,L]=ye.useState(!1),[oe,he]=ye.useState(!1),[I,te]=ye.useState(null),[D,re]=ye.useState(!1),[W,X]=ye.useState([]),me=!!(l.supabaseUrl&&l.supabaseAnonKey&&l.supabaseEmail);ye.useEffect(()=>{m!=="archive"&&(_>=u.length&&S(Math.max(0,u.length-1)),U(!1))},[u,_,m]),ye.useEffect(()=>{U(!1)},[j,m]),ye.useEffect(()=>{if(me){const C=yi(l.supabaseUrl,l.supabaseAnonKey);iN(C).then(v=>{he(!!v)});const{data:{subscription:g}}=C.auth.onAuthStateChange((v,T)=>{he(!!T)});return()=>{g.unsubscribe()}}else he(!1)},[me,l.supabaseUrl,l.supabaseAnonKey]);const ue=ye.useMemo(()=>{if(m==="archive")return t;if(j==="single"&&_<u.length){const C=u[_];return s.split(`
`).slice(C.startLine,C.endLine+1).join(`
`)}return s},[s,t,m,j,_,u]),G=ye.useCallback(()=>{q(ue),U(!0)},[ue]),$=ye.useCallback(()=>{if(m==="archive"){alert("Full edit is not available for the archive view."),U(!1);return}if(j==="all")c(z);else{const C=u[_];C&&c(g=>{const v=g.split(`
`),T=v.slice(0,C.startLine),H=v.slice(C.endLine+1),ee=z.split(`
`);return[...T,...ee,...H].join(`
`)})}U(!1)},[z,m,j,_,u,c]),B=ye.useCallback(()=>{U(!1)},[]),Y=u[_]||{title:"Project",groupedTasks:{},unassignedTasks:[],totalCost:0,startLine:0,endLine:0,headings:[]},J=ye.useMemo(()=>{const C=a.reduce((T,H)=>(T[H.alias]={user:H,tasks:[]},T),{}),g=[];let v=0;return u.forEach(T=>{g.push(...T.unassignedTasks),v+=T.totalCost,Object.values(T.groupedTasks).forEach(({user:H,tasks:ee})=>{C[H.alias]&&C[H.alias].tasks.push(...ee)})}),{title:"All Projects",groupedTasks:C,unassignedTasks:g,totalCost:v}},[u,a]),fe=j==="all"?J:Y,Q=ye.useMemo(()=>(j==="all"?u:Y?[Y]:[]).flatMap(v=>[...v.unassignedTasks,...Object.values(v.groupedTasks).flatMap(T=>T.tasks)]).filter(v=>v.dueDate).sort((v,T)=>new Date(v.dueDate).getTime()-new Date(T.dueDate).getTime()),[u,Y,j]),R=ye.useCallback(()=>{if(!ae.data)return;const{markdown:C,archiveMarkdown:g,users:v,settings:T}=ae.data;c(C),g&&console.warn("Restoring archive markdown from backup is not fully implemented in this flow."),f(v),d(T),ne({isOpen:!1,data:null}),alert("Project restored successfully from cloud backup!")},[ae.data,d,c,f]),k=async()=>{if(me){L(!0);try{const C=yi(l.supabaseUrl,l.supabaseAnonKey),{supabaseUrl:g,supabaseAnonKey:v,supabaseEmail:T,...H}=l,V=await aN(C,{markdown:s,archiveMarkdown:t,users:a,settings:H});V&&alert(`Backup successful!
Timestamp: ${new Date(V.created_at).toLocaleString()}`)}catch(C){console.error("Backup failed:",C),alert(`Backup failed: ${C.message||"Unknown error"}`)}finally{L(!1)}}},ie=async()=>{if(me){L(!0);try{const C=yi(l.supabaseUrl,l.supabaseAnonKey),g=await oN(C);g&&(X(g),re(!0))}catch(C){console.error("Fetch backups failed:",C),alert(`Failed to fetch backups: ${C.message||"Unknown error"}`)}finally{L(!1)}}},Z=async C=>{if(me){re(!1),L(!0);try{const g=yi(l.supabaseUrl,l.supabaseAnonKey),v=await lN(g,C);v&&ne({isOpen:!0,data:v})}catch(g){console.error("Restore failed:",g),alert(`Failed to restore: ${g.message||"Unknown error"}`)}finally{L(!1)}}},F=async()=>{oe?await k():te({action:"backup",title:"Authenticate to Backup",onConfirm:async C=>{te(null),L(!0);const g=yi(l.supabaseUrl,l.supabaseAnonKey);try{await Xy(g,l.supabaseEmail,C)?await k():(alert("Login failed."),L(!1))}catch{alert("Login failed."),L(!1)}}})},K=async()=>{oe?await ie():te({action:"restore",title:"Authenticate to Restore",onConfirm:async C=>{te(null),L(!0);const g=yi(l.supabaseUrl,l.supabaseAnonKey);try{await Xy(g,l.supabaseEmail,C)?await ie():(alert("Login failed."),L(!1))}catch{alert("Login failed."),L(!1)}}})},be=async()=>{if(me){L(!0);try{const C=yi(l.supabaseUrl,l.supabaseAnonKey);await sN(C),alert("Signed out successfully.")}catch(C){console.error("Sign out failed:",C),alert(`Sign out failed: ${C.message||"Unknown error"}`)}finally{L(!1)}}},A=()=>{if(N)return`Editing ${j==="all"?"the entire file":`project: ${Y.title}`}.`;const C=j==="all"?"All Projects":Y.title;switch(m){case"editor":return"Hover over a section to edit its content individually.";case"users":return"Manage your team. Changes are saved to the project state.";case"overview":return`Overview of tasks for "${C}".`;case"timeline":return`Task due date timeline for "${C}".`;case"archive":return"Viewing archived sections. Restore a section to make it active again."}},ge=()=>{switch(m){case"editor":case"archive":return N?w.jsx(FA,{content:z,onChange:q,onSave:$,onCancel:B,users:a}):w.jsx(PA,{markdown:ue,projects:m==="archive"?r:u,viewScope:m==="archive"?"all":j,currentProjectIndex:_,isArchiveView:m==="archive"});case"users":return w.jsx(tx,{});case"overview":return w.jsx(Hx,{groupedTasks:fe.groupedTasks,unassignedTasks:fe.unassignedTasks,projectTitle:fe.title,viewScope:j,totalCost:fe.totalCost});case"timeline":return w.jsx(GA,{tasks:Q,viewScope:j})}};return w.jsxs("div",{className:"h-screen bg-slate-900 text-white font-sans flex flex-col overflow-hidden",children:[w.jsxs("header",{className:"py-4 px-8 border-b border-slate-700 bg-slate-900/70 backdrop-blur-sm z-10 flex flex-wrap justify-between items-center gap-4 flex-shrink-0",children:[w.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Interactive Markdown Tasker"}),w.jsx("p",{className:"text-slate-400 text-sm",children:A()})]}),u.length>1&&!N&&m!=="archive"&&w.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[w.jsx(cN,{scope:j,onScopeChange:E}),j==="single"&&w.jsx(uN,{projects:u,selectedIndex:_,onSelect:S})]})]}),w.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[w.jsxs("nav",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>b("editor"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="editor"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Editor"}),w.jsx("button",{onClick:()=>b("overview"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="overview"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Overview"}),w.jsx("button",{onClick:()=>b("timeline"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="timeline"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Timeline"}),w.jsx("button",{onClick:()=>b("users"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="users"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Assignees"}),w.jsx("button",{onClick:()=>b("archive"),className:`px-4 py-2 rounded-md transition-colors font-semibold ${m==="archive"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,children:"Archive"})]}),m==="editor"&&!N&&w.jsxs("button",{onClick:G,className:"px-3 py-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600 flex items-center space-x-2","aria-label":`Edit ${j==="all"?"entire file":"current project"}`,title:`Edit ${j==="all"?"entire file":"current project"}`,children:[w.jsx(Hh,{className:"w-4 h-4"}),w.jsxs("span",{children:["Edit ",j==="all"?"Entire File":"Project"]})]}),w.jsx("div",{className:"w-px h-6 bg-slate-700 mx-2"}),w.jsx("button",{onClick:()=>x(!0),className:"p-2 rounded-md transition-colors font-semibold bg-slate-700 hover:bg-slate-600","aria-label":"Email Settings",title:"Email Settings",children:w.jsx(Ox,{className:"w-5 h-5"})}),w.jsx(KA,{isConfigured:me,isLoading:le,onBackup:F,onRestore:K,isAuthenticated:oe,onSignOut:be}),m!=="archive"&&w.jsx(kA,{viewScope:j,currentProject:Y,isArchiveView:m==="archive"})]})]}),w.jsx("main",{className:"flex-grow overflow-hidden",children:ge()}),w.jsx("footer",{className:"text-center py-4 border-t border-slate-700 text-slate-500 text-sm flex-shrink-0",children:"Interactive Markdown Tasker"}),w.jsx(RA,{isOpen:O,onClose:()=>x(!1)}),w.jsxs(qh,{isOpen:ae.isOpen,onClose:()=>ne({isOpen:!1,data:null}),onConfirm:R,title:"Confirm Restore",confirmText:"Yes, Overwrite Local Project",children:[w.jsx("p",{children:"Are you sure you want to restore this backup?"}),w.jsx("p",{className:"text-sm text-yellow-400 mt-2",children:"This will overwrite your current local project data, including the archive. This action cannot be undone."})]}),I&&w.jsx(VA,{isOpen:!!I,onClose:()=>te(null),onConfirm:I.onConfirm,title:I.title}),w.jsx(WA,{isOpen:D,onClose:()=>re(!1),backups:W,onSelectBackup:Z})]})},Tw=document.getElementById("root");if(!Tw)throw new Error("Could not find root element to mount to");const hN=V1.createRoot(Tw);hN.render(w.jsx(yh.StrictMode,{children:w.jsx(J1,{children:w.jsx(fN,{})})}));
